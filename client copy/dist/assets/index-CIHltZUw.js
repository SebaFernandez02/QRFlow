function ac(e,t){for(var i=0;i<t.length;i++){const a=t[i];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const f=Object.getOwnPropertyDescriptor(a,c);f&&Object.defineProperty(e,c,f.get?f:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();var Go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var y0={exports:{}},ol={},E0={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ps=Symbol.for("react.element"),Ng=Symbol.for("react.portal"),_g=Symbol.for("react.fragment"),Mg=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),Dg=Symbol.for("react.provider"),Og=Symbol.for("react.context"),bg=Symbol.for("react.forward_ref"),Lg=Symbol.for("react.suspense"),kg=Symbol.for("react.memo"),Pg=Symbol.for("react.lazy"),I1=Symbol.iterator;function Bg(e){return e===null||typeof e!="object"?null:(e=I1&&e[I1]||e["@@iterator"],typeof e=="function"?e:null)}var C0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A0=Object.assign,v0={};function Mo(e,t,i){this.props=e,this.context=t,this.refs=v0,this.updater=i||C0}Mo.prototype.isReactComponent={};Mo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function S0(){}S0.prototype=Mo.prototype;function uc(e,t,i){this.props=e,this.context=t,this.refs=v0,this.updater=i||C0}var cc=uc.prototype=new S0;cc.constructor=uc;A0(cc,Mo.prototype);cc.isPureReactComponent=!0;var T1=Array.isArray,I0=Object.prototype.hasOwnProperty,fc={current:null},T0={key:!0,ref:!0,__self:!0,__source:!0};function N0(e,t,i){var a,c={},f=null,g=null;if(t!=null)for(a in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(f=""+t.key),t)I0.call(t,a)&&!T0.hasOwnProperty(a)&&(c[a]=t[a]);var m=arguments.length-2;if(m===1)c.children=i;else if(1<m){for(var w=Array(m),x=0;x<m;x++)w[x]=arguments[x+2];c.children=w}if(e&&e.defaultProps)for(a in m=e.defaultProps,m)c[a]===void 0&&(c[a]=m[a]);return{$$typeof:Ps,type:e,key:f,ref:g,props:c,_owner:fc.current}}function Fg(e,t){return{$$typeof:Ps,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ps}function Ug(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var N1=/\/+/g;function Ll(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ug(""+e.key):t.toString(36)}function xa(e,t,i,a,c){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case Ps:case Ng:g=!0}}if(g)return g=e,c=c(g),e=a===""?"."+Ll(g,0):a,T1(c)?(i="",e!=null&&(i=e.replace(N1,"$&/")+"/"),xa(c,t,i,"",function(x){return x})):c!=null&&(dc(c)&&(c=Fg(c,i+(!c.key||g&&g.key===c.key?"":(""+c.key).replace(N1,"$&/")+"/")+e)),t.push(c)),1;if(g=0,a=a===""?".":a+":",T1(e))for(var m=0;m<e.length;m++){f=e[m];var w=a+Ll(f,m);g+=xa(f,t,i,w,c)}else if(w=Bg(e),typeof w=="function")for(e=w.call(e),m=0;!(f=e.next()).done;)f=f.value,w=a+Ll(f,m++),g+=xa(f,t,i,w,c);else if(f==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function $s(e,t,i){if(e==null)return e;var a=[],c=0;return xa(e,a,"","",function(f){return t.call(i,f,c++)}),a}function zg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mn={current:null},ma={transition:null},jg={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:ma,ReactCurrentOwner:fc};function _0(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:$s,forEach:function(e,t,i){$s(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return $s(e,function(){t++}),t},toArray:function(e){return $s(e,function(t){return t})||[]},only:function(e){if(!dc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=Mo;je.Fragment=_g;je.Profiler=Rg;je.PureComponent=uc;je.StrictMode=Mg;je.Suspense=Lg;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jg;je.act=_0;je.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=A0({},e.props),c=e.key,f=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(f=t.ref,g=fc.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(w in t)I0.call(t,w)&&!T0.hasOwnProperty(w)&&(a[w]=t[w]===void 0&&m!==void 0?m[w]:t[w])}var w=arguments.length-2;if(w===1)a.children=i;else if(1<w){m=Array(w);for(var x=0;x<w;x++)m[x]=arguments[x+2];a.children=m}return{$$typeof:Ps,type:e.type,key:c,ref:f,props:a,_owner:g}};je.createContext=function(e){return e={$$typeof:Og,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dg,_context:e},e.Consumer=e};je.createElement=N0;je.createFactory=function(e){var t=N0.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:bg,render:e}};je.isValidElement=dc;je.lazy=function(e){return{$$typeof:Pg,_payload:{_status:-1,_result:e},_init:zg}};je.memo=function(e,t){return{$$typeof:kg,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=ma.transition;ma.transition={};try{e()}finally{ma.transition=t}};je.unstable_act=_0;je.useCallback=function(e,t){return mn.current.useCallback(e,t)};je.useContext=function(e){return mn.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return mn.current.useDeferredValue(e)};je.useEffect=function(e,t){return mn.current.useEffect(e,t)};je.useId=function(){return mn.current.useId()};je.useImperativeHandle=function(e,t,i){return mn.current.useImperativeHandle(e,t,i)};je.useInsertionEffect=function(e,t){return mn.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return mn.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return mn.current.useMemo(e,t)};je.useReducer=function(e,t,i){return mn.current.useReducer(e,t,i)};je.useRef=function(e){return mn.current.useRef(e)};je.useState=function(e){return mn.current.useState(e)};je.useSyncExternalStore=function(e,t,i){return mn.current.useSyncExternalStore(e,t,i)};je.useTransition=function(){return mn.current.useTransition()};je.version="18.3.1";E0.exports=je;var q=E0.exports;const Hg=lc(q),Vg=ac({__proto__:null,default:Hg},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=q,Gg=Symbol.for("react.element"),Yg=Symbol.for("react.fragment"),Xg=Object.prototype.hasOwnProperty,Zg=Wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qg={key:!0,ref:!0,__self:!0,__source:!0};function M0(e,t,i){var a,c={},f=null,g=null;i!==void 0&&(f=""+i),t.key!==void 0&&(f=""+t.key),t.ref!==void 0&&(g=t.ref);for(a in t)Xg.call(t,a)&&!Qg.hasOwnProperty(a)&&(c[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)c[a]===void 0&&(c[a]=t[a]);return{$$typeof:Gg,type:e,key:f,ref:g,props:c,_owner:Zg.current}}ol.Fragment=Yg;ol.jsx=M0;ol.jsxs=M0;y0.exports=ol;var le=y0.exports,R0={exports:{}},Un={},D0={exports:{}},O0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ae,fe){var ve=ae.length;ae.push(fe);e:for(;0<ve;){var Je=ve-1>>>1,ke=ae[Je];if(0<c(ke,fe))ae[Je]=fe,ae[ve]=ke,ve=Je;else break e}}function i(ae){return ae.length===0?null:ae[0]}function a(ae){if(ae.length===0)return null;var fe=ae[0],ve=ae.pop();if(ve!==fe){ae[0]=ve;e:for(var Je=0,ke=ae.length,_t=ke>>>1;Je<_t;){var $e=2*(Je+1)-1,_n=ae[$e],he=$e+1,rn=ae[he];if(0>c(_n,ve))he<ke&&0>c(rn,_n)?(ae[Je]=rn,ae[he]=ve,Je=he):(ae[Je]=_n,ae[$e]=ve,Je=$e);else if(he<ke&&0>c(rn,ve))ae[Je]=rn,ae[he]=ve,Je=he;else break e}}return fe}function c(ae,fe){var ve=ae.sortIndex-fe.sortIndex;return ve!==0?ve:ae.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var g=Date,m=g.now();e.unstable_now=function(){return g.now()-m}}var w=[],x=[],v=1,A=null,_=3,U=!1,H=!1,B=!1,K=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(ae){for(var fe=i(x);fe!==null;){if(fe.callback===null)a(x);else if(fe.startTime<=ae)a(x),fe.sortIndex=fe.expirationTime,t(w,fe);else break;fe=i(x)}}function F(ae){if(B=!1,M(ae),!H)if(i(w)!==null)H=!0,qe(ee);else{var fe=i(x);fe!==null&&Te(F,fe.startTime-ae)}}function ee(ae,fe){H=!1,B&&(B=!1,D(R),R=-1),U=!0;var ve=_;try{for(M(fe),A=i(w);A!==null&&(!(A.expirationTime>fe)||ae&&!we());){var Je=A.callback;if(typeof Je=="function"){A.callback=null,_=A.priorityLevel;var ke=Je(A.expirationTime<=fe);fe=e.unstable_now(),typeof ke=="function"?A.callback=ke:A===i(w)&&a(w),M(fe)}else a(w);A=i(w)}if(A!==null)var _t=!0;else{var $e=i(x);$e!==null&&Te(F,$e.startTime-fe),_t=!1}return _t}finally{A=null,_=ve,U=!1}}var J=!1,V=null,R=-1,G=5,se=-1;function we(){return!(e.unstable_now()-se<G)}function ce(){if(V!==null){var ae=e.unstable_now();se=ae;var fe=!0;try{fe=V(!0,ae)}finally{fe?Ie():(J=!1,V=null)}}else J=!1}var Ie;if(typeof N=="function")Ie=function(){N(ce)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,X=Le.port2;Le.port1.onmessage=ce,Ie=function(){X.postMessage(null)}}else Ie=function(){K(ce,0)};function qe(ae){V=ae,J||(J=!0,Ie())}function Te(ae,fe){R=K(function(){ae(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ae){ae.callback=null},e.unstable_continueExecution=function(){H||U||(H=!0,qe(ee))},e.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ae?Math.floor(1e3/ae):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return i(w)},e.unstable_next=function(ae){switch(_){case 1:case 2:case 3:var fe=3;break;default:fe=_}var ve=_;_=fe;try{return ae()}finally{_=ve}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ae,fe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ve=_;_=ae;try{return fe()}finally{_=ve}},e.unstable_scheduleCallback=function(ae,fe,ve){var Je=e.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Je+ve:Je):ve=Je,ae){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ve+ke,ae={id:v++,callback:fe,priorityLevel:ae,startTime:ve,expirationTime:ke,sortIndex:-1},ve>Je?(ae.sortIndex=ve,t(x,ae),i(w)===null&&ae===i(x)&&(B?(D(R),R=-1):B=!0,Te(F,ve-Je))):(ae.sortIndex=ke,t(w,ae),H||U||(H=!0,qe(ee))),ae},e.unstable_shouldYield=we,e.unstable_wrapCallback=function(ae){var fe=_;return function(){var ve=_;_=fe;try{return ae.apply(this,arguments)}finally{_=ve}}}})(O0);D0.exports=O0;var Kg=D0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg=q,Fn=Kg;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b0=new Set,ms={};function Ui(e,t){Eo(e,t),Eo(e+"Capture",t)}function Eo(e,t){for(ms[e]=t,e=0;e<t.length;e++)b0.add(t[e])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=Object.prototype.hasOwnProperty,Jg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_1={},M1={};function $g(e){return cu.call(M1,e)?!0:cu.call(_1,e)?!1:Jg.test(e)?M1[e]=!0:(_1[e]=!0,!1)}function e2(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function t2(e,t,i,a){if(t===null||typeof t>"u"||e2(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wn(e,t,i,a,c,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nn[e]=new wn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nn[t]=new wn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nn[e]=new wn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nn[e]=new wn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nn[e]=new wn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nn[e]=new wn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nn[e]=new wn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nn[e]=new wn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nn[e]=new wn(e,5,!1,e.toLowerCase(),null,!1,!1)});var hc=/[\-:]([a-z])/g;function gc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hc,gc);nn[t]=new wn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hc,gc);nn[t]=new wn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hc,gc);nn[t]=new wn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nn[e]=new wn(e,1,!1,e.toLowerCase(),null,!1,!1)});nn.xlinkHref=new wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nn[e]=new wn(e,1,!1,e.toLowerCase(),null,!0,!0)});function pc(e,t,i,a){var c=nn.hasOwnProperty(t)?nn[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t2(t,i,c,a)&&(i=null),a||c===null?$g(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,a=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var kr=qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ea=Symbol.for("react.element"),$i=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),xc=Symbol.for("react.strict_mode"),fu=Symbol.for("react.profiler"),L0=Symbol.for("react.provider"),k0=Symbol.for("react.context"),mc=Symbol.for("react.forward_ref"),du=Symbol.for("react.suspense"),hu=Symbol.for("react.suspense_list"),wc=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),P0=Symbol.for("react.offscreen"),R1=Symbol.iterator;function Yo(e){return e===null||typeof e!="object"?null:(e=R1&&e[R1]||e["@@iterator"],typeof e=="function"?e:null)}var Nt=Object.assign,kl;function rs(e){if(kl===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);kl=t&&t[1]||""}return`
`+kl+e}var Pl=!1;function Bl(e,t){if(!e||Pl)return"";Pl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var a=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){a=x}e.call(t.prototype)}else{try{throw Error()}catch(x){a=x}e()}}catch(x){if(x&&a&&typeof x.stack=="string"){for(var c=x.stack.split(`
`),f=a.stack.split(`
`),g=c.length-1,m=f.length-1;1<=g&&0<=m&&c[g]!==f[m];)m--;for(;1<=g&&0<=m;g--,m--)if(c[g]!==f[m]){if(g!==1||m!==1)do if(g--,m--,0>m||c[g]!==f[m]){var w=`
`+c[g].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=g&&0<=m);break}}}finally{Pl=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?rs(e):""}function n2(e){switch(e.tag){case 5:return rs(e.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 2:case 15:return e=Bl(e.type,!1),e;case 11:return e=Bl(e.type.render,!1),e;case 1:return e=Bl(e.type,!0),e;default:return""}}function gu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case eo:return"Fragment";case $i:return"Portal";case fu:return"Profiler";case xc:return"StrictMode";case du:return"Suspense";case hu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case k0:return(e.displayName||"Context")+".Consumer";case L0:return(e._context.displayName||"Context")+".Provider";case mc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wc:return t=e.displayName||null,t!==null?t:gu(e.type)||"Memo";case Qr:t=e._payload,e=e._init;try{return gu(e(t))}catch{}}return null}function r2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gu(t);case 8:return t===xc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ui(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function B0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function i2(e){var t=B0(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ta(e){e._valueTracker||(e._valueTracker=i2(e))}function F0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=B0(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pu(e,t){var i=t.checked;return Nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function D1(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=ui(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function U0(e,t){t=t.checked,t!=null&&pc(e,"checked",t,!1)}function xu(e,t){U0(e,t);var i=ui(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mu(e,t.type,i):t.hasOwnProperty("defaultValue")&&mu(e,t.type,ui(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function O1(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function mu(e,t,i){(t!=="number"||Ma(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var is=Array.isArray;function go(e,t,i,a){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+ui(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function wu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return Nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function b1(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(te(92));if(is(i)){if(1<i.length)throw Error(te(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ui(i)}}function z0(e,t){var i=ui(t.value),a=ui(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function L1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function j0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?j0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var na,H0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(na=na||document.createElement("div"),na.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=na.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ws(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o2=["Webkit","ms","Moz","O"];Object.keys(ls).forEach(function(e){o2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ls[t]=ls[e]})});function V0(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||ls.hasOwnProperty(e)&&ls[e]?(""+t).trim():t+"px"}function W0(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,c=V0(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,c):e[i]=c}}var s2=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eu(e,t){if(t){if(s2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function Cu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=null;function yc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vu=null,po=null,xo=null;function k1(e){if(e=Us(e)){if(typeof vu!="function")throw Error(te(280));var t=e.stateNode;t&&(t=cl(t),vu(e.stateNode,e.type,t))}}function G0(e){po?xo?xo.push(e):xo=[e]:po=e}function Y0(){if(po){var e=po,t=xo;if(xo=po=null,k1(e),t)for(e=0;e<t.length;e++)k1(t[e])}}function X0(e,t){return e(t)}function Z0(){}var Fl=!1;function Q0(e,t,i){if(Fl)return e(t,i);Fl=!0;try{return X0(e,t,i)}finally{Fl=!1,(po!==null||xo!==null)&&(Z0(),Y0())}}function ys(e,t){var i=e.stateNode;if(i===null)return null;var a=cl(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(te(231,t,typeof i));return i}var Su=!1;if(Rr)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){Su=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{Su=!1}function a2(e,t,i,a,c,f,g,m,w){var x=Array.prototype.slice.call(arguments,3);try{t.apply(i,x)}catch(v){this.onError(v)}}var us=!1,Ra=null,Da=!1,Iu=null,l2={onError:function(e){us=!0,Ra=e}};function u2(e,t,i,a,c,f,g,m,w){us=!1,Ra=null,a2.apply(l2,arguments)}function c2(e,t,i,a,c,f,g,m,w){if(u2.apply(this,arguments),us){if(us){var x=Ra;us=!1,Ra=null}else throw Error(te(198));Da||(Da=!0,Iu=x)}}function zi(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function K0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function P1(e){if(zi(e)!==e)throw Error(te(188))}function f2(e){var t=e.alternate;if(!t){if(t=zi(e),t===null)throw Error(te(188));return t!==e?null:e}for(var i=e,a=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return P1(c),e;if(f===a)return P1(c),t;f=f.sibling}throw Error(te(188))}if(i.return!==a.return)i=c,a=f;else{for(var g=!1,m=c.child;m;){if(m===i){g=!0,i=c,a=f;break}if(m===a){g=!0,a=c,i=f;break}m=m.sibling}if(!g){for(m=f.child;m;){if(m===i){g=!0,i=f,a=c;break}if(m===a){g=!0,a=f,i=c;break}m=m.sibling}if(!g)throw Error(te(189))}}if(i.alternate!==a)throw Error(te(190))}if(i.tag!==3)throw Error(te(188));return i.stateNode.current===i?e:t}function q0(e){return e=f2(e),e!==null?J0(e):null}function J0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=J0(e);if(t!==null)return t;e=e.sibling}return null}var $0=Fn.unstable_scheduleCallback,B1=Fn.unstable_cancelCallback,d2=Fn.unstable_shouldYield,h2=Fn.unstable_requestPaint,bt=Fn.unstable_now,g2=Fn.unstable_getCurrentPriorityLevel,Ec=Fn.unstable_ImmediatePriority,ed=Fn.unstable_UserBlockingPriority,Oa=Fn.unstable_NormalPriority,p2=Fn.unstable_LowPriority,td=Fn.unstable_IdlePriority,sl=null,yr=null;function x2(e){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(sl,e,void 0,(e.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:y2,m2=Math.log,w2=Math.LN2;function y2(e){return e>>>=0,e===0?32:31-(m2(e)/w2|0)|0}var ra=64,ia=4194304;function os(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ba(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,c=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var m=g&~c;m!==0?a=os(m):(f&=g,f!==0&&(a=os(f)))}else g=i&~c,g!==0?a=os(g):f!==0&&(a=os(f));if(a===0)return 0;if(t!==0&&t!==a&&!(t&c)&&(c=a&-a,f=t&-t,c>=f||c===16&&(f&4194240)!==0))return t;if(a&4&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-ar(t),c=1<<i,a|=e[i],t&=~c;return a}function E2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C2(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-ar(f),m=1<<g,w=c[g];w===-1?(!(m&i)||m&a)&&(c[g]=E2(m,t)):w<=t&&(e.expiredLanes|=m),f&=~m}}function Tu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nd(){var e=ra;return ra<<=1,!(ra&4194240)&&(ra=64),e}function Ul(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Bs(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ar(t),e[t]=i}function A2(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-ar(i),f=1<<c;t[c]=0,a[c]=-1,e[c]=-1,i&=~f}}function Cc(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-ar(i),c=1<<a;c&t|e[a]&t&&(e[a]|=t),i&=~c}}var ot=0;function rd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var id,Ac,od,sd,ad,Nu=!1,oa=[],ti=null,ni=null,ri=null,Es=new Map,Cs=new Map,qr=[],v2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F1(e,t){switch(e){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(t.pointerId)}}function Zo(e,t,i,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Us(t),t!==null&&Ac(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function S2(e,t,i,a,c){switch(t){case"focusin":return ti=Zo(ti,e,t,i,a,c),!0;case"dragenter":return ni=Zo(ni,e,t,i,a,c),!0;case"mouseover":return ri=Zo(ri,e,t,i,a,c),!0;case"pointerover":var f=c.pointerId;return Es.set(f,Zo(Es.get(f)||null,e,t,i,a,c)),!0;case"gotpointercapture":return f=c.pointerId,Cs.set(f,Zo(Cs.get(f)||null,e,t,i,a,c)),!0}return!1}function ld(e){var t=Ti(e.target);if(t!==null){var i=zi(t);if(i!==null){if(t=i.tag,t===13){if(t=K0(i),t!==null){e.blockedOn=t,ad(e.priority,function(){od(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=_u(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Au=a,i.target.dispatchEvent(a),Au=null}else return t=Us(i),t!==null&&Ac(t),e.blockedOn=i,!1;t.shift()}return!0}function U1(e,t,i){wa(e)&&i.delete(t)}function I2(){Nu=!1,ti!==null&&wa(ti)&&(ti=null),ni!==null&&wa(ni)&&(ni=null),ri!==null&&wa(ri)&&(ri=null),Es.forEach(U1),Cs.forEach(U1)}function Qo(e,t){e.blockedOn===t&&(e.blockedOn=null,Nu||(Nu=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,I2)))}function As(e){function t(c){return Qo(c,e)}if(0<oa.length){Qo(oa[0],e);for(var i=1;i<oa.length;i++){var a=oa[i];a.blockedOn===e&&(a.blockedOn=null)}}for(ti!==null&&Qo(ti,e),ni!==null&&Qo(ni,e),ri!==null&&Qo(ri,e),Es.forEach(t),Cs.forEach(t),i=0;i<qr.length;i++)a=qr[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<qr.length&&(i=qr[0],i.blockedOn===null);)ld(i),i.blockedOn===null&&qr.shift()}var mo=kr.ReactCurrentBatchConfig,La=!0;function T2(e,t,i,a){var c=ot,f=mo.transition;mo.transition=null;try{ot=1,vc(e,t,i,a)}finally{ot=c,mo.transition=f}}function N2(e,t,i,a){var c=ot,f=mo.transition;mo.transition=null;try{ot=4,vc(e,t,i,a)}finally{ot=c,mo.transition=f}}function vc(e,t,i,a){if(La){var c=_u(e,t,i,a);if(c===null)Ql(e,t,a,ka,i),F1(e,a);else if(S2(c,e,t,i,a))a.stopPropagation();else if(F1(e,a),t&4&&-1<v2.indexOf(e)){for(;c!==null;){var f=Us(c);if(f!==null&&id(f),f=_u(e,t,i,a),f===null&&Ql(e,t,a,ka,i),f===c)break;c=f}c!==null&&a.stopPropagation()}else Ql(e,t,a,null,i)}}var ka=null;function _u(e,t,i,a){if(ka=null,e=yc(a),e=Ti(e),e!==null)if(t=zi(e),t===null)e=null;else if(i=t.tag,i===13){if(e=K0(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ka=e,null}function ud(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g2()){case Ec:return 1;case ed:return 4;case Oa:case p2:return 16;case td:return 536870912;default:return 16}default:return 16}}var $r=null,Sc=null,ya=null;function cd(){if(ya)return ya;var e,t=Sc,i=t.length,a,c="value"in $r?$r.value:$r.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(a=1;a<=g&&t[i-a]===c[f-a];a++);return ya=c.slice(e,1<a?1-a:void 0)}function Ea(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sa(){return!0}function z1(){return!1}function zn(e){function t(i,a,c,f,g){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(i=e[m],this[m]=i?i(f):f[m]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?sa:z1,this.isPropagationStopped=z1,this}return Nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),t}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ic=zn(Ro),Fs=Nt({},Ro,{view:0,detail:0}),_2=zn(Fs),zl,jl,Ko,al=Nt({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ko&&(Ko&&e.type==="mousemove"?(zl=e.screenX-Ko.screenX,jl=e.screenY-Ko.screenY):jl=zl=0,Ko=e),zl)},movementY:function(e){return"movementY"in e?e.movementY:jl}}),j1=zn(al),M2=Nt({},al,{dataTransfer:0}),R2=zn(M2),D2=Nt({},Fs,{relatedTarget:0}),Hl=zn(D2),O2=Nt({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),b2=zn(O2),L2=Nt({},Ro,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),k2=zn(L2),P2=Nt({},Ro,{data:0}),H1=zn(P2),B2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=U2[e])?!!t[e]:!1}function Tc(){return z2}var j2=Nt({},Fs,{key:function(e){if(e.key){var t=B2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ea(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?F2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tc,charCode:function(e){return e.type==="keypress"?Ea(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ea(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),H2=zn(j2),V2=Nt({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V1=zn(V2),W2=Nt({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tc}),G2=zn(W2),Y2=Nt({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),X2=zn(Y2),Z2=Nt({},al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q2=zn(Z2),K2=[9,13,27,32],Nc=Rr&&"CompositionEvent"in window,cs=null;Rr&&"documentMode"in document&&(cs=document.documentMode);var q2=Rr&&"TextEvent"in window&&!cs,fd=Rr&&(!Nc||cs&&8<cs&&11>=cs),W1=" ",G1=!1;function dd(e,t){switch(e){case"keyup":return K2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var to=!1;function J2(e,t){switch(e){case"compositionend":return hd(t);case"keypress":return t.which!==32?null:(G1=!0,W1);case"textInput":return e=t.data,e===W1&&G1?null:e;default:return null}}function $2(e,t){if(to)return e==="compositionend"||!Nc&&dd(e,t)?(e=cd(),ya=Sc=$r=null,to=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fd&&t.locale!=="ko"?null:t.data;default:return null}}var ep={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ep[e.type]:t==="textarea"}function gd(e,t,i,a){G0(a),t=Pa(t,"onChange"),0<t.length&&(i=new Ic("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var fs=null,vs=null;function tp(e){Id(e,0)}function ll(e){var t=io(e);if(F0(t))return e}function np(e,t){if(e==="change")return t}var pd=!1;if(Rr){var Vl;if(Rr){var Wl="oninput"in document;if(!Wl){var X1=document.createElement("div");X1.setAttribute("oninput","return;"),Wl=typeof X1.oninput=="function"}Vl=Wl}else Vl=!1;pd=Vl&&(!document.documentMode||9<document.documentMode)}function Z1(){fs&&(fs.detachEvent("onpropertychange",xd),vs=fs=null)}function xd(e){if(e.propertyName==="value"&&ll(vs)){var t=[];gd(t,vs,e,yc(e)),Q0(tp,t)}}function rp(e,t,i){e==="focusin"?(Z1(),fs=t,vs=i,fs.attachEvent("onpropertychange",xd)):e==="focusout"&&Z1()}function ip(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ll(vs)}function op(e,t){if(e==="click")return ll(t)}function sp(e,t){if(e==="input"||e==="change")return ll(t)}function ap(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ur=typeof Object.is=="function"?Object.is:ap;function Ss(e,t){if(ur(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!cu.call(t,c)||!ur(e[c],t[c]))return!1}return!0}function Q1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function K1(e,t){var i=Q1(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Q1(i)}}function md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wd(){for(var e=window,t=Ma();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ma(e.document)}return t}function _c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lp(e){var t=wd(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&md(i.ownerDocument.documentElement,i)){if(a!==null&&_c(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!e.extend&&f>a&&(c=a,a=f,f=c),c=K1(i,f);var g=K1(i,a);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var up=Rr&&"documentMode"in document&&11>=document.documentMode,no=null,Mu=null,ds=null,Ru=!1;function q1(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ru||no==null||no!==Ma(a)||(a=no,"selectionStart"in a&&_c(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ds&&Ss(ds,a)||(ds=a,a=Pa(Mu,"onSelect"),0<a.length&&(t=new Ic("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=no)))}function aa(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ro={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionend:aa("Transition","TransitionEnd")},Gl={},yd={};Rr&&(yd=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function ul(e){if(Gl[e])return Gl[e];if(!ro[e])return e;var t=ro[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in yd)return Gl[e]=t[i];return e}var Ed=ul("animationend"),Cd=ul("animationiteration"),Ad=ul("animationstart"),vd=ul("transitionend"),Sd=new Map,J1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(e,t){Sd.set(e,t),Ui(t,[e])}for(var Yl=0;Yl<J1.length;Yl++){var Xl=J1[Yl],cp=Xl.toLowerCase(),fp=Xl[0].toUpperCase()+Xl.slice(1);di(cp,"on"+fp)}di(Ed,"onAnimationEnd");di(Cd,"onAnimationIteration");di(Ad,"onAnimationStart");di("dblclick","onDoubleClick");di("focusin","onFocus");di("focusout","onBlur");di(vd,"onTransitionEnd");Eo("onMouseEnter",["mouseout","mouseover"]);Eo("onMouseLeave",["mouseout","mouseover"]);Eo("onPointerEnter",["pointerout","pointerover"]);Eo("onPointerLeave",["pointerout","pointerover"]);Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function $1(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,c2(a,t,void 0,e),e.currentTarget=null}function Id(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var g=a.length-1;0<=g;g--){var m=a[g],w=m.instance,x=m.currentTarget;if(m=m.listener,w!==f&&c.isPropagationStopped())break e;$1(c,m,x),f=w}else for(g=0;g<a.length;g++){if(m=a[g],w=m.instance,x=m.currentTarget,m=m.listener,w!==f&&c.isPropagationStopped())break e;$1(c,m,x),f=w}}}if(Da)throw e=Iu,Da=!1,Iu=null,e}function wt(e,t){var i=t[ku];i===void 0&&(i=t[ku]=new Set);var a=e+"__bubble";i.has(a)||(Td(t,e,2,!1),i.add(a))}function Zl(e,t,i){var a=0;t&&(a|=4),Td(i,e,a,t)}var la="_reactListening"+Math.random().toString(36).slice(2);function Is(e){if(!e[la]){e[la]=!0,b0.forEach(function(i){i!=="selectionchange"&&(dp.has(i)||Zl(i,!1,e),Zl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[la]||(t[la]=!0,Zl("selectionchange",!1,t))}}function Td(e,t,i,a){switch(ud(t)){case 1:var c=T2;break;case 4:c=N2;break;default:c=vc}i=c.bind(null,t,i,e),c=void 0,!Su||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Ql(e,t,i,a,c){var f=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var m=a.stateNode.containerInfo;if(m===c||m.nodeType===8&&m.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var w=g.tag;if((w===3||w===4)&&(w=g.stateNode.containerInfo,w===c||w.nodeType===8&&w.parentNode===c))return;g=g.return}for(;m!==null;){if(g=Ti(m),g===null)return;if(w=g.tag,w===5||w===6){a=f=g;continue e}m=m.parentNode}}a=a.return}Q0(function(){var x=f,v=yc(i),A=[];e:{var _=Sd.get(e);if(_!==void 0){var U=Ic,H=e;switch(e){case"keypress":if(Ea(i)===0)break e;case"keydown":case"keyup":U=H2;break;case"focusin":H="focus",U=Hl;break;case"focusout":H="blur",U=Hl;break;case"beforeblur":case"afterblur":U=Hl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=j1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=R2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=G2;break;case Ed:case Cd:case Ad:U=b2;break;case vd:U=X2;break;case"scroll":U=_2;break;case"wheel":U=Q2;break;case"copy":case"cut":case"paste":U=k2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=V1}var B=(t&4)!==0,K=!B&&e==="scroll",D=B?_!==null?_+"Capture":null:_;B=[];for(var N=x,M;N!==null;){M=N;var F=M.stateNode;if(M.tag===5&&F!==null&&(M=F,D!==null&&(F=ys(N,D),F!=null&&B.push(Ts(N,F,M)))),K)break;N=N.return}0<B.length&&(_=new U(_,H,null,i,v),A.push({event:_,listeners:B}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",_&&i!==Au&&(H=i.relatedTarget||i.fromElement)&&(Ti(H)||H[Dr]))break e;if((U||_)&&(_=v.window===v?v:(_=v.ownerDocument)?_.defaultView||_.parentWindow:window,U?(H=i.relatedTarget||i.toElement,U=x,H=H?Ti(H):null,H!==null&&(K=zi(H),H!==K||H.tag!==5&&H.tag!==6)&&(H=null)):(U=null,H=x),U!==H)){if(B=j1,F="onMouseLeave",D="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(B=V1,F="onPointerLeave",D="onPointerEnter",N="pointer"),K=U==null?_:io(U),M=H==null?_:io(H),_=new B(F,N+"leave",U,i,v),_.target=K,_.relatedTarget=M,F=null,Ti(v)===x&&(B=new B(D,N+"enter",H,i,v),B.target=M,B.relatedTarget=K,F=B),K=F,U&&H)t:{for(B=U,D=H,N=0,M=B;M;M=qi(M))N++;for(M=0,F=D;F;F=qi(F))M++;for(;0<N-M;)B=qi(B),N--;for(;0<M-N;)D=qi(D),M--;for(;N--;){if(B===D||D!==null&&B===D.alternate)break t;B=qi(B),D=qi(D)}B=null}else B=null;U!==null&&ef(A,_,U,B,!1),H!==null&&K!==null&&ef(A,K,H,B,!0)}}e:{if(_=x?io(x):window,U=_.nodeName&&_.nodeName.toLowerCase(),U==="select"||U==="input"&&_.type==="file")var ee=np;else if(Y1(_))if(pd)ee=sp;else{ee=ip;var J=rp}else(U=_.nodeName)&&U.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(ee=op);if(ee&&(ee=ee(e,x))){gd(A,ee,i,v);break e}J&&J(e,_,x),e==="focusout"&&(J=_._wrapperState)&&J.controlled&&_.type==="number"&&mu(_,"number",_.value)}switch(J=x?io(x):window,e){case"focusin":(Y1(J)||J.contentEditable==="true")&&(no=J,Mu=x,ds=null);break;case"focusout":ds=Mu=no=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,q1(A,i,v);break;case"selectionchange":if(up)break;case"keydown":case"keyup":q1(A,i,v)}var V;if(Nc)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else to?dd(e,i)&&(R="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(R="onCompositionStart");R&&(fd&&i.locale!=="ko"&&(to||R!=="onCompositionStart"?R==="onCompositionEnd"&&to&&(V=cd()):($r=v,Sc="value"in $r?$r.value:$r.textContent,to=!0)),J=Pa(x,R),0<J.length&&(R=new H1(R,e,null,i,v),A.push({event:R,listeners:J}),V?R.data=V:(V=hd(i),V!==null&&(R.data=V)))),(V=q2?J2(e,i):$2(e,i))&&(x=Pa(x,"onBeforeInput"),0<x.length&&(v=new H1("onBeforeInput","beforeinput",null,i,v),A.push({event:v,listeners:x}),v.data=V))}Id(A,t)})}function Ts(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Pa(e,t){for(var i=t+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=ys(e,i),f!=null&&a.unshift(Ts(e,f,c)),f=ys(e,t),f!=null&&a.push(Ts(e,f,c))),e=e.return}return a}function qi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ef(e,t,i,a,c){for(var f=t._reactName,g=[];i!==null&&i!==a;){var m=i,w=m.alternate,x=m.stateNode;if(w!==null&&w===a)break;m.tag===5&&x!==null&&(m=x,c?(w=ys(i,f),w!=null&&g.unshift(Ts(i,w,m))):c||(w=ys(i,f),w!=null&&g.push(Ts(i,w,m)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var hp=/\r\n?/g,gp=/\u0000|\uFFFD/g;function tf(e){return(typeof e=="string"?e:""+e).replace(hp,`
`).replace(gp,"")}function ua(e,t,i){if(t=tf(t),tf(e)!==t&&i)throw Error(te(425))}function Ba(){}var Du=null,Ou=null;function bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lu=typeof setTimeout=="function"?setTimeout:void 0,pp=typeof clearTimeout=="function"?clearTimeout:void 0,nf=typeof Promise=="function"?Promise:void 0,xp=typeof queueMicrotask=="function"?queueMicrotask:typeof nf<"u"?function(e){return nf.resolve(null).then(e).catch(mp)}:Lu;function mp(e){setTimeout(function(){throw e})}function Kl(e,t){var i=t,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(a===0){e.removeChild(c),As(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=c}while(i);As(t)}function ii(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Do=Math.random().toString(36).slice(2),wr="__reactFiber$"+Do,Ns="__reactProps$"+Do,Dr="__reactContainer$"+Do,ku="__reactEvents$"+Do,wp="__reactListeners$"+Do,yp="__reactHandles$"+Do;function Ti(e){var t=e[wr];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Dr]||i[wr]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=rf(e);e!==null;){if(i=e[wr])return i;e=rf(e)}return t}e=i,i=e.parentNode}return null}function Us(e){return e=e[wr]||e[Dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function io(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function cl(e){return e[Ns]||null}var Pu=[],oo=-1;function hi(e){return{current:e}}function Et(e){0>oo||(e.current=Pu[oo],Pu[oo]=null,oo--)}function gt(e,t){oo++,Pu[oo]=e.current,e.current=t}var ci={},fn=hi(ci),In=hi(!1),bi=ci;function Co(e,t){var i=e.type.contextTypes;if(!i)return ci;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function Tn(e){return e=e.childContextTypes,e!=null}function Fa(){Et(In),Et(fn)}function of(e,t,i){if(fn.current!==ci)throw Error(te(168));gt(fn,t),gt(In,i)}function Nd(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(te(108,r2(e)||"Unknown",c));return Nt({},i,a)}function Ua(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,bi=fn.current,gt(fn,e),gt(In,In.current),!0}function sf(e,t,i){var a=e.stateNode;if(!a)throw Error(te(169));i?(e=Nd(e,t,bi),a.__reactInternalMemoizedMergedChildContext=e,Et(In),Et(fn),gt(fn,e)):Et(In),gt(In,i)}var Sr=null,fl=!1,ql=!1;function _d(e){Sr===null?Sr=[e]:Sr.push(e)}function Ep(e){fl=!0,_d(e)}function gi(){if(!ql&&Sr!==null){ql=!0;var e=0,t=ot;try{var i=Sr;for(ot=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Sr=null,fl=!1}catch(c){throw Sr!==null&&(Sr=Sr.slice(e+1)),$0(Ec,gi),c}finally{ot=t,ql=!1}}return null}var so=[],ao=0,za=null,ja=0,Gn=[],Yn=0,Li=null,Ir=1,Tr="";function vi(e,t){so[ao++]=ja,so[ao++]=za,za=e,ja=t}function Md(e,t,i){Gn[Yn++]=Ir,Gn[Yn++]=Tr,Gn[Yn++]=Li,Li=e;var a=Ir;e=Tr;var c=32-ar(a)-1;a&=~(1<<c),i+=1;var f=32-ar(t)+c;if(30<f){var g=c-c%5;f=(a&(1<<g)-1).toString(32),a>>=g,c-=g,Ir=1<<32-ar(t)+c|i<<c|a,Tr=f+e}else Ir=1<<f|i<<c|a,Tr=e}function Mc(e){e.return!==null&&(vi(e,1),Md(e,1,0))}function Rc(e){for(;e===za;)za=so[--ao],so[ao]=null,ja=so[--ao],so[ao]=null;for(;e===Li;)Li=Gn[--Yn],Gn[Yn]=null,Tr=Gn[--Yn],Gn[Yn]=null,Ir=Gn[--Yn],Gn[Yn]=null}var Bn=null,Pn=null,Ct=!1,sr=null;function Rd(e,t){var i=Xn(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function af(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bn=e,Pn=ii(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bn=e,Pn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Li!==null?{id:Ir,overflow:Tr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Xn(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Bn=e,Pn=null,!0):!1;default:return!1}}function Bu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fu(e){if(Ct){var t=Pn;if(t){var i=t;if(!af(e,t)){if(Bu(e))throw Error(te(418));t=ii(i.nextSibling);var a=Bn;t&&af(e,t)?Rd(a,i):(e.flags=e.flags&-4097|2,Ct=!1,Bn=e)}}else{if(Bu(e))throw Error(te(418));e.flags=e.flags&-4097|2,Ct=!1,Bn=e}}}function lf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bn=e}function ca(e){if(e!==Bn)return!1;if(!Ct)return lf(e),Ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bu(e.type,e.memoizedProps)),t&&(t=Pn)){if(Bu(e))throw Dd(),Error(te(418));for(;t;)Rd(e,t),t=ii(t.nextSibling)}if(lf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Pn=ii(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Pn=null}}else Pn=Bn?ii(e.stateNode.nextSibling):null;return!0}function Dd(){for(var e=Pn;e;)e=ii(e.nextSibling)}function Ao(){Pn=Bn=null,Ct=!1}function Dc(e){sr===null?sr=[e]:sr.push(e)}var Cp=kr.ReactCurrentBatchConfig;function qo(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(te(309));var a=i.stateNode}if(!a)throw Error(te(147,e));var c=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var m=c.refs;g===null?delete m[f]:m[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(te(284));if(!i._owner)throw Error(te(290,e))}return e}function fa(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uf(e){var t=e._init;return t(e._payload)}function Od(e){function t(D,N){if(e){var M=D.deletions;M===null?(D.deletions=[N],D.flags|=16):M.push(N)}}function i(D,N){if(!e)return null;for(;N!==null;)t(D,N),N=N.sibling;return null}function a(D,N){for(D=new Map;N!==null;)N.key!==null?D.set(N.key,N):D.set(N.index,N),N=N.sibling;return D}function c(D,N){return D=li(D,N),D.index=0,D.sibling=null,D}function f(D,N,M){return D.index=M,e?(M=D.alternate,M!==null?(M=M.index,M<N?(D.flags|=2,N):M):(D.flags|=2,N)):(D.flags|=1048576,N)}function g(D){return e&&D.alternate===null&&(D.flags|=2),D}function m(D,N,M,F){return N===null||N.tag!==6?(N=iu(M,D.mode,F),N.return=D,N):(N=c(N,M),N.return=D,N)}function w(D,N,M,F){var ee=M.type;return ee===eo?v(D,N,M.props.children,F,M.key):N!==null&&(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Qr&&uf(ee)===N.type)?(F=c(N,M.props),F.ref=qo(D,N,M),F.return=D,F):(F=Na(M.type,M.key,M.props,null,D.mode,F),F.ref=qo(D,N,M),F.return=D,F)}function x(D,N,M,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==M.containerInfo||N.stateNode.implementation!==M.implementation?(N=ou(M,D.mode,F),N.return=D,N):(N=c(N,M.children||[]),N.return=D,N)}function v(D,N,M,F,ee){return N===null||N.tag!==7?(N=Oi(M,D.mode,F,ee),N.return=D,N):(N=c(N,M),N.return=D,N)}function A(D,N,M){if(typeof N=="string"&&N!==""||typeof N=="number")return N=iu(""+N,D.mode,M),N.return=D,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ea:return M=Na(N.type,N.key,N.props,null,D.mode,M),M.ref=qo(D,null,N),M.return=D,M;case $i:return N=ou(N,D.mode,M),N.return=D,N;case Qr:var F=N._init;return A(D,F(N._payload),M)}if(is(N)||Yo(N))return N=Oi(N,D.mode,M,null),N.return=D,N;fa(D,N)}return null}function _(D,N,M,F){var ee=N!==null?N.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ee!==null?null:m(D,N,""+M,F);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ea:return M.key===ee?w(D,N,M,F):null;case $i:return M.key===ee?x(D,N,M,F):null;case Qr:return ee=M._init,_(D,N,ee(M._payload),F)}if(is(M)||Yo(M))return ee!==null?null:v(D,N,M,F,null);fa(D,M)}return null}function U(D,N,M,F,ee){if(typeof F=="string"&&F!==""||typeof F=="number")return D=D.get(M)||null,m(N,D,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ea:return D=D.get(F.key===null?M:F.key)||null,w(N,D,F,ee);case $i:return D=D.get(F.key===null?M:F.key)||null,x(N,D,F,ee);case Qr:var J=F._init;return U(D,N,M,J(F._payload),ee)}if(is(F)||Yo(F))return D=D.get(M)||null,v(N,D,F,ee,null);fa(N,F)}return null}function H(D,N,M,F){for(var ee=null,J=null,V=N,R=N=0,G=null;V!==null&&R<M.length;R++){V.index>R?(G=V,V=null):G=V.sibling;var se=_(D,V,M[R],F);if(se===null){V===null&&(V=G);break}e&&V&&se.alternate===null&&t(D,V),N=f(se,N,R),J===null?ee=se:J.sibling=se,J=se,V=G}if(R===M.length)return i(D,V),Ct&&vi(D,R),ee;if(V===null){for(;R<M.length;R++)V=A(D,M[R],F),V!==null&&(N=f(V,N,R),J===null?ee=V:J.sibling=V,J=V);return Ct&&vi(D,R),ee}for(V=a(D,V);R<M.length;R++)G=U(V,D,R,M[R],F),G!==null&&(e&&G.alternate!==null&&V.delete(G.key===null?R:G.key),N=f(G,N,R),J===null?ee=G:J.sibling=G,J=G);return e&&V.forEach(function(we){return t(D,we)}),Ct&&vi(D,R),ee}function B(D,N,M,F){var ee=Yo(M);if(typeof ee!="function")throw Error(te(150));if(M=ee.call(M),M==null)throw Error(te(151));for(var J=ee=null,V=N,R=N=0,G=null,se=M.next();V!==null&&!se.done;R++,se=M.next()){V.index>R?(G=V,V=null):G=V.sibling;var we=_(D,V,se.value,F);if(we===null){V===null&&(V=G);break}e&&V&&we.alternate===null&&t(D,V),N=f(we,N,R),J===null?ee=we:J.sibling=we,J=we,V=G}if(se.done)return i(D,V),Ct&&vi(D,R),ee;if(V===null){for(;!se.done;R++,se=M.next())se=A(D,se.value,F),se!==null&&(N=f(se,N,R),J===null?ee=se:J.sibling=se,J=se);return Ct&&vi(D,R),ee}for(V=a(D,V);!se.done;R++,se=M.next())se=U(V,D,R,se.value,F),se!==null&&(e&&se.alternate!==null&&V.delete(se.key===null?R:se.key),N=f(se,N,R),J===null?ee=se:J.sibling=se,J=se);return e&&V.forEach(function(ce){return t(D,ce)}),Ct&&vi(D,R),ee}function K(D,N,M,F){if(typeof M=="object"&&M!==null&&M.type===eo&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case ea:e:{for(var ee=M.key,J=N;J!==null;){if(J.key===ee){if(ee=M.type,ee===eo){if(J.tag===7){i(D,J.sibling),N=c(J,M.props.children),N.return=D,D=N;break e}}else if(J.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Qr&&uf(ee)===J.type){i(D,J.sibling),N=c(J,M.props),N.ref=qo(D,J,M),N.return=D,D=N;break e}i(D,J);break}else t(D,J);J=J.sibling}M.type===eo?(N=Oi(M.props.children,D.mode,F,M.key),N.return=D,D=N):(F=Na(M.type,M.key,M.props,null,D.mode,F),F.ref=qo(D,N,M),F.return=D,D=F)}return g(D);case $i:e:{for(J=M.key;N!==null;){if(N.key===J)if(N.tag===4&&N.stateNode.containerInfo===M.containerInfo&&N.stateNode.implementation===M.implementation){i(D,N.sibling),N=c(N,M.children||[]),N.return=D,D=N;break e}else{i(D,N);break}else t(D,N);N=N.sibling}N=ou(M,D.mode,F),N.return=D,D=N}return g(D);case Qr:return J=M._init,K(D,N,J(M._payload),F)}if(is(M))return H(D,N,M,F);if(Yo(M))return B(D,N,M,F);fa(D,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,N!==null&&N.tag===6?(i(D,N.sibling),N=c(N,M),N.return=D,D=N):(i(D,N),N=iu(M,D.mode,F),N.return=D,D=N),g(D)):i(D,N)}return K}var vo=Od(!0),bd=Od(!1),Ha=hi(null),Va=null,lo=null,Oc=null;function bc(){Oc=lo=Va=null}function Lc(e){var t=Ha.current;Et(Ha),e._currentValue=t}function Uu(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function wo(e,t){Va=e,Oc=lo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Sn=!0),e.firstContext=null)}function Qn(e){var t=e._currentValue;if(Oc!==e)if(e={context:e,memoizedValue:t,next:null},lo===null){if(Va===null)throw Error(te(308));lo=e,Va.dependencies={lanes:0,firstContext:e}}else lo=lo.next=e;return t}var Ni=null;function kc(e){Ni===null?Ni=[e]:Ni.push(e)}function Ld(e,t,i,a){var c=t.interleaved;return c===null?(i.next=i,kc(t)):(i.next=c.next,c.next=i),t.interleaved=i,Or(e,a)}function Or(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Kr=!1;function Pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oi(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Ke&2){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,Or(e,i)}return c=a.interleaved,c===null?(t.next=t,kc(a)):(t.next=c.next,c.next=t),a.interleaved=t,Or(e,i)}function Ca(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Cc(e,i)}}function cf(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Wa(e,t,i,a){var c=e.updateQueue;Kr=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,m=c.shared.pending;if(m!==null){c.shared.pending=null;var w=m,x=w.next;w.next=null,g===null?f=x:g.next=x,g=w;var v=e.alternate;v!==null&&(v=v.updateQueue,m=v.lastBaseUpdate,m!==g&&(m===null?v.firstBaseUpdate=x:m.next=x,v.lastBaseUpdate=w))}if(f!==null){var A=c.baseState;g=0,v=x=w=null,m=f;do{var _=m.lane,U=m.eventTime;if((a&_)===_){v!==null&&(v=v.next={eventTime:U,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var H=e,B=m;switch(_=t,U=i,B.tag){case 1:if(H=B.payload,typeof H=="function"){A=H.call(U,A,_);break e}A=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=B.payload,_=typeof H=="function"?H.call(U,A,_):H,_==null)break e;A=Nt({},A,_);break e;case 2:Kr=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,_=c.effects,_===null?c.effects=[m]:_.push(m))}else U={eventTime:U,lane:_,tag:m.tag,payload:m.payload,callback:m.callback,next:null},v===null?(x=v=U,w=A):v=v.next=U,g|=_;if(m=m.next,m===null){if(m=c.shared.pending,m===null)break;_=m,m=_.next,_.next=null,c.lastBaseUpdate=_,c.shared.pending=null}}while(!0);if(v===null&&(w=A),c.baseState=w,c.firstBaseUpdate=x,c.lastBaseUpdate=v,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else f===null&&(c.shared.lanes=0);Pi|=g,e.lanes=g,e.memoizedState=A}}function ff(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=i,typeof c!="function")throw Error(te(191,c));c.call(a)}}}var zs={},Er=hi(zs),_s=hi(zs),Ms=hi(zs);function _i(e){if(e===zs)throw Error(te(174));return e}function Bc(e,t){switch(gt(Ms,t),gt(_s,e),gt(Er,zs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yu(t,e)}Et(Er),gt(Er,t)}function So(){Et(Er),Et(_s),Et(Ms)}function Pd(e){_i(Ms.current);var t=_i(Er.current),i=yu(t,e.type);t!==i&&(gt(_s,e),gt(Er,i))}function Fc(e){_s.current===e&&(Et(Er),Et(_s))}var It=hi(0);function Ga(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jl=[];function Uc(){for(var e=0;e<Jl.length;e++)Jl[e]._workInProgressVersionPrimary=null;Jl.length=0}var Aa=kr.ReactCurrentDispatcher,$l=kr.ReactCurrentBatchConfig,ki=0,Tt=null,jt=null,Yt=null,Ya=!1,hs=!1,Rs=0,Ap=0;function ln(){throw Error(te(321))}function zc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!ur(e[i],t[i]))return!1;return!0}function jc(e,t,i,a,c,f){if(ki=f,Tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Aa.current=e===null||e.memoizedState===null?Tp:Np,e=i(a,c),hs){f=0;do{if(hs=!1,Rs=0,25<=f)throw Error(te(301));f+=1,Yt=jt=null,t.updateQueue=null,Aa.current=_p,e=i(a,c)}while(hs)}if(Aa.current=Xa,t=jt!==null&&jt.next!==null,ki=0,Yt=jt=Tt=null,Ya=!1,t)throw Error(te(300));return e}function Hc(){var e=Rs!==0;return Rs=0,e}function xr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Tt.memoizedState=Yt=e:Yt=Yt.next=e,Yt}function Kn(){if(jt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=Yt===null?Tt.memoizedState:Yt.next;if(t!==null)Yt=t,jt=e;else{if(e===null)throw Error(te(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Yt===null?Tt.memoizedState=Yt=e:Yt=Yt.next=e}return Yt}function Ds(e,t){return typeof t=="function"?t(e):t}function eu(e){var t=Kn(),i=t.queue;if(i===null)throw Error(te(311));i.lastRenderedReducer=e;var a=jt,c=a.baseQueue,f=i.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}a.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,a=a.baseState;var m=g=null,w=null,x=f;do{var v=x.lane;if((ki&v)===v)w!==null&&(w=w.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),a=x.hasEagerState?x.eagerState:e(a,x.action);else{var A={lane:v,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};w===null?(m=w=A,g=a):w=w.next=A,Tt.lanes|=v,Pi|=v}x=x.next}while(x!==null&&x!==f);w===null?g=a:w.next=m,ur(a,t.memoizedState)||(Sn=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=w,i.lastRenderedState=a}if(e=i.interleaved,e!==null){c=e;do f=c.lane,Tt.lanes|=f,Pi|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function tu(e){var t=Kn(),i=t.queue;if(i===null)throw Error(te(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);ur(f,t.memoizedState)||(Sn=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,a]}function Bd(){}function Fd(e,t){var i=Tt,a=Kn(),c=t(),f=!ur(a.memoizedState,c);if(f&&(a.memoizedState=c,Sn=!0),a=a.queue,Vc(jd.bind(null,i,a,e),[e]),a.getSnapshot!==t||f||Yt!==null&&Yt.memoizedState.tag&1){if(i.flags|=2048,Os(9,zd.bind(null,i,a,c,t),void 0,null),Xt===null)throw Error(te(349));ki&30||Ud(i,t,c)}return c}function Ud(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Tt.updateQueue,t===null?(t={lastEffect:null,stores:null},Tt.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function zd(e,t,i,a){t.value=i,t.getSnapshot=a,Hd(t)&&Vd(e)}function jd(e,t,i){return i(function(){Hd(t)&&Vd(e)})}function Hd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!ur(e,i)}catch{return!0}}function Vd(e){var t=Or(e,1);t!==null&&lr(t,e,1,-1)}function df(e){var t=xr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:e},t.queue=e,e=e.dispatch=Ip.bind(null,Tt,e),[t.memoizedState,e]}function Os(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=Tt.updateQueue,t===null?(t={lastEffect:null,stores:null},Tt.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function Wd(){return Kn().memoizedState}function va(e,t,i,a){var c=xr();Tt.flags|=e,c.memoizedState=Os(1|t,i,void 0,a===void 0?null:a)}function dl(e,t,i,a){var c=Kn();a=a===void 0?null:a;var f=void 0;if(jt!==null){var g=jt.memoizedState;if(f=g.destroy,a!==null&&zc(a,g.deps)){c.memoizedState=Os(t,i,f,a);return}}Tt.flags|=e,c.memoizedState=Os(1|t,i,f,a)}function hf(e,t){return va(8390656,8,e,t)}function Vc(e,t){return dl(2048,8,e,t)}function Gd(e,t){return dl(4,2,e,t)}function Yd(e,t){return dl(4,4,e,t)}function Xd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zd(e,t,i){return i=i!=null?i.concat([e]):null,dl(4,4,Xd.bind(null,t,e),i)}function Wc(){}function Qd(e,t){var i=Kn();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&zc(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Kd(e,t){var i=Kn();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&zc(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function qd(e,t,i){return ki&21?(ur(i,t)||(i=nd(),Tt.lanes|=i,Pi|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Sn=!0),e.memoizedState=i)}function vp(e,t){var i=ot;ot=i!==0&&4>i?i:4,e(!0);var a=$l.transition;$l.transition={};try{e(!1),t()}finally{ot=i,$l.transition=a}}function Jd(){return Kn().memoizedState}function Sp(e,t,i){var a=ai(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},$d(e))eh(t,i);else if(i=Ld(e,t,i,a),i!==null){var c=xn();lr(i,e,a,c),th(i,t,a)}}function Ip(e,t,i){var a=ai(e),c={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if($d(e))eh(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,m=f(g,i);if(c.hasEagerState=!0,c.eagerState=m,ur(m,g)){var w=t.interleaved;w===null?(c.next=c,kc(t)):(c.next=w.next,w.next=c),t.interleaved=c;return}}catch{}finally{}i=Ld(e,t,c,a),i!==null&&(c=xn(),lr(i,e,a,c),th(i,t,a))}}function $d(e){var t=e.alternate;return e===Tt||t!==null&&t===Tt}function eh(e,t){hs=Ya=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function th(e,t,i){if(i&4194240){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Cc(e,i)}}var Xa={readContext:Qn,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},Tp={readContext:Qn,useCallback:function(e,t){return xr().memoizedState=[e,t===void 0?null:t],e},useContext:Qn,useEffect:hf,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,va(4194308,4,Xd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return va(4194308,4,e,t)},useInsertionEffect:function(e,t){return va(4,2,e,t)},useMemo:function(e,t){var i=xr();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=xr();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Sp.bind(null,Tt,e),[a.memoizedState,e]},useRef:function(e){var t=xr();return e={current:e},t.memoizedState=e},useState:df,useDebugValue:Wc,useDeferredValue:function(e){return xr().memoizedState=e},useTransition:function(){var e=df(!1),t=e[0];return e=vp.bind(null,e[1]),xr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=Tt,c=xr();if(Ct){if(i===void 0)throw Error(te(407));i=i()}else{if(i=t(),Xt===null)throw Error(te(349));ki&30||Ud(a,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,hf(jd.bind(null,a,f,e),[e]),a.flags|=2048,Os(9,zd.bind(null,a,f,i,t),void 0,null),i},useId:function(){var e=xr(),t=Xt.identifierPrefix;if(Ct){var i=Tr,a=Ir;i=(a&~(1<<32-ar(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=Rs++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Ap++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Np={readContext:Qn,useCallback:Qd,useContext:Qn,useEffect:Vc,useImperativeHandle:Zd,useInsertionEffect:Gd,useLayoutEffect:Yd,useMemo:Kd,useReducer:eu,useRef:Wd,useState:function(){return eu(Ds)},useDebugValue:Wc,useDeferredValue:function(e){var t=Kn();return qd(t,jt.memoizedState,e)},useTransition:function(){var e=eu(Ds)[0],t=Kn().memoizedState;return[e,t]},useMutableSource:Bd,useSyncExternalStore:Fd,useId:Jd,unstable_isNewReconciler:!1},_p={readContext:Qn,useCallback:Qd,useContext:Qn,useEffect:Vc,useImperativeHandle:Zd,useInsertionEffect:Gd,useLayoutEffect:Yd,useMemo:Kd,useReducer:tu,useRef:Wd,useState:function(){return tu(Ds)},useDebugValue:Wc,useDeferredValue:function(e){var t=Kn();return jt===null?t.memoizedState=e:qd(t,jt.memoizedState,e)},useTransition:function(){var e=tu(Ds)[0],t=Kn().memoizedState;return[e,t]},useMutableSource:Bd,useSyncExternalStore:Fd,useId:Jd,unstable_isNewReconciler:!1};function nr(e,t){if(e&&e.defaultProps){t=Nt({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function zu(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:Nt({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var hl={isMounted:function(e){return(e=e._reactInternals)?zi(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=xn(),c=ai(e),f=_r(a,c);f.payload=t,i!=null&&(f.callback=i),t=oi(e,f,c),t!==null&&(lr(t,e,c,a),Ca(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=xn(),c=ai(e),f=_r(a,c);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=oi(e,f,c),t!==null&&(lr(t,e,c,a),Ca(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=xn(),a=ai(e),c=_r(i,a);c.tag=2,t!=null&&(c.callback=t),t=oi(e,c,a),t!==null&&(lr(t,e,a,i),Ca(t,e,a))}};function gf(e,t,i,a,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):t.prototype&&t.prototype.isPureReactComponent?!Ss(i,a)||!Ss(c,f):!0}function nh(e,t,i){var a=!1,c=ci,f=t.contextType;return typeof f=="object"&&f!==null?f=Qn(f):(c=Tn(t)?bi:fn.current,a=t.contextTypes,f=(a=a!=null)?Co(e,c):ci),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hl,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),t}function pf(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&hl.enqueueReplaceState(t,t.state,null)}function ju(e,t,i,a){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},Pc(e);var f=t.contextType;typeof f=="object"&&f!==null?c.context=Qn(f):(f=Tn(t)?bi:fn.current,c.context=Co(e,f)),c.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(zu(e,t,f,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&hl.enqueueReplaceState(c,c.state,null),Wa(e,i,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Io(e,t){try{var i="",a=t;do i+=n2(a),a=a.return;while(a);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:c,digest:null}}function nu(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Hu(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Mp=typeof WeakMap=="function"?WeakMap:Map;function rh(e,t,i){i=_r(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){Qa||(Qa=!0,Ju=a),Hu(e,t)},i}function ih(e,t,i){i=_r(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;i.payload=function(){return a(c)},i.callback=function(){Hu(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){Hu(e,t),typeof a!="function"&&(si===null?si=new Set([this]):si.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function xf(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Mp;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(i)||(c.add(i),e=Vp.bind(null,e,t,i),t.then(e,e))}function mf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wf(e,t,i,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=_r(-1,1),t.tag=2,oi(i,t,1))),i.lanes|=1),e)}var Rp=kr.ReactCurrentOwner,Sn=!1;function pn(e,t,i,a){t.child=e===null?bd(t,null,i,a):vo(t,e.child,i,a)}function yf(e,t,i,a,c){i=i.render;var f=t.ref;return wo(t,c),a=jc(e,t,i,a,f,c),i=Hc(),e!==null&&!Sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,br(e,t,c)):(Ct&&i&&Mc(t),t.flags|=1,pn(e,t,a,c),t.child)}function Ef(e,t,i,a,c){if(e===null){var f=i.type;return typeof f=="function"&&!Jc(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,oh(e,t,f,a,c)):(e=Na(i.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:Ss,i(g,a)&&e.ref===t.ref)return br(e,t,c)}return t.flags|=1,e=li(f,a),e.ref=t.ref,e.return=t,t.child=e}function oh(e,t,i,a,c){if(e!==null){var f=e.memoizedProps;if(Ss(f,a)&&e.ref===t.ref)if(Sn=!1,t.pendingProps=a=f,(e.lanes&c)!==0)e.flags&131072&&(Sn=!0);else return t.lanes=e.lanes,br(e,t,c)}return Vu(e,t,i,a,c)}function sh(e,t,i){var a=t.pendingProps,c=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(co,bn),bn|=i;else{if(!(i&1073741824))return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gt(co,bn),bn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:i,gt(co,bn),bn|=a}else f!==null?(a=f.baseLanes|i,t.memoizedState=null):a=i,gt(co,bn),bn|=a;return pn(e,t,c,i),t.child}function ah(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Vu(e,t,i,a,c){var f=Tn(i)?bi:fn.current;return f=Co(t,f),wo(t,c),i=jc(e,t,i,a,f,c),a=Hc(),e!==null&&!Sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,br(e,t,c)):(Ct&&a&&Mc(t),t.flags|=1,pn(e,t,i,c),t.child)}function Cf(e,t,i,a,c){if(Tn(i)){var f=!0;Ua(t)}else f=!1;if(wo(t,c),t.stateNode===null)Sa(e,t),nh(t,i,a),ju(t,i,a,c),a=!0;else if(e===null){var g=t.stateNode,m=t.memoizedProps;g.props=m;var w=g.context,x=i.contextType;typeof x=="object"&&x!==null?x=Qn(x):(x=Tn(i)?bi:fn.current,x=Co(t,x));var v=i.getDerivedStateFromProps,A=typeof v=="function"||typeof g.getSnapshotBeforeUpdate=="function";A||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==a||w!==x)&&pf(t,g,a,x),Kr=!1;var _=t.memoizedState;g.state=_,Wa(t,a,g,c),w=t.memoizedState,m!==a||_!==w||In.current||Kr?(typeof v=="function"&&(zu(t,i,v,a),w=t.memoizedState),(m=Kr||gf(t,i,m,a,_,w,x))?(A||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=w),g.props=a,g.state=w,g.context=x,a=m):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,kd(e,t),m=t.memoizedProps,x=t.type===t.elementType?m:nr(t.type,m),g.props=x,A=t.pendingProps,_=g.context,w=i.contextType,typeof w=="object"&&w!==null?w=Qn(w):(w=Tn(i)?bi:fn.current,w=Co(t,w));var U=i.getDerivedStateFromProps;(v=typeof U=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==A||_!==w)&&pf(t,g,a,w),Kr=!1,_=t.memoizedState,g.state=_,Wa(t,a,g,c);var H=t.memoizedState;m!==A||_!==H||In.current||Kr?(typeof U=="function"&&(zu(t,i,U,a),H=t.memoizedState),(x=Kr||gf(t,i,x,a,_,H,w)||!1)?(v||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,H,w),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,H,w)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||m===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=H),g.props=a,g.state=H,g.context=w,a=x):(typeof g.componentDidUpdate!="function"||m===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),a=!1)}return Wu(e,t,i,a,f,c)}function Wu(e,t,i,a,c,f){ah(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return c&&sf(t,i,!1),br(e,t,f);a=t.stateNode,Rp.current=t;var m=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=vo(t,e.child,null,f),t.child=vo(t,null,m,f)):pn(e,t,m,f),t.memoizedState=a.state,c&&sf(t,i,!0),t.child}function lh(e){var t=e.stateNode;t.pendingContext?of(e,t.pendingContext,t.pendingContext!==t.context):t.context&&of(e,t.context,!1),Bc(e,t.containerInfo)}function Af(e,t,i,a,c){return Ao(),Dc(c),t.flags|=256,pn(e,t,i,a),t.child}var Gu={dehydrated:null,treeContext:null,retryLane:0};function Yu(e){return{baseLanes:e,cachePool:null,transitions:null}}function uh(e,t,i){var a=t.pendingProps,c=It.current,f=!1,g=(t.flags&128)!==0,m;if((m=g)||(m=e!==null&&e.memoizedState===null?!1:(c&2)!==0),m?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),gt(It,c&1),e===null)return Fu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=a.children,e=a.fallback,f?(a=t.mode,f=t.child,g={mode:"hidden",children:g},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=xl(g,a,0,null),e=Oi(e,a,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Yu(i),t.memoizedState=Gu,e):Gc(t,g));if(c=e.memoizedState,c!==null&&(m=c.dehydrated,m!==null))return Dp(e,t,g,a,m,c,i);if(f){f=a.fallback,g=t.mode,c=e.child,m=c.sibling;var w={mode:"hidden",children:a.children};return!(g&1)&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=w,t.deletions=null):(a=li(c,w),a.subtreeFlags=c.subtreeFlags&14680064),m!==null?f=li(m,f):(f=Oi(f,g,i,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,g=e.child.memoizedState,g=g===null?Yu(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=Gu,a}return f=e.child,e=f.sibling,a=li(f,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function Gc(e,t){return t=xl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function da(e,t,i,a){return a!==null&&Dc(a),vo(t,e.child,null,i),e=Gc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dp(e,t,i,a,c,f,g){if(i)return t.flags&256?(t.flags&=-257,a=nu(Error(te(422))),da(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,c=t.mode,a=xl({mode:"visible",children:a.children},c,0,null),f=Oi(f,c,g,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,t.mode&1&&vo(t,e.child,null,g),t.child.memoizedState=Yu(g),t.memoizedState=Gu,f);if(!(t.mode&1))return da(e,t,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var m=a.dgst;return a=m,f=Error(te(419)),a=nu(f,a,void 0),da(e,t,g,a)}if(m=(g&e.childLanes)!==0,Sn||m){if(a=Xt,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|g)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,Or(e,c),lr(a,e,c,-1))}return qc(),a=nu(Error(te(421))),da(e,t,g,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Wp.bind(null,e),c._reactRetry=t,null):(e=f.treeContext,Pn=ii(c.nextSibling),Bn=t,Ct=!0,sr=null,e!==null&&(Gn[Yn++]=Ir,Gn[Yn++]=Tr,Gn[Yn++]=Li,Ir=e.id,Tr=e.overflow,Li=t),t=Gc(t,a.children),t.flags|=4096,t)}function vf(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Uu(e.return,t,i)}function ru(e,t,i,a,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=c)}function ch(e,t,i){var a=t.pendingProps,c=a.revealOrder,f=a.tail;if(pn(e,t,a.children,i),a=It.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vf(e,i,t);else if(e.tag===19)vf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(gt(It,a),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Ga(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),ru(t,!1,c,i,f);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ga(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}ru(t,!0,i,null,f);break;case"together":ru(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function br(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Pi|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,i=li(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=li(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Op(e,t,i){switch(t.tag){case 3:lh(t),Ao();break;case 5:Pd(t);break;case 1:Tn(t.type)&&Ua(t);break;case 4:Bc(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;gt(Ha,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(gt(It,It.current&1),t.flags|=128,null):i&t.child.childLanes?uh(e,t,i):(gt(It,It.current&1),e=br(e,t,i),e!==null?e.sibling:null);gt(It,It.current&1);break;case 19:if(a=(i&t.childLanes)!==0,e.flags&128){if(a)return ch(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),gt(It,It.current),a)break;return null;case 22:case 23:return t.lanes=0,sh(e,t,i)}return br(e,t,i)}var fh,Xu,dh,hh;fh=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Xu=function(){};dh=function(e,t,i,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,_i(Er.current);var f=null;switch(i){case"input":c=pu(e,c),a=pu(e,a),f=[];break;case"select":c=Nt({},c,{value:void 0}),a=Nt({},a,{value:void 0}),f=[];break;case"textarea":c=wu(e,c),a=wu(e,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Ba)}Eu(i,a);var g;i=null;for(x in c)if(!a.hasOwnProperty(x)&&c.hasOwnProperty(x)&&c[x]!=null)if(x==="style"){var m=c[x];for(g in m)m.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(ms.hasOwnProperty(x)?f||(f=[]):(f=f||[]).push(x,null));for(x in a){var w=a[x];if(m=c!=null?c[x]:void 0,a.hasOwnProperty(x)&&w!==m&&(w!=null||m!=null))if(x==="style")if(m){for(g in m)!m.hasOwnProperty(g)||w&&w.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in w)w.hasOwnProperty(g)&&m[g]!==w[g]&&(i||(i={}),i[g]=w[g])}else i||(f||(f=[]),f.push(x,i)),i=w;else x==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,m=m?m.__html:void 0,w!=null&&m!==w&&(f=f||[]).push(x,w)):x==="children"?typeof w!="string"&&typeof w!="number"||(f=f||[]).push(x,""+w):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(ms.hasOwnProperty(x)?(w!=null&&x==="onScroll"&&wt("scroll",e),f||m===w||(f=[])):(f=f||[]).push(x,w))}i&&(f=f||[]).push("style",i);var x=f;(t.updateQueue=x)&&(t.flags|=4)}};hh=function(e,t,i,a){i!==a&&(t.flags|=4)};function Jo(e,t){if(!Ct)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function un(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function bp(e,t,i){var a=t.pendingProps;switch(Rc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(t),null;case 1:return Tn(t.type)&&Fa(),un(t),null;case 3:return a=t.stateNode,So(),Et(In),Et(fn),Uc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ca(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sr!==null&&(tc(sr),sr=null))),Xu(e,t),un(t),null;case 5:Fc(t);var c=_i(Ms.current);if(i=t.type,e!==null&&t.stateNode!=null)dh(e,t,i,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(te(166));return un(t),null}if(e=_i(Er.current),ca(t)){a=t.stateNode,i=t.type;var f=t.memoizedProps;switch(a[wr]=t,a[Ns]=f,e=(t.mode&1)!==0,i){case"dialog":wt("cancel",a),wt("close",a);break;case"iframe":case"object":case"embed":wt("load",a);break;case"video":case"audio":for(c=0;c<ss.length;c++)wt(ss[c],a);break;case"source":wt("error",a);break;case"img":case"image":case"link":wt("error",a),wt("load",a);break;case"details":wt("toggle",a);break;case"input":D1(a,f),wt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},wt("invalid",a);break;case"textarea":b1(a,f),wt("invalid",a)}Eu(i,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var m=f[g];g==="children"?typeof m=="string"?a.textContent!==m&&(f.suppressHydrationWarning!==!0&&ua(a.textContent,m,e),c=["children",m]):typeof m=="number"&&a.textContent!==""+m&&(f.suppressHydrationWarning!==!0&&ua(a.textContent,m,e),c=["children",""+m]):ms.hasOwnProperty(g)&&m!=null&&g==="onScroll"&&wt("scroll",a)}switch(i){case"input":ta(a),O1(a,f,!0);break;case"textarea":ta(a),L1(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=Ba)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=j0(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[wr]=t,e[Ns]=a,fh(e,t,!1,!1),t.stateNode=e;e:{switch(g=Cu(i,a),i){case"dialog":wt("cancel",e),wt("close",e),c=a;break;case"iframe":case"object":case"embed":wt("load",e),c=a;break;case"video":case"audio":for(c=0;c<ss.length;c++)wt(ss[c],e);c=a;break;case"source":wt("error",e),c=a;break;case"img":case"image":case"link":wt("error",e),wt("load",e),c=a;break;case"details":wt("toggle",e),c=a;break;case"input":D1(e,a),c=pu(e,a),wt("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=Nt({},a,{value:void 0}),wt("invalid",e);break;case"textarea":b1(e,a),c=wu(e,a),wt("invalid",e);break;default:c=a}Eu(i,c),m=c;for(f in m)if(m.hasOwnProperty(f)){var w=m[f];f==="style"?W0(e,w):f==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&H0(e,w)):f==="children"?typeof w=="string"?(i!=="textarea"||w!=="")&&ws(e,w):typeof w=="number"&&ws(e,""+w):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ms.hasOwnProperty(f)?w!=null&&f==="onScroll"&&wt("scroll",e):w!=null&&pc(e,f,w,g))}switch(i){case"input":ta(e),O1(e,a,!1);break;case"textarea":ta(e),L1(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ui(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?go(e,!!a.multiple,f,!1):a.defaultValue!=null&&go(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Ba)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return un(t),null;case 6:if(e&&t.stateNode!=null)hh(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(te(166));if(i=_i(Ms.current),_i(Er.current),ca(t)){if(a=t.stateNode,i=t.memoizedProps,a[wr]=t,(f=a.nodeValue!==i)&&(e=Bn,e!==null))switch(e.tag){case 3:ua(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ua(a.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[wr]=t,t.stateNode=a}return un(t),null;case 13:if(Et(It),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ct&&Pn!==null&&t.mode&1&&!(t.flags&128))Dd(),Ao(),t.flags|=98560,f=!1;else if(f=ca(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(te(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(te(317));f[wr]=t}else Ao(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;un(t),f=!1}else sr!==null&&(tc(sr),sr=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||It.current&1?Ht===0&&(Ht=3):qc())),t.updateQueue!==null&&(t.flags|=4),un(t),null);case 4:return So(),Xu(e,t),e===null&&Is(t.stateNode.containerInfo),un(t),null;case 10:return Lc(t.type._context),un(t),null;case 17:return Tn(t.type)&&Fa(),un(t),null;case 19:if(Et(It),f=t.memoizedState,f===null)return un(t),null;if(a=(t.flags&128)!==0,g=f.rendering,g===null)if(a)Jo(f,!1);else{if(Ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=Ga(e),g!==null){for(t.flags|=128,Jo(f,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)f=i,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return gt(It,It.current&1|2),t.child}e=e.sibling}f.tail!==null&&bt()>To&&(t.flags|=128,a=!0,Jo(f,!1),t.lanes=4194304)}else{if(!a)if(e=Ga(g),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Jo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ct)return un(t),null}else 2*bt()-f.renderingStartTime>To&&i!==1073741824&&(t.flags|=128,a=!0,Jo(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=bt(),t.sibling=null,i=It.current,gt(It,a?i&1|2:i&1),t):(un(t),null);case 22:case 23:return Kc(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?bn&1073741824&&(un(t),t.subtreeFlags&6&&(t.flags|=8192)):un(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function Lp(e,t){switch(Rc(t),t.tag){case 1:return Tn(t.type)&&Fa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return So(),Et(In),Et(fn),Uc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fc(t),null;case 13:if(Et(It),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));Ao()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Et(It),null;case 4:return So(),null;case 10:return Lc(t.type._context),null;case 22:case 23:return Kc(),null;case 24:return null;default:return null}}var ha=!1,cn=!1,kp=typeof WeakSet=="function"?WeakSet:Set,pe=null;function uo(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Ot(e,t,a)}else i.current=null}function Zu(e,t,i){try{i()}catch(a){Ot(e,t,a)}}var Sf=!1;function Pp(e,t){if(Du=La,e=wd(),_c(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,m=-1,w=-1,x=0,v=0,A=e,_=null;t:for(;;){for(var U;A!==i||c!==0&&A.nodeType!==3||(m=g+c),A!==f||a!==0&&A.nodeType!==3||(w=g+a),A.nodeType===3&&(g+=A.nodeValue.length),(U=A.firstChild)!==null;)_=A,A=U;for(;;){if(A===e)break t;if(_===i&&++x===c&&(m=g),_===f&&++v===a&&(w=g),(U=A.nextSibling)!==null)break;A=_,_=A.parentNode}A=U}i=m===-1||w===-1?null:{start:m,end:w}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ou={focusedElem:e,selectionRange:i},La=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var H=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var B=H.memoizedProps,K=H.memoizedState,D=t.stateNode,N=D.getSnapshotBeforeUpdate(t.elementType===t.type?B:nr(t.type,B),K);D.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(F){Ot(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return H=Sf,Sf=!1,H}function gs(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&Zu(t,i,f)}c=c.next}while(c!==a)}}function gl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Qu(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function gh(e){var t=e.alternate;t!==null&&(e.alternate=null,gh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wr],delete t[Ns],delete t[ku],delete t[wp],delete t[yp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ph(e){return e.tag===5||e.tag===3||e.tag===4}function If(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ku(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Ba));else if(a!==4&&(e=e.child,e!==null))for(Ku(e,t,i),e=e.sibling;e!==null;)Ku(e,t,i),e=e.sibling}function qu(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(qu(e,t,i),e=e.sibling;e!==null;)qu(e,t,i),e=e.sibling}var en=null,rr=!1;function Yr(e,t,i){for(i=i.child;i!==null;)xh(e,t,i),i=i.sibling}function xh(e,t,i){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(sl,i)}catch{}switch(i.tag){case 5:cn||uo(i,t);case 6:var a=en,c=rr;en=null,Yr(e,t,i),en=a,rr=c,en!==null&&(rr?(e=en,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):en.removeChild(i.stateNode));break;case 18:en!==null&&(rr?(e=en,i=i.stateNode,e.nodeType===8?Kl(e.parentNode,i):e.nodeType===1&&Kl(e,i),As(e)):Kl(en,i.stateNode));break;case 4:a=en,c=rr,en=i.stateNode.containerInfo,rr=!0,Yr(e,t,i),en=a,rr=c;break;case 0:case 11:case 14:case 15:if(!cn&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&Zu(i,t,g),c=c.next}while(c!==a)}Yr(e,t,i);break;case 1:if(!cn&&(uo(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(m){Ot(i,t,m)}Yr(e,t,i);break;case 21:Yr(e,t,i);break;case 22:i.mode&1?(cn=(a=cn)||i.memoizedState!==null,Yr(e,t,i),cn=a):Yr(e,t,i);break;default:Yr(e,t,i)}}function Tf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new kp),t.forEach(function(a){var c=Gp.bind(null,e,a);i.has(a)||(i.add(a),a.then(c,c))})}}function tr(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];try{var f=e,g=t,m=g;e:for(;m!==null;){switch(m.tag){case 5:en=m.stateNode,rr=!1;break e;case 3:en=m.stateNode.containerInfo,rr=!0;break e;case 4:en=m.stateNode.containerInfo,rr=!0;break e}m=m.return}if(en===null)throw Error(te(160));xh(f,g,c),en=null,rr=!1;var w=c.alternate;w!==null&&(w.return=null),c.return=null}catch(x){Ot(c,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mh(t,e),t=t.sibling}function mh(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tr(t,e),pr(e),a&4){try{gs(3,e,e.return),gl(3,e)}catch(B){Ot(e,e.return,B)}try{gs(5,e,e.return)}catch(B){Ot(e,e.return,B)}}break;case 1:tr(t,e),pr(e),a&512&&i!==null&&uo(i,i.return);break;case 5:if(tr(t,e),pr(e),a&512&&i!==null&&uo(i,i.return),e.flags&32){var c=e.stateNode;try{ws(c,"")}catch(B){Ot(e,e.return,B)}}if(a&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,m=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{m==="input"&&f.type==="radio"&&f.name!=null&&U0(c,f),Cu(m,g);var x=Cu(m,f);for(g=0;g<w.length;g+=2){var v=w[g],A=w[g+1];v==="style"?W0(c,A):v==="dangerouslySetInnerHTML"?H0(c,A):v==="children"?ws(c,A):pc(c,v,A,x)}switch(m){case"input":xu(c,f);break;case"textarea":z0(c,f);break;case"select":var _=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var U=f.value;U!=null?go(c,!!f.multiple,U,!1):_!==!!f.multiple&&(f.defaultValue!=null?go(c,!!f.multiple,f.defaultValue,!0):go(c,!!f.multiple,f.multiple?[]:"",!1))}c[Ns]=f}catch(B){Ot(e,e.return,B)}}break;case 6:if(tr(t,e),pr(e),a&4){if(e.stateNode===null)throw Error(te(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(B){Ot(e,e.return,B)}}break;case 3:if(tr(t,e),pr(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{As(t.containerInfo)}catch(B){Ot(e,e.return,B)}break;case 4:tr(t,e),pr(e);break;case 13:tr(t,e),pr(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Zc=bt())),a&4&&Tf(e);break;case 22:if(v=i!==null&&i.memoizedState!==null,e.mode&1?(cn=(x=cn)||v,tr(t,e),cn=x):tr(t,e),pr(e),a&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!v&&e.mode&1)for(pe=e,v=e.child;v!==null;){for(A=pe=v;pe!==null;){switch(_=pe,U=_.child,_.tag){case 0:case 11:case 14:case 15:gs(4,_,_.return);break;case 1:uo(_,_.return);var H=_.stateNode;if(typeof H.componentWillUnmount=="function"){a=_,i=_.return;try{t=a,H.props=t.memoizedProps,H.state=t.memoizedState,H.componentWillUnmount()}catch(B){Ot(a,i,B)}}break;case 5:uo(_,_.return);break;case 22:if(_.memoizedState!==null){_f(A);continue}}U!==null?(U.return=_,pe=U):_f(A)}v=v.sibling}e:for(v=null,A=e;;){if(A.tag===5){if(v===null){v=A;try{c=A.stateNode,x?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(m=A.stateNode,w=A.memoizedProps.style,g=w!=null&&w.hasOwnProperty("display")?w.display:null,m.style.display=V0("display",g))}catch(B){Ot(e,e.return,B)}}}else if(A.tag===6){if(v===null)try{A.stateNode.nodeValue=x?"":A.memoizedProps}catch(B){Ot(e,e.return,B)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;v===A&&(v=null),A=A.return}v===A&&(v=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:tr(t,e),pr(e),a&4&&Tf(e);break;case 21:break;default:tr(t,e),pr(e)}}function pr(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(ph(i)){var a=i;break e}i=i.return}throw Error(te(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ws(c,""),a.flags&=-33);var f=If(e);qu(e,f,c);break;case 3:case 4:var g=a.stateNode.containerInfo,m=If(e);Ku(e,m,g);break;default:throw Error(te(161))}}catch(w){Ot(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bp(e,t,i){pe=e,wh(e)}function wh(e,t,i){for(var a=(e.mode&1)!==0;pe!==null;){var c=pe,f=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||ha;if(!g){var m=c.alternate,w=m!==null&&m.memoizedState!==null||cn;m=ha;var x=cn;if(ha=g,(cn=w)&&!x)for(pe=c;pe!==null;)g=pe,w=g.child,g.tag===22&&g.memoizedState!==null?Mf(c):w!==null?(w.return=g,pe=w):Mf(c);for(;f!==null;)pe=f,wh(f),f=f.sibling;pe=c,ha=m,cn=x}Nf(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,pe=f):Nf(e)}}function Nf(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cn||gl(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!cn)if(i===null)a.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:nr(t.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&ff(t,f,a);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}ff(t,g,i)}break;case 5:var m=t.stateNode;if(i===null&&t.flags&4){i=m;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&i.focus();break;case"img":w.src&&(i.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var v=x.memoizedState;if(v!==null){var A=v.dehydrated;A!==null&&As(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}cn||t.flags&512&&Qu(t)}catch(_){Ot(t,t.return,_)}}if(t===e){pe=null;break}if(i=t.sibling,i!==null){i.return=t.return,pe=i;break}pe=t.return}}function _f(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var i=t.sibling;if(i!==null){i.return=t.return,pe=i;break}pe=t.return}}function Mf(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{gl(4,t)}catch(w){Ot(t,i,w)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(w){Ot(t,c,w)}}var f=t.return;try{Qu(t)}catch(w){Ot(t,f,w)}break;case 5:var g=t.return;try{Qu(t)}catch(w){Ot(t,g,w)}}}catch(w){Ot(t,t.return,w)}if(t===e){pe=null;break}var m=t.sibling;if(m!==null){m.return=t.return,pe=m;break}pe=t.return}}var Fp=Math.ceil,Za=kr.ReactCurrentDispatcher,Yc=kr.ReactCurrentOwner,Zn=kr.ReactCurrentBatchConfig,Ke=0,Xt=null,Pt=null,tn=0,bn=0,co=hi(0),Ht=0,bs=null,Pi=0,pl=0,Xc=0,ps=null,vn=null,Zc=0,To=1/0,vr=null,Qa=!1,Ju=null,si=null,ga=!1,ei=null,Ka=0,xs=0,$u=null,Ia=-1,Ta=0;function xn(){return Ke&6?bt():Ia!==-1?Ia:Ia=bt()}function ai(e){return e.mode&1?Ke&2&&tn!==0?tn&-tn:Cp.transition!==null?(Ta===0&&(Ta=nd()),Ta):(e=ot,e!==0||(e=window.event,e=e===void 0?16:ud(e.type)),e):1}function lr(e,t,i,a){if(50<xs)throw xs=0,$u=null,Error(te(185));Bs(e,i,a),(!(Ke&2)||e!==Xt)&&(e===Xt&&(!(Ke&2)&&(pl|=i),Ht===4&&Jr(e,tn)),Nn(e,a),i===1&&Ke===0&&!(t.mode&1)&&(To=bt()+500,fl&&gi()))}function Nn(e,t){var i=e.callbackNode;C2(e,t);var a=ba(e,e===Xt?tn:0);if(a===0)i!==null&&B1(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&B1(i),t===1)e.tag===0?Ep(Rf.bind(null,e)):_d(Rf.bind(null,e)),xp(function(){!(Ke&6)&&gi()}),i=null;else{switch(rd(a)){case 1:i=Ec;break;case 4:i=ed;break;case 16:i=Oa;break;case 536870912:i=td;break;default:i=Oa}i=Th(i,yh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function yh(e,t){if(Ia=-1,Ta=0,Ke&6)throw Error(te(327));var i=e.callbackNode;if(yo()&&e.callbackNode!==i)return null;var a=ba(e,e===Xt?tn:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=qa(e,a);else{t=a;var c=Ke;Ke|=2;var f=Ch();(Xt!==e||tn!==t)&&(vr=null,To=bt()+500,Di(e,t));do try{jp();break}catch(m){Eh(e,m)}while(!0);bc(),Za.current=f,Ke=c,Pt!==null?t=0:(Xt=null,tn=0,t=Ht)}if(t!==0){if(t===2&&(c=Tu(e),c!==0&&(a=c,t=ec(e,c))),t===1)throw i=bs,Di(e,0),Jr(e,a),Nn(e,bt()),i;if(t===6)Jr(e,a);else{if(c=e.current.alternate,!(a&30)&&!Up(c)&&(t=qa(e,a),t===2&&(f=Tu(e),f!==0&&(a=f,t=ec(e,f))),t===1))throw i=bs,Di(e,0),Jr(e,a),Nn(e,bt()),i;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(te(345));case 2:Si(e,vn,vr);break;case 3:if(Jr(e,a),(a&130023424)===a&&(t=Zc+500-bt(),10<t)){if(ba(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){xn(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Lu(Si.bind(null,e,vn,vr),t);break}Si(e,vn,vr);break;case 4:if(Jr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var g=31-ar(a);f=1<<g,g=t[g],g>c&&(c=g),a&=~f}if(a=c,a=bt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Fp(a/1960))-a,10<a){e.timeoutHandle=Lu(Si.bind(null,e,vn,vr),a);break}Si(e,vn,vr);break;case 5:Si(e,vn,vr);break;default:throw Error(te(329))}}}return Nn(e,bt()),e.callbackNode===i?yh.bind(null,e):null}function ec(e,t){var i=ps;return e.current.memoizedState.isDehydrated&&(Di(e,t).flags|=256),e=qa(e,t),e!==2&&(t=vn,vn=i,t!==null&&tc(t)),e}function tc(e){vn===null?vn=e:vn.push.apply(vn,e)}function Up(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var c=i[a],f=c.getSnapshot;c=c.value;try{if(!ur(f(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jr(e,t){for(t&=~Xc,t&=~pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-ar(t),a=1<<i;e[i]=-1,t&=~a}}function Rf(e){if(Ke&6)throw Error(te(327));yo();var t=ba(e,0);if(!(t&1))return Nn(e,bt()),null;var i=qa(e,t);if(e.tag!==0&&i===2){var a=Tu(e);a!==0&&(t=a,i=ec(e,a))}if(i===1)throw i=bs,Di(e,0),Jr(e,t),Nn(e,bt()),i;if(i===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Si(e,vn,vr),Nn(e,bt()),null}function Qc(e,t){var i=Ke;Ke|=1;try{return e(t)}finally{Ke=i,Ke===0&&(To=bt()+500,fl&&gi())}}function Bi(e){ei!==null&&ei.tag===0&&!(Ke&6)&&yo();var t=Ke;Ke|=1;var i=Zn.transition,a=ot;try{if(Zn.transition=null,ot=1,e)return e()}finally{ot=a,Zn.transition=i,Ke=t,!(Ke&6)&&gi()}}function Kc(){bn=co.current,Et(co)}function Di(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,pp(i)),Pt!==null)for(i=Pt.return;i!==null;){var a=i;switch(Rc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Fa();break;case 3:So(),Et(In),Et(fn),Uc();break;case 5:Fc(a);break;case 4:So();break;case 13:Et(It);break;case 19:Et(It);break;case 10:Lc(a.type._context);break;case 22:case 23:Kc()}i=i.return}if(Xt=e,Pt=e=li(e.current,null),tn=bn=t,Ht=0,bs=null,Xc=pl=Pi=0,vn=ps=null,Ni!==null){for(t=0;t<Ni.length;t++)if(i=Ni[t],a=i.interleaved,a!==null){i.interleaved=null;var c=a.next,f=i.pending;if(f!==null){var g=f.next;f.next=c,a.next=g}i.pending=a}Ni=null}return e}function Eh(e,t){do{var i=Pt;try{if(bc(),Aa.current=Xa,Ya){for(var a=Tt.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Ya=!1}if(ki=0,Yt=jt=Tt=null,hs=!1,Rs=0,Yc.current=null,i===null||i.return===null){Ht=1,bs=t,Pt=null;break}e:{var f=e,g=i.return,m=i,w=t;if(t=tn,m.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var x=w,v=m,A=v.tag;if(!(v.mode&1)&&(A===0||A===11||A===15)){var _=v.alternate;_?(v.updateQueue=_.updateQueue,v.memoizedState=_.memoizedState,v.lanes=_.lanes):(v.updateQueue=null,v.memoizedState=null)}var U=mf(g);if(U!==null){U.flags&=-257,wf(U,g,m,f,t),U.mode&1&&xf(f,x,t),t=U,w=x;var H=t.updateQueue;if(H===null){var B=new Set;B.add(w),t.updateQueue=B}else H.add(w);break e}else{if(!(t&1)){xf(f,x,t),qc();break e}w=Error(te(426))}}else if(Ct&&m.mode&1){var K=mf(g);if(K!==null){!(K.flags&65536)&&(K.flags|=256),wf(K,g,m,f,t),Dc(Io(w,m));break e}}f=w=Io(w,m),Ht!==4&&(Ht=2),ps===null?ps=[f]:ps.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var D=rh(f,w,t);cf(f,D);break e;case 1:m=w;var N=f.type,M=f.stateNode;if(!(f.flags&128)&&(typeof N.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(si===null||!si.has(M)))){f.flags|=65536,t&=-t,f.lanes|=t;var F=ih(f,m,t);cf(f,F);break e}}f=f.return}while(f!==null)}vh(i)}catch(ee){t=ee,Pt===i&&i!==null&&(Pt=i=i.return);continue}break}while(!0)}function Ch(){var e=Za.current;return Za.current=Xa,e===null?Xa:e}function qc(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Xt===null||!(Pi&268435455)&&!(pl&268435455)||Jr(Xt,tn)}function qa(e,t){var i=Ke;Ke|=2;var a=Ch();(Xt!==e||tn!==t)&&(vr=null,Di(e,t));do try{zp();break}catch(c){Eh(e,c)}while(!0);if(bc(),Ke=i,Za.current=a,Pt!==null)throw Error(te(261));return Xt=null,tn=0,Ht}function zp(){for(;Pt!==null;)Ah(Pt)}function jp(){for(;Pt!==null&&!d2();)Ah(Pt)}function Ah(e){var t=Ih(e.alternate,e,bn);e.memoizedProps=e.pendingProps,t===null?vh(e):Pt=t,Yc.current=null}function vh(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Lp(i,t),i!==null){i.flags&=32767,Pt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ht=6,Pt=null;return}}else if(i=bp(i,t,bn),i!==null){Pt=i;return}if(t=t.sibling,t!==null){Pt=t;return}Pt=t=e}while(t!==null);Ht===0&&(Ht=5)}function Si(e,t,i){var a=ot,c=Zn.transition;try{Zn.transition=null,ot=1,Hp(e,t,i,a)}finally{Zn.transition=c,ot=a}return null}function Hp(e,t,i,a){do yo();while(ei!==null);if(Ke&6)throw Error(te(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(A2(e,f),e===Xt&&(Pt=Xt=null,tn=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||ga||(ga=!0,Th(Oa,function(){return yo(),null})),f=(i.flags&15990)!==0,i.subtreeFlags&15990||f){f=Zn.transition,Zn.transition=null;var g=ot;ot=1;var m=Ke;Ke|=4,Yc.current=null,Pp(e,i),mh(i,e),lp(Ou),La=!!Du,Ou=Du=null,e.current=i,Bp(i),h2(),Ke=m,ot=g,Zn.transition=f}else e.current=i;if(ga&&(ga=!1,ei=e,Ka=c),f=e.pendingLanes,f===0&&(si=null),x2(i.stateNode),Nn(e,bt()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],a(c.value,{componentStack:c.stack,digest:c.digest});if(Qa)throw Qa=!1,e=Ju,Ju=null,e;return Ka&1&&e.tag!==0&&yo(),f=e.pendingLanes,f&1?e===$u?xs++:(xs=0,$u=e):xs=0,gi(),null}function yo(){if(ei!==null){var e=rd(Ka),t=Zn.transition,i=ot;try{if(Zn.transition=null,ot=16>e?16:e,ei===null)var a=!1;else{if(e=ei,ei=null,Ka=0,Ke&6)throw Error(te(331));var c=Ke;for(Ke|=4,pe=e.current;pe!==null;){var f=pe,g=f.child;if(pe.flags&16){var m=f.deletions;if(m!==null){for(var w=0;w<m.length;w++){var x=m[w];for(pe=x;pe!==null;){var v=pe;switch(v.tag){case 0:case 11:case 15:gs(8,v,f)}var A=v.child;if(A!==null)A.return=v,pe=A;else for(;pe!==null;){v=pe;var _=v.sibling,U=v.return;if(gh(v),v===x){pe=null;break}if(_!==null){_.return=U,pe=_;break}pe=U}}}var H=f.alternate;if(H!==null){var B=H.child;if(B!==null){H.child=null;do{var K=B.sibling;B.sibling=null,B=K}while(B!==null)}}pe=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,pe=g;else e:for(;pe!==null;){if(f=pe,f.flags&2048)switch(f.tag){case 0:case 11:case 15:gs(9,f,f.return)}var D=f.sibling;if(D!==null){D.return=f.return,pe=D;break e}pe=f.return}}var N=e.current;for(pe=N;pe!==null;){g=pe;var M=g.child;if(g.subtreeFlags&2064&&M!==null)M.return=g,pe=M;else e:for(g=N;pe!==null;){if(m=pe,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:gl(9,m)}}catch(ee){Ot(m,m.return,ee)}if(m===g){pe=null;break e}var F=m.sibling;if(F!==null){F.return=m.return,pe=F;break e}pe=m.return}}if(Ke=c,gi(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(sl,e)}catch{}a=!0}return a}finally{ot=i,Zn.transition=t}}return!1}function Df(e,t,i){t=Io(i,t),t=rh(e,t,1),e=oi(e,t,1),t=xn(),e!==null&&(Bs(e,1,t),Nn(e,t))}function Ot(e,t,i){if(e.tag===3)Df(e,e,i);else for(;t!==null;){if(t.tag===3){Df(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(si===null||!si.has(a))){e=Io(i,e),e=ih(t,e,1),t=oi(t,e,1),e=xn(),t!==null&&(Bs(t,1,e),Nn(t,e));break}}t=t.return}}function Vp(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=xn(),e.pingedLanes|=e.suspendedLanes&i,Xt===e&&(tn&i)===i&&(Ht===4||Ht===3&&(tn&130023424)===tn&&500>bt()-Zc?Di(e,0):Xc|=i),Nn(e,t)}function Sh(e,t){t===0&&(e.mode&1?(t=ia,ia<<=1,!(ia&130023424)&&(ia=4194304)):t=1);var i=xn();e=Or(e,t),e!==null&&(Bs(e,t,i),Nn(e,i))}function Wp(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Sh(e,i)}function Gp(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(te(314))}a!==null&&a.delete(t),Sh(e,i)}var Ih;Ih=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||In.current)Sn=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return Sn=!1,Op(e,t,i);Sn=!!(e.flags&131072)}else Sn=!1,Ct&&t.flags&1048576&&Md(t,ja,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Sa(e,t),e=t.pendingProps;var c=Co(t,fn.current);wo(t,i),c=jc(null,t,a,e,c,i);var f=Hc();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tn(a)?(f=!0,Ua(t)):f=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Pc(t),c.updater=hl,t.stateNode=c,c._reactInternals=t,ju(t,a,e,i),t=Wu(null,t,a,!0,f,i)):(t.tag=0,Ct&&f&&Mc(t),pn(null,t,c,i),t=t.child),t;case 16:a=t.elementType;e:{switch(Sa(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=Xp(a),e=nr(a,e),c){case 0:t=Vu(null,t,a,e,i);break e;case 1:t=Cf(null,t,a,e,i);break e;case 11:t=yf(null,t,a,e,i);break e;case 14:t=Ef(null,t,a,nr(a.type,e),i);break e}throw Error(te(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:nr(a,c),Vu(e,t,a,c,i);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:nr(a,c),Cf(e,t,a,c,i);case 3:e:{if(lh(t),e===null)throw Error(te(387));a=t.pendingProps,f=t.memoizedState,c=f.element,kd(e,t),Wa(t,a,null,i);var g=t.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){c=Io(Error(te(423)),t),t=Af(e,t,a,i,c);break e}else if(a!==c){c=Io(Error(te(424)),t),t=Af(e,t,a,i,c);break e}else for(Pn=ii(t.stateNode.containerInfo.firstChild),Bn=t,Ct=!0,sr=null,i=bd(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ao(),a===c){t=br(e,t,i);break e}pn(e,t,a,i)}t=t.child}return t;case 5:return Pd(t),e===null&&Fu(t),a=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,bu(a,c)?g=null:f!==null&&bu(a,f)&&(t.flags|=32),ah(e,t),pn(e,t,g,i),t.child;case 6:return e===null&&Fu(t),null;case 13:return uh(e,t,i);case 4:return Bc(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=vo(t,null,a,i):pn(e,t,a,i),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:nr(a,c),yf(e,t,a,c,i);case 7:return pn(e,t,t.pendingProps,i),t.child;case 8:return pn(e,t,t.pendingProps.children,i),t.child;case 12:return pn(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,f=t.memoizedProps,g=c.value,gt(Ha,a._currentValue),a._currentValue=g,f!==null)if(ur(f.value,g)){if(f.children===c.children&&!In.current){t=br(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){g=f.child;for(var w=m.firstContext;w!==null;){if(w.context===a){if(f.tag===1){w=_r(-1,i&-i),w.tag=2;var x=f.updateQueue;if(x!==null){x=x.shared;var v=x.pending;v===null?w.next=w:(w.next=v.next,v.next=w),x.pending=w}}f.lanes|=i,w=f.alternate,w!==null&&(w.lanes|=i),Uu(f.return,i,t),m.lanes|=i;break}w=w.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(te(341));g.lanes|=i,m=g.alternate,m!==null&&(m.lanes|=i),Uu(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}pn(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,wo(t,i),c=Qn(c),a=a(c),t.flags|=1,pn(e,t,a,i),t.child;case 14:return a=t.type,c=nr(a,t.pendingProps),c=nr(a.type,c),Ef(e,t,a,c,i);case 15:return oh(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:nr(a,c),Sa(e,t),t.tag=1,Tn(a)?(e=!0,Ua(t)):e=!1,wo(t,i),nh(t,a,c),ju(t,a,c,i),Wu(null,t,a,!0,e,i);case 19:return ch(e,t,i);case 22:return sh(e,t,i)}throw Error(te(156,t.tag))};function Th(e,t){return $0(e,t)}function Yp(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(e,t,i,a){return new Yp(e,t,i,a)}function Jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xp(e){if(typeof e=="function")return Jc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mc)return 11;if(e===wc)return 14}return 2}function li(e,t){var i=e.alternate;return i===null?(i=Xn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Na(e,t,i,a,c,f){var g=2;if(a=e,typeof e=="function")Jc(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case eo:return Oi(i.children,c,f,t);case xc:g=8,c|=8;break;case fu:return e=Xn(12,i,t,c|2),e.elementType=fu,e.lanes=f,e;case du:return e=Xn(13,i,t,c),e.elementType=du,e.lanes=f,e;case hu:return e=Xn(19,i,t,c),e.elementType=hu,e.lanes=f,e;case P0:return xl(i,c,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L0:g=10;break e;case k0:g=9;break e;case mc:g=11;break e;case wc:g=14;break e;case Qr:g=16,a=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=Xn(g,i,t,c),t.elementType=e,t.type=a,t.lanes=f,t}function Oi(e,t,i,a){return e=Xn(7,e,a,t),e.lanes=i,e}function xl(e,t,i,a){return e=Xn(22,e,a,t),e.elementType=P0,e.lanes=i,e.stateNode={isHidden:!1},e}function iu(e,t,i){return e=Xn(6,e,null,t),e.lanes=i,e}function ou(e,t,i){return t=Xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zp(e,t,i,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ul(0),this.expirationTimes=Ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function $c(e,t,i,a,c,f,g,m,w){return e=new Zp(e,t,i,m,w),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Xn(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pc(f),e}function Qp(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function Nh(e){if(!e)return ci;e=e._reactInternals;e:{if(zi(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var i=e.type;if(Tn(i))return Nd(e,i,t)}return t}function _h(e,t,i,a,c,f,g,m,w){return e=$c(i,a,!0,e,c,f,g,m,w),e.context=Nh(null),i=e.current,a=xn(),c=ai(i),f=_r(a,c),f.callback=t??null,oi(i,f,c),e.current.lanes=c,Bs(e,c,a),Nn(e,a),e}function ml(e,t,i,a){var c=t.current,f=xn(),g=ai(c);return i=Nh(i),t.context===null?t.context=i:t.pendingContext=i,t=_r(f,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=oi(c,t,g),e!==null&&(lr(e,c,g,f),Ca(e,c,g)),g}function Ja(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Of(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function e1(e,t){Of(e,t),(e=e.alternate)&&Of(e,t)}function Kp(){return null}var Mh=typeof reportError=="function"?reportError:function(e){console.error(e)};function t1(e){this._internalRoot=e}wl.prototype.render=t1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));ml(e,t,null,null)};wl.prototype.unmount=t1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bi(function(){ml(null,e,null,null)}),t[Dr]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=sd();e={blockedOn:null,target:e,priority:t};for(var i=0;i<qr.length&&t!==0&&t<qr[i].priority;i++);qr.splice(i,0,e),i===0&&ld(e)}};function n1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bf(){}function qp(e,t,i,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var x=Ja(g);f.call(x)}}var g=_h(t,a,e,0,null,!1,!1,"",bf);return e._reactRootContainer=g,e[Dr]=g.current,Is(e.nodeType===8?e.parentNode:e),Bi(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var m=a;a=function(){var x=Ja(w);m.call(x)}}var w=$c(e,0,!1,null,null,!1,!1,"",bf);return e._reactRootContainer=w,e[Dr]=w.current,Is(e.nodeType===8?e.parentNode:e),Bi(function(){ml(t,w,i,a)}),w}function El(e,t,i,a,c){var f=i._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var m=c;c=function(){var w=Ja(g);m.call(w)}}ml(t,g,e,c)}else g=qp(i,t,e,c,a);return Ja(g)}id=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=os(t.pendingLanes);i!==0&&(Cc(t,i|1),Nn(t,bt()),!(Ke&6)&&(To=bt()+500,gi()))}break;case 13:Bi(function(){var a=Or(e,1);if(a!==null){var c=xn();lr(a,e,1,c)}}),e1(e,1)}};Ac=function(e){if(e.tag===13){var t=Or(e,134217728);if(t!==null){var i=xn();lr(t,e,134217728,i)}e1(e,134217728)}};od=function(e){if(e.tag===13){var t=ai(e),i=Or(e,t);if(i!==null){var a=xn();lr(i,e,t,a)}e1(e,t)}};sd=function(){return ot};ad=function(e,t){var i=ot;try{return ot=e,t()}finally{ot=i}};vu=function(e,t,i){switch(t){case"input":if(xu(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var c=cl(a);if(!c)throw Error(te(90));F0(a),xu(a,c)}}}break;case"textarea":z0(e,i);break;case"select":t=i.value,t!=null&&go(e,!!i.multiple,t,!1)}};X0=Qc;Z0=Bi;var Jp={usingClientEntryPoint:!1,Events:[Us,io,cl,G0,Y0,Qc]},$o={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$p={bundleType:$o.bundleType,version:$o.version,rendererPackageName:$o.rendererPackageName,rendererConfig:$o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=q0(e),e===null?null:e.stateNode},findFiberByHostInstance:$o.findFiberByHostInstance||Kp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pa.isDisabled&&pa.supportsFiber)try{sl=pa.inject($p),yr=pa}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jp;Un.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n1(t))throw Error(te(200));return Qp(e,t,null,i)};Un.createRoot=function(e,t){if(!n1(e))throw Error(te(299));var i=!1,a="",c=Mh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=$c(e,1,!1,null,null,i,!1,a,c),e[Dr]=t.current,Is(e.nodeType===8?e.parentNode:e),new t1(t)};Un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=q0(t),e=e===null?null:e.stateNode,e};Un.flushSync=function(e){return Bi(e)};Un.hydrate=function(e,t,i){if(!yl(t))throw Error(te(200));return El(null,e,t,!0,i)};Un.hydrateRoot=function(e,t,i){if(!n1(e))throw Error(te(405));var a=i!=null&&i.hydratedSources||null,c=!1,f="",g=Mh;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=_h(t,null,e,1,i??null,c,!1,f,g),e[Dr]=t.current,Is(e),a)for(e=0;e<a.length;e++)i=a[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new wl(t)};Un.render=function(e,t,i){if(!yl(t))throw Error(te(200));return El(null,e,t,!1,i)};Un.unmountComponentAtNode=function(e){if(!yl(e))throw Error(te(40));return e._reactRootContainer?(Bi(function(){El(null,null,e,!1,function(){e._reactRootContainer=null,e[Dr]=null})}),!0):!1};Un.unstable_batchedUpdates=Qc;Un.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!yl(i))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return El(e,t,i,!1,a)};Un.version="18.3.1-next-f1338f8080-20240426";function Rh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rh)}catch(e){console.error(e)}}Rh(),R0.exports=Un;var r1=R0.exports;const ex=lc(r1),tx=ac({__proto__:null,default:ex},[r1]);var Dh,Lf=r1;Dh=Lf.createRoot,Lf.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function St(){return St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},St.apply(this,arguments)}var kt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(kt||(kt={}));const kf="popstate";function nx(e){e===void 0&&(e={});function t(a,c){let{pathname:f,search:g,hash:m}=a.location;return Ls("",{pathname:f,search:g,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(a,c){return typeof c=="string"?c:Fi(c)}return ix(t,i,null,e)}function Ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function No(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rx(){return Math.random().toString(36).substr(2,8)}function Pf(e,t){return{usr:e.state,key:e.key,idx:t}}function Ls(e,t,i,a){return i===void 0&&(i=null),St({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pi(t):t,{state:i,key:t&&t.key||a||rx()})}function Fi(e){let{pathname:t="/",search:i="",hash:a=""}=e;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function pi(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function ix(e,t,i,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:f=!1}=a,g=c.history,m=kt.Pop,w=null,x=v();x==null&&(x=0,g.replaceState(St({},g.state,{idx:x}),""));function v(){return(g.state||{idx:null}).idx}function A(){m=kt.Pop;let K=v(),D=K==null?null:K-x;x=K,w&&w({action:m,location:B.location,delta:D})}function _(K,D){m=kt.Push;let N=Ls(B.location,K,D);x=v()+1;let M=Pf(N,x),F=B.createHref(N);try{g.pushState(M,"",F)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;c.location.assign(F)}f&&w&&w({action:m,location:B.location,delta:1})}function U(K,D){m=kt.Replace;let N=Ls(B.location,K,D);x=v();let M=Pf(N,x),F=B.createHref(N);g.replaceState(M,"",F),f&&w&&w({action:m,location:B.location,delta:0})}function H(K){let D=c.location.origin!=="null"?c.location.origin:c.location.href,N=typeof K=="string"?K:Fi(K);return N=N.replace(/ $/,"%20"),Ue(D,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,D)}let B={get action(){return m},get location(){return e(c,g)},listen(K){if(w)throw new Error("A history only accepts one active listener");return c.addEventListener(kf,A),w=K,()=>{c.removeEventListener(kf,A),w=null}},createHref(K){return t(c,K)},createURL:H,encodeLocation(K){let D=H(K);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:U,go(K){return g.go(K)}};return B}var lt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lt||(lt={}));const ox=new Set(["lazy","caseSensitive","path","id","index","children"]);function sx(e){return e.index===!0}function ks(e,t,i,a){return i===void 0&&(i=[]),a===void 0&&(a={}),e.map((c,f)=>{let g=[...i,String(f)],m=typeof c.id=="string"?c.id:g.join("-");if(Ue(c.index!==!0||!c.children,"Cannot specify children on an index route"),Ue(!a[m],'Found a route id collision on id "'+m+`".  Route id's must be globally unique within Data Router usages`),sx(c)){let w=St({},c,t(c),{id:m});return a[m]=w,w}else{let w=St({},c,t(c),{id:m,children:void 0});return a[m]=w,c.children&&(w.children=ks(c.children,t,g,a)),w}})}function Ii(e,t,i){return i===void 0&&(i="/"),_a(e,t,i,!1)}function _a(e,t,i,a){let c=typeof t=="string"?pi(t):t,f=Lr(c.pathname||"/",i);if(f==null)return null;let g=Oh(e);lx(g);let m=null;for(let w=0;m==null&&w<g.length;++w){let x=yx(f);m=mx(g[w],x,a)}return m}function ax(e,t){let{route:i,pathname:a,params:c}=e;return{id:i.id,pathname:a,params:c,data:t[i.id],handle:i.handle}}function Oh(e,t,i,a){t===void 0&&(t=[]),i===void 0&&(i=[]),a===void 0&&(a="");let c=(f,g,m)=>{let w={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};w.relativePath.startsWith("/")&&(Ue(w.relativePath.startsWith(a),'Absolute route path "'+w.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),w.relativePath=w.relativePath.slice(a.length));let x=Mr([a,w.relativePath]),v=i.concat(w);f.children&&f.children.length>0&&(Ue(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),Oh(f.children,t,v,x)),!(f.path==null&&!f.index)&&t.push({path:x,score:px(x,f.index),routesMeta:v})};return e.forEach((f,g)=>{var m;if(f.path===""||!((m=f.path)!=null&&m.includes("?")))c(f,g);else for(let w of bh(f.path))c(f,g,w)}),t}function bh(e){let t=e.split("/");if(t.length===0)return[];let[i,...a]=t,c=i.endsWith("?"),f=i.replace(/\?$/,"");if(a.length===0)return c?[f,""]:[f];let g=bh(a.join("/")),m=[];return m.push(...g.map(w=>w===""?f:[f,w].join("/"))),c&&m.push(...g),m.map(w=>e.startsWith("/")&&w===""?"/":w)}function lx(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:xx(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}const ux=/^:[\w-]+$/,cx=3,fx=2,dx=1,hx=10,gx=-2,Bf=e=>e==="*";function px(e,t){let i=e.split("/"),a=i.length;return i.some(Bf)&&(a+=gx),t&&(a+=fx),i.filter(c=>!Bf(c)).reduce((c,f)=>c+(ux.test(f)?cx:f===""?dx:hx),a)}function xx(e,t){return e.length===t.length&&e.slice(0,-1).every((a,c)=>a===t[c])?e[e.length-1]-t[t.length-1]:0}function mx(e,t,i){i===void 0&&(i=!1);let{routesMeta:a}=e,c={},f="/",g=[];for(let m=0;m<a.length;++m){let w=a[m],x=m===a.length-1,v=f==="/"?t:t.slice(f.length)||"/",A=$a({path:w.relativePath,caseSensitive:w.caseSensitive,end:x},v),_=w.route;if(!A&&x&&i&&!a[a.length-1].route.index&&(A=$a({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},v)),!A)return null;Object.assign(c,A.params),g.push({params:c,pathname:Mr([f,A.pathname]),pathnameBase:Ax(Mr([f,A.pathnameBase])),route:_}),A.pathnameBase!=="/"&&(f=Mr([f,A.pathnameBase]))}return g}function $a(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,a]=wx(e.path,e.caseSensitive,e.end),c=t.match(i);if(!c)return null;let f=c[0],g=f.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:a.reduce((x,v,A)=>{let{paramName:_,isOptional:U}=v;if(_==="*"){let B=m[A]||"";g=f.slice(0,f.length-B.length).replace(/(.)\/+$/,"$1")}const H=m[A];return U&&!H?x[_]=void 0:x[_]=(H||"").replace(/%2F/g,"/"),x},{}),pathname:f,pathnameBase:g,pattern:e}}function wx(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!0),No(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,m,w)=>(a.push({paramName:m,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),a]}function yx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return No(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=e.charAt(i);return a&&a!=="/"?null:e.slice(i)||"/"}function Ex(e,t){t===void 0&&(t="/");let{pathname:i,search:a="",hash:c=""}=typeof e=="string"?pi(e):e;return{pathname:i?i.startsWith("/")?i:Cx(i,t):t,search:vx(a),hash:Sx(c)}}function Cx(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function su(e,t,i,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lh(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function i1(e,t){let i=Lh(e);return t?i.map((a,c)=>c===i.length-1?a.pathname:a.pathnameBase):i.map(a=>a.pathnameBase)}function o1(e,t,i,a){a===void 0&&(a=!1);let c;typeof e=="string"?c=pi(e):(c=St({},e),Ue(!c.pathname||!c.pathname.includes("?"),su("?","pathname","search",c)),Ue(!c.pathname||!c.pathname.includes("#"),su("#","pathname","hash",c)),Ue(!c.search||!c.search.includes("#"),su("#","search","hash",c)));let f=e===""||c.pathname==="",g=f?"/":c.pathname,m;if(g==null)m=i;else{let A=t.length-1;if(!a&&g.startsWith("..")){let _=g.split("/");for(;_[0]==="..";)_.shift(),A-=1;c.pathname=_.join("/")}m=A>=0?t[A]:"/"}let w=Ex(c,m),x=g&&g!=="/"&&g.endsWith("/"),v=(f||g===".")&&i.endsWith("/");return!w.pathname.endsWith("/")&&(x||v)&&(w.pathname+="/"),w}const Mr=e=>e.join("/").replace(/\/\/+/g,"/"),Ax=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class el{constructor(t,i,a,c){c===void 0&&(c=!1),this.status=t,this.statusText=i||"",this.internal=c,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function Cl(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kh=["post","put","patch","delete"],Ix=new Set(kh),Tx=["get",...kh],Nx=new Set(Tx),_x=new Set([301,302,303,307,308]),Mx=new Set([307,308]),au={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Rx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},es={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},s1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dx=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Ph="remix-router-transitions";function Ox(e){const t=e.window?e.window:typeof window<"u"?window:void 0,i=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",a=!i;Ue(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let c;if(e.mapRouteProperties)c=e.mapRouteProperties;else if(e.detectErrorBoundary){let O=e.detectErrorBoundary;c=P=>({hasErrorBoundary:O(P)})}else c=Dx;let f={},g=ks(e.routes,c,void 0,f),m,w=e.basename||"/",x=e.unstable_dataStrategy||Bx,v=e.unstable_patchRoutesOnNavigation,A=St({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),_=null,U=new Set,H=1e3,B=new Set,K=null,D=null,N=null,M=e.hydrationData!=null,F=Ii(g,e.history.location,w),ee=null;if(F==null&&!v){let O=gn(404,{pathname:e.history.location.pathname}),{matches:P,route:L}=Xf(g);F=P,ee={[L.id]:O}}F&&!e.hydrationData&&hn(F,g,e.history.location.pathname).active&&(F=null);let J;if(F)if(F.some(O=>O.route.lazy))J=!1;else if(!F.some(O=>O.route.loader))J=!0;else if(A.v7_partialHydration){let O=e.hydrationData?e.hydrationData.loaderData:null,P=e.hydrationData?e.hydrationData.errors:null,L=Q=>Q.route.loader?typeof Q.route.loader=="function"&&Q.route.loader.hydrate===!0?!1:O&&O[Q.route.id]!==void 0||P&&P[Q.route.id]!==void 0:!0;if(P){let Q=F.findIndex(de=>P[de.route.id]!==void 0);J=F.slice(0,Q+1).every(L)}else J=F.every(L)}else J=e.hydrationData!=null;else if(J=!1,F=[],A.v7_partialHydration){let O=hn(null,g,e.history.location.pathname);O.active&&O.matches&&(F=O.matches)}let V,R={historyAction:e.history.action,location:e.history.location,matches:F,initialized:J,navigation:au,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},G=kt.Pop,se=!1,we,ce=!1,Ie=new Map,Le=null,X=!1,qe=!1,Te=[],ae=new Set,fe=new Map,ve=0,Je=-1,ke=new Map,_t=new Set,$e=new Map,_n=new Map,he=new Set,rn=new Map,ft=new Map,mi=new Map,Cr=!1;function on(){if(_=e.history.listen(O=>{let{action:P,location:L,delta:Q}=O;if(Cr){Cr=!1;return}No(ft.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=cr({currentLocation:R.location,nextLocation:L,historyAction:P});if(de&&Q!=null){Cr=!0,e.history.go(Q*-1),He(de,{state:"blocked",location:L,proceed(){He(de,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),e.history.go(Q)},reset(){let ue=new Map(R.blockers);ue.set(de,es),Mt({blockers:ue})}});return}return Xe(P,L)}),i){Kx(t,Ie);let O=()=>qx(t,Ie);t.addEventListener("pagehide",O),Le=()=>t.removeEventListener("pagehide",O)}return R.initialized||Xe(kt.Pop,R.location,{initialHydration:!0}),V}function ji(){_&&_(),Le&&Le(),U.clear(),we&&we.abort(),R.fetchers.forEach((O,P)=>pt(P)),R.blockers.forEach((O,P)=>Lo(P))}function Ze(O){return U.add(O),()=>U.delete(O)}function Mt(O,P){P===void 0&&(P={}),R=St({},R,O);let L=[],Q=[];A.v7_fetcherPersist&&R.fetchers.forEach((de,ue)=>{de.state==="idle"&&(he.has(ue)?Q.push(ue):L.push(ue))}),[...U].forEach(de=>de(R,{deletedFetchers:Q,unstable_viewTransitionOpts:P.viewTransitionOpts,unstable_flushSync:P.flushSync===!0})),A.v7_fetcherPersist&&(L.forEach(de=>R.fetchers.delete(de)),Q.forEach(de=>pt(de)))}function Zt(O,P,L){var Q,de;let{flushSync:ue}=L===void 0?{}:L,Ce=R.actionData!=null&&R.navigation.formMethod!=null&&ir(R.navigation.formMethod)&&R.navigation.state==="loading"&&((Q=O.state)==null?void 0:Q._isRedirect)!==!0,oe;P.actionData?Object.keys(P.actionData).length>0?oe=P.actionData:oe=null:Ce?oe=R.actionData:oe=null;let _e=P.loaderData?Gf(R.loaderData,P.loaderData,P.matches||[],P.errors):R.loaderData,me=R.blockers;me.size>0&&(me=new Map(me),me.forEach((Pe,Oe)=>me.set(Oe,es)));let De=se===!0||R.navigation.formMethod!=null&&ir(R.navigation.formMethod)&&((de=O.state)==null?void 0:de._isRedirect)!==!0;m&&(g=m,m=void 0),X||G===kt.Pop||(G===kt.Push?e.history.push(O,O.state):G===kt.Replace&&e.history.replace(O,O.state));let tt;if(G===kt.Pop){let Pe=Ie.get(R.location.pathname);Pe&&Pe.has(O.pathname)?tt={currentLocation:R.location,nextLocation:O}:Ie.has(O.pathname)&&(tt={currentLocation:O,nextLocation:R.location})}else if(ce){let Pe=Ie.get(R.location.pathname);Pe?Pe.add(O.pathname):(Pe=new Set([O.pathname]),Ie.set(R.location.pathname,Pe)),tt={currentLocation:R.location,nextLocation:O}}Mt(St({},P,{actionData:oe,loaderData:_e,historyAction:G,location:O,initialized:!0,navigation:au,revalidation:"idle",restoreScrollPosition:yi(O,P.matches||R.matches),preventScrollReset:De,blockers:me}),{viewTransitionOpts:tt,flushSync:ue===!0}),G=kt.Pop,se=!1,ce=!1,X=!1,qe=!1,Te=[]}async function Br(O,P){if(typeof O=="number"){e.history.go(O);return}let L=nc(R.location,R.matches,w,A.v7_prependBasename,O,A.v7_relativeSplatPath,P==null?void 0:P.fromRouteId,P==null?void 0:P.relative),{path:Q,submission:de,error:ue}=Ff(A.v7_normalizeFormMethod,!1,L,P),Ce=R.location,oe=Ls(R.location,Q,P&&P.state);oe=St({},oe,e.history.encodeLocation(oe));let _e=P&&P.replace!=null?P.replace:void 0,me=kt.Push;_e===!0?me=kt.Replace:_e===!1||de!=null&&ir(de.formMethod)&&de.formAction===R.location.pathname+R.location.search&&(me=kt.Replace);let De=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,tt=(P&&P.unstable_flushSync)===!0,Pe=cr({currentLocation:Ce,nextLocation:oe,historyAction:me});if(Pe){He(Pe,{state:"blocked",location:oe,proceed(){He(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),Br(O,P)},reset(){let Oe=new Map(R.blockers);Oe.set(Pe,es),Mt({blockers:Oe})}});return}return await Xe(me,oe,{submission:de,pendingError:ue,preventScrollReset:De,replace:P&&P.replace,enableViewTransition:P&&P.unstable_viewTransition,flushSync:tt})}function Bt(){if(Ft(),Mt({revalidation:"loading"}),R.navigation.state!=="submitting"){if(R.navigation.state==="idle"){Xe(R.historyAction,R.location,{startUninterruptedRevalidation:!0});return}Xe(G||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation})}}async function Xe(O,P,L){we&&we.abort(),we=null,G=O,X=(L&&L.startUninterruptedRevalidation)===!0,zr(R.location,R.matches),se=(L&&L.preventScrollReset)===!0,ce=(L&&L.enableViewTransition)===!0;let Q=m||g,de=L&&L.overrideNavigation,ue=Ii(Q,P,w),Ce=(L&&L.flushSync)===!0,oe=hn(ue,Q,P.pathname);if(oe.active&&oe.matches&&(ue=oe.matches),!ue){let{error:Ee,notFoundMatches:Lt,route:nt}=Wi(P.pathname);Zt(P,{matches:Lt,loaderData:{},errors:{[nt.id]:Ee}},{flushSync:Ce});return}if(R.initialized&&!qe&&Vx(R.location,P)&&!(L&&L.submission&&ir(L.submission.formMethod))){Zt(P,{matches:ue},{flushSync:Ce});return}we=new AbortController;let _e=Ji(e.history,P,we.signal,L&&L.submission),me;if(L&&L.pendingError)me=[fo(ue).route.id,{type:lt.error,error:L.pendingError}];else if(L&&L.submission&&ir(L.submission.formMethod)){let Ee=await Ge(_e,P,L.submission,ue,oe.active,{replace:L.replace,flushSync:Ce});if(Ee.shortCircuited)return;if(Ee.pendingActionResult){let[Lt,nt]=Ee.pendingActionResult;if(Ln(nt)&&Cl(nt.error)&&nt.error.status===404){we=null,Zt(P,{matches:Ee.matches,loaderData:{},errors:{[Lt]:nt.error}});return}}ue=Ee.matches||ue,me=Ee.pendingActionResult,de=lu(P,L.submission),Ce=!1,oe.active=!1,_e=Ji(e.history,_e.url,_e.signal)}let{shortCircuited:De,matches:tt,loaderData:Pe,errors:Oe}=await Hi(_e,P,ue,oe.active,de,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,Ce,me);De||(we=null,Zt(P,St({matches:tt||ue},Yf(me),{loaderData:Pe,errors:Oe})))}async function Ge(O,P,L,Q,de,ue){ue===void 0&&(ue={}),Ft();let Ce=Zx(P,L);if(Mt({navigation:Ce},{flushSync:ue.flushSync===!0}),de){let me=await Gi(Q,P.pathname,O.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let{boundaryId:De,error:tt}=wi(P.pathname,me);return{matches:me.partialMatches,pendingActionResult:[De,{type:lt.error,error:tt}]}}else if(me.matches)Q=me.matches;else{let{notFoundMatches:De,error:tt,route:Pe}=Wi(P.pathname);return{matches:De,pendingActionResult:[Pe.id,{type:lt.error,error:tt}]}}}let oe,_e=as(Q,P);if(!_e.route.action&&!_e.route.lazy)oe={type:lt.error,error:gn(405,{method:O.method,pathname:P.pathname,routeId:_e.route.id})};else if(oe=(await Fr("action",O,[_e],Q))[0],O.signal.aborted)return{shortCircuited:!0};if(Ri(oe)){let me;return ue&&ue.replace!=null?me=ue.replace:me=Hf(oe.response.headers.get("Location"),new URL(O.url),w)===R.location.pathname+R.location.search,await Qt(O,oe,{submission:L,replace:me}),{shortCircuited:!0}}if(Mi(oe))throw gn(400,{type:"defer-action"});if(Ln(oe)){let me=fo(Q,_e.route.id);return(ue&&ue.replace)!==!0&&(G=kt.Push),{matches:Q,pendingActionResult:[me.route.id,oe]}}return{matches:Q,pendingActionResult:[_e.route.id,oe]}}async function Hi(O,P,L,Q,de,ue,Ce,oe,_e,me,De){let tt=de||lu(P,ue),Pe=ue||Ce||qf(tt),Oe=!X&&(!A.v7_partialHydration||!_e);if(Q){if(Oe){let dt=xe(De);Mt(St({navigation:tt},dt!==void 0?{actionData:dt}:{}),{flushSync:me})}let Me=await Gi(L,P.pathname,O.signal);if(Me.type==="aborted")return{shortCircuited:!0};if(Me.type==="error"){let{boundaryId:dt,error:Kt}=wi(P.pathname,Me);return{matches:Me.partialMatches,loaderData:{},errors:{[dt]:Kt}}}else if(Me.matches)L=Me.matches;else{let{error:dt,notFoundMatches:Kt,route:Re}=Wi(P.pathname);return{matches:Kt,loaderData:{},errors:{[Re.id]:dt}}}}let Ee=m||g,[Lt,nt]=Uf(e.history,R,L,Pe,P,A.v7_partialHydration&&_e===!0,A.v7_skipActionErrorRevalidation,qe,Te,ae,he,$e,_t,Ee,w,De);if(dn(Me=>!(L&&L.some(dt=>dt.route.id===Me))||Lt&&Lt.some(dt=>dt.route.id===Me)),Je=++ve,Lt.length===0&&nt.length===0){let Me=xt();return Zt(P,St({matches:L,loaderData:{},errors:De&&Ln(De[1])?{[De[0]]:De[1].error}:null},Yf(De),Me?{fetchers:new Map(R.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(Oe){let Me={};if(!Q){Me.navigation=tt;let dt=xe(De);dt!==void 0&&(Me.actionData=dt)}nt.length>0&&(Me.fetchers=Vi(nt)),Mt(Me,{flushSync:me})}nt.forEach(Me=>{fe.has(Me.key)&&st(Me.key),Me.controller&&fe.set(Me.key,Me.controller)});let Ar=()=>nt.forEach(Me=>st(Me.key));we&&we.signal.addEventListener("abort",Ar);let{loaderResults:Z,fetcherResults:jr}=await Jn(R.matches,L,Lt,nt,O);if(O.signal.aborted)return{shortCircuited:!0};we&&we.signal.removeEventListener("abort",Ar),nt.forEach(Me=>fe.delete(Me.key));let rt=Zf([...Z,...jr]);if(rt){if(rt.idx>=Lt.length){let Me=nt[rt.idx-Lt.length].key;_t.add(Me)}return await Qt(O,rt.result,{replace:oe}),{shortCircuited:!0}}let{loaderData:Mn,errors:jn}=Wf(R,L,Lt,Z,De,nt,jr,rn);rn.forEach((Me,dt)=>{Me.subscribe(Kt=>{(Kt||Me.done)&&rn.delete(dt)})}),A.v7_partialHydration&&_e&&R.errors&&Object.entries(R.errors).filter(Me=>{let[dt]=Me;return!Lt.some(Kt=>Kt.route.id===dt)}).forEach(Me=>{let[dt,Kt]=Me;jn=Object.assign(jn||{},{[dt]:Kt})});let Ye=xt(),Ve=Ur(Je),Be=Ye||Ve||nt.length>0;return St({matches:L,loaderData:Mn,errors:jn},Be?{fetchers:new Map(R.fetchers)}:{})}function xe(O){if(O&&!Ln(O[1]))return{[O[0]]:O[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function Vi(O){return O.forEach(P=>{let L=R.fetchers.get(P.key),Q=ts(void 0,L?L.data:void 0);R.fetchers.set(P.key,Q)}),new Map(R.fetchers)}function Ws(O,P,L,Q){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");fe.has(O)&&st(O);let de=(Q&&Q.unstable_flushSync)===!0,ue=m||g,Ce=nc(R.location,R.matches,w,A.v7_prependBasename,L,A.v7_relativeSplatPath,P,Q==null?void 0:Q.relative),oe=Ii(ue,Ce,w),_e=hn(oe,ue,Ce);if(_e.active&&_e.matches&&(oe=_e.matches),!oe){yn(O,P,gn(404,{pathname:Ce}),{flushSync:de});return}let{path:me,submission:De,error:tt}=Ff(A.v7_normalizeFormMethod,!0,Ce,Q);if(tt){yn(O,P,tt,{flushSync:de});return}let Pe=as(oe,me);if(se=(Q&&Q.preventScrollReset)===!0,De&&ir(De.formMethod)){qn(O,P,me,Pe,oe,_e.active,de,De);return}$e.set(O,{routeId:P,path:me}),Oo(O,P,me,Pe,oe,_e.active,de,De)}async function qn(O,P,L,Q,de,ue,Ce,oe){Ft(),$e.delete(O);function _e(Re){if(!Re.route.action&&!Re.route.lazy){let Vt=gn(405,{method:oe.formMethod,pathname:L,routeId:P});return yn(O,P,Vt,{flushSync:Ce}),!0}return!1}if(!ue&&_e(Q))return;let me=R.fetchers.get(O);$n(O,Qx(oe,me),{flushSync:Ce});let De=new AbortController,tt=Ji(e.history,L,De.signal,oe);if(ue){let Re=await Gi(de,L,tt.signal);if(Re.type==="aborted")return;if(Re.type==="error"){let{error:Vt}=wi(L,Re);yn(O,P,Vt,{flushSync:Ce});return}else if(Re.matches){if(de=Re.matches,Q=as(de,L),_e(Q))return}else{yn(O,P,gn(404,{pathname:L}),{flushSync:Ce});return}}fe.set(O,De);let Pe=ve,Ee=(await Fr("action",tt,[Q],de))[0];if(tt.signal.aborted){fe.get(O)===De&&fe.delete(O);return}if(A.v7_fetcherPersist&&he.has(O)){if(Ri(Ee)||Ln(Ee)){$n(O,Zr(void 0));return}}else{if(Ri(Ee))if(fe.delete(O),Je>Pe){$n(O,Zr(void 0));return}else return _t.add(O),$n(O,ts(oe)),Qt(tt,Ee,{fetcherSubmission:oe});if(Ln(Ee)){yn(O,P,Ee.error);return}}if(Mi(Ee))throw gn(400,{type:"defer-action"});let Lt=R.navigation.location||R.location,nt=Ji(e.history,Lt,De.signal),Ar=m||g,Z=R.navigation.state!=="idle"?Ii(Ar,R.navigation.location,w):R.matches;Ue(Z,"Didn't find any matches after fetcher action");let jr=++ve;ke.set(O,jr);let rt=ts(oe,Ee.data);R.fetchers.set(O,rt);let[Mn,jn]=Uf(e.history,R,Z,oe,Lt,!1,A.v7_skipActionErrorRevalidation,qe,Te,ae,he,$e,_t,Ar,w,[Q.route.id,Ee]);jn.filter(Re=>Re.key!==O).forEach(Re=>{let Vt=Re.key,Ys=R.fetchers.get(Vt),At=ts(void 0,Ys?Ys.data:void 0);R.fetchers.set(Vt,At),fe.has(Vt)&&st(Vt),Re.controller&&fe.set(Vt,Re.controller)}),Mt({fetchers:new Map(R.fetchers)});let Ye=()=>jn.forEach(Re=>st(Re.key));De.signal.addEventListener("abort",Ye);let{loaderResults:Ve,fetcherResults:Be}=await Jn(R.matches,Z,Mn,jn,nt);if(De.signal.aborted)return;De.signal.removeEventListener("abort",Ye),ke.delete(O),fe.delete(O),jn.forEach(Re=>fe.delete(Re.key));let Me=Zf([...Ve,...Be]);if(Me){if(Me.idx>=Mn.length){let Re=jn[Me.idx-Mn.length].key;_t.add(Re)}return Qt(nt,Me.result)}let{loaderData:dt,errors:Kt}=Wf(R,R.matches,Mn,Ve,void 0,jn,Be,rn);if(R.fetchers.has(O)){let Re=Zr(Ee.data);R.fetchers.set(O,Re)}Ur(jr),R.navigation.state==="loading"&&jr>Je?(Ue(G,"Expected pending action"),we&&we.abort(),Zt(R.navigation.location,{matches:Z,loaderData:dt,errors:Kt,fetchers:new Map(R.fetchers)})):(Mt({errors:Kt,loaderData:Gf(R.loaderData,dt,Z,Kt),fetchers:new Map(R.fetchers)}),qe=!1)}async function Oo(O,P,L,Q,de,ue,Ce,oe){let _e=R.fetchers.get(O);$n(O,ts(oe,_e?_e.data:void 0),{flushSync:Ce});let me=new AbortController,De=Ji(e.history,L,me.signal);if(ue){let Ee=await Gi(de,L,De.signal);if(Ee.type==="aborted")return;if(Ee.type==="error"){let{error:Lt}=wi(L,Ee);yn(O,P,Lt,{flushSync:Ce});return}else if(Ee.matches)de=Ee.matches,Q=as(de,L);else{yn(O,P,gn(404,{pathname:L}),{flushSync:Ce});return}}fe.set(O,me);let tt=ve,Oe=(await Fr("loader",De,[Q],de))[0];if(Mi(Oe)&&(Oe=await jh(Oe,De.signal,!0)||Oe),fe.get(O)===me&&fe.delete(O),!De.signal.aborted){if(he.has(O)){$n(O,Zr(void 0));return}if(Ri(Oe))if(Je>tt){$n(O,Zr(void 0));return}else{_t.add(O),await Qt(De,Oe);return}if(Ln(Oe)){yn(O,P,Oe.error);return}Ue(!Mi(Oe),"Unhandled fetcher deferred data"),$n(O,Zr(Oe.data))}}async function Qt(O,P,L){let{submission:Q,fetcherSubmission:de,replace:ue}=L===void 0?{}:L;P.response.headers.has("X-Remix-Revalidate")&&(qe=!0);let Ce=P.response.headers.get("Location");Ue(Ce,"Expected a Location header on the redirect Response"),Ce=Hf(Ce,new URL(O.url),w);let oe=Ls(R.location,Ce,{_isRedirect:!0});if(i){let Oe=!1;if(P.response.headers.has("X-Remix-Reload-Document"))Oe=!0;else if(s1.test(Ce)){const Ee=e.history.createURL(Ce);Oe=Ee.origin!==t.location.origin||Lr(Ee.pathname,w)==null}if(Oe){ue?t.location.replace(Ce):t.location.assign(Ce);return}}we=null;let _e=ue===!0||P.response.headers.has("X-Remix-Replace")?kt.Replace:kt.Push,{formMethod:me,formAction:De,formEncType:tt}=R.navigation;!Q&&!de&&me&&De&&tt&&(Q=qf(R.navigation));let Pe=Q||de;if(Mx.has(P.response.status)&&Pe&&ir(Pe.formMethod))await Xe(_e,oe,{submission:St({},Pe,{formAction:Ce}),preventScrollReset:se});else{let Oe=lu(oe,Q);await Xe(_e,oe,{overrideNavigation:Oe,fetcherSubmission:de,preventScrollReset:se})}}async function Fr(O,P,L,Q){try{let de=await Fx(x,O,P,L,Q,f,c);return await Promise.all(de.map((ue,Ce)=>{if(Gx(ue)){let oe=ue.result;return{type:lt.redirect,response:jx(oe,P,L[Ce].route.id,Q,w,A.v7_relativeSplatPath)}}return zx(ue)}))}catch(de){return L.map(()=>({type:lt.error,error:de}))}}async function Jn(O,P,L,Q,de){let[ue,...Ce]=await Promise.all([L.length?Fr("loader",de,L,P):[],...Q.map(oe=>{if(oe.matches&&oe.match&&oe.controller){let _e=Ji(e.history,oe.path,oe.controller.signal);return Fr("loader",_e,[oe.match],oe.matches).then(me=>me[0])}else return Promise.resolve({type:lt.error,error:gn(404,{pathname:oe.path})})})]);return await Promise.all([Kf(O,L,ue,ue.map(()=>de.signal),!1,R.loaderData),Kf(O,Q.map(oe=>oe.match),Ce,Q.map(oe=>oe.controller?oe.controller.signal:null),!0)]),{loaderResults:ue,fetcherResults:Ce}}function Ft(){qe=!0,Te.push(...dn()),$e.forEach((O,P)=>{fe.has(P)&&(ae.add(P),st(P))})}function $n(O,P,L){L===void 0&&(L={}),R.fetchers.set(O,P),Mt({fetchers:new Map(R.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function yn(O,P,L,Q){Q===void 0&&(Q={});let de=fo(R.matches,P);pt(O),Mt({errors:{[de.route.id]:L},fetchers:new Map(R.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function Gs(O){return A.v7_fetcherPersist&&(_n.set(O,(_n.get(O)||0)+1),he.has(O)&&he.delete(O)),R.fetchers.get(O)||Rx}function pt(O){let P=R.fetchers.get(O);fe.has(O)&&!(P&&P.state==="loading"&&ke.has(O))&&st(O),$e.delete(O),ke.delete(O),_t.delete(O),he.delete(O),ae.delete(O),R.fetchers.delete(O)}function ie(O){if(A.v7_fetcherPersist){let P=(_n.get(O)||0)-1;P<=0?(_n.delete(O),he.add(O)):_n.set(O,P)}else pt(O);Mt({fetchers:new Map(R.fetchers)})}function st(O){let P=fe.get(O);Ue(P,"Expected fetch controller: "+O),P.abort(),fe.delete(O)}function et(O){for(let P of O){let L=Gs(P),Q=Zr(L.data);R.fetchers.set(P,Q)}}function xt(){let O=[],P=!1;for(let L of _t){let Q=R.fetchers.get(L);Ue(Q,"Expected fetcher: "+L),Q.state==="loading"&&(_t.delete(L),O.push(L),P=!0)}return et(O),P}function Ur(O){let P=[];for(let[L,Q]of ke)if(Q<O){let de=R.fetchers.get(L);Ue(de,"Expected fetcher: "+L),de.state==="loading"&&(st(L),ke.delete(L),P.push(L))}return et(P),P.length>0}function bo(O,P){let L=R.blockers.get(O)||es;return ft.get(O)!==P&&ft.set(O,P),L}function Lo(O){R.blockers.delete(O),ft.delete(O)}function He(O,P){let L=R.blockers.get(O)||es;Ue(L.state==="unblocked"&&P.state==="blocked"||L.state==="blocked"&&P.state==="blocked"||L.state==="blocked"&&P.state==="proceeding"||L.state==="blocked"&&P.state==="unblocked"||L.state==="proceeding"&&P.state==="unblocked","Invalid blocker state transition: "+L.state+" -> "+P.state);let Q=new Map(R.blockers);Q.set(O,P),Mt({blockers:Q})}function cr(O){let{currentLocation:P,nextLocation:L,historyAction:Q}=O;if(ft.size===0)return;ft.size>1&&No(!1,"A router only supports one blocker at a time");let de=Array.from(ft.entries()),[ue,Ce]=de[de.length-1],oe=R.blockers.get(ue);if(!(oe&&oe.state==="proceeding")&&Ce({currentLocation:P,nextLocation:L,historyAction:Q}))return ue}function Wi(O){let P=gn(404,{pathname:O}),L=m||g,{matches:Q,route:de}=Xf(L);return dn(),{notFoundMatches:Q,route:de,error:P}}function wi(O,P){return{boundaryId:fo(P.partialMatches).route.id,error:gn(400,{type:"route-discovery",pathname:O,message:P.error!=null&&"message"in P.error?P.error:String(P.error)})}}function dn(O){let P=[];return rn.forEach((L,Q)=>{(!O||O(Q))&&(L.cancel(),P.push(Q),rn.delete(Q))}),P}function ko(O,P,L){if(K=O,N=P,D=L||null,!M&&R.navigation===au){M=!0;let Q=yi(R.location,R.matches);Q!=null&&Mt({restoreScrollPosition:Q})}return()=>{K=null,N=null,D=null}}function Ut(O,P){return D&&D(O,P.map(Q=>ax(Q,R.loaderData)))||O.key}function zr(O,P){if(K&&N){let L=Ut(O,P);K[L]=N()}}function yi(O,P){if(K){let L=Ut(O,P),Q=K[L];if(typeof Q=="number")return Q}return null}function hn(O,P,L){if(v){if(B.has(L))return{active:!1,matches:O};if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:_a(P,L,w,!0)}}else return{active:!0,matches:_a(P,L,w,!0)||[]}}return{active:!1,matches:null}}async function Gi(O,P,L){let Q=O;for(;;){let de=m==null,ue=m||g;try{await Px(v,P,Q,ue,f,c,mi,L)}catch(_e){return{type:"error",error:_e,partialMatches:Q}}finally{de&&(g=[...g])}if(L.aborted)return{type:"aborted"};let Ce=Ii(ue,P,w);if(Ce)return fr(P,B),{type:"success",matches:Ce};let oe=_a(ue,P,w,!0);if(!oe||Q.length===oe.length&&Q.every((_e,me)=>_e.route.id===oe[me].route.id))return fr(P,B),{type:"success",matches:null};Q=oe}}function fr(O,P){if(P.size>=H){let L=P.values().next().value;P.delete(L)}P.add(O)}function Po(O){f={},m=ks(O,c,void 0,f)}function sn(O,P){let L=m==null;Fh(O,P,m||g,f,c),L&&(g=[...g],Mt({}))}return V={get basename(){return w},get future(){return A},get state(){return R},get routes(){return g},get window(){return t},initialize:on,subscribe:Ze,enableScrollRestoration:ko,navigate:Br,fetch:Ws,revalidate:Bt,createHref:O=>e.history.createHref(O),encodeLocation:O=>e.history.encodeLocation(O),getFetcher:Gs,deleteFetcher:ie,dispose:ji,getBlocker:bo,deleteBlocker:Lo,patchRoutes:sn,_internalFetchControllers:fe,_internalActiveDeferreds:rn,_internalSetRoutes:Po},V}function bx(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function nc(e,t,i,a,c,f,g,m){let w,x;if(g){w=[];for(let A of t)if(w.push(A),A.route.id===g){x=A;break}}else w=t,x=t[t.length-1];let v=o1(c||".",i1(w,f),Lr(e.pathname,i)||e.pathname,m==="path");return c==null&&(v.search=e.search,v.hash=e.hash),(c==null||c===""||c===".")&&x&&x.route.index&&!a1(v.search)&&(v.search=v.search?v.search.replace(/^\?/,"?index&"):"?index"),a&&i!=="/"&&(v.pathname=v.pathname==="/"?i:Mr([i,v.pathname])),Fi(v)}function Ff(e,t,i,a){if(!a||!bx(a))return{path:i};if(a.formMethod&&!Xx(a.formMethod))return{path:i,error:gn(405,{method:a.formMethod})};let c=()=>({path:i,error:gn(400,{type:"invalid-body"})}),f=a.formMethod||"get",g=e?f.toUpperCase():f.toLowerCase(),m=Uh(i);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!ir(g))return c();let _=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((U,H)=>{let[B,K]=H;return""+U+B+"="+K+`
`},""):String(a.body);return{path:i,submission:{formMethod:g,formAction:m,formEncType:a.formEncType,formData:void 0,json:void 0,text:_}}}else if(a.formEncType==="application/json"){if(!ir(g))return c();try{let _=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:i,submission:{formMethod:g,formAction:m,formEncType:a.formEncType,formData:void 0,json:_,text:void 0}}}catch{return c()}}}Ue(typeof FormData=="function","FormData is not available in this environment");let w,x;if(a.formData)w=rc(a.formData),x=a.formData;else if(a.body instanceof FormData)w=rc(a.body),x=a.body;else if(a.body instanceof URLSearchParams)w=a.body,x=Vf(w);else if(a.body==null)w=new URLSearchParams,x=new FormData;else try{w=new URLSearchParams(a.body),x=Vf(w)}catch{return c()}let v={formMethod:g,formAction:m,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:x,json:void 0,text:void 0};if(ir(v.formMethod))return{path:i,submission:v};let A=pi(i);return t&&A.search&&a1(A.search)&&w.append("index",""),A.search="?"+w,{path:Fi(A),submission:v}}function Lx(e,t){let i=e;if(t){let a=e.findIndex(c=>c.route.id===t);a>=0&&(i=e.slice(0,a))}return i}function Uf(e,t,i,a,c,f,g,m,w,x,v,A,_,U,H,B){let K=B?Ln(B[1])?B[1].error:B[1].data:void 0,D=e.createURL(t.location),N=e.createURL(c),M=B&&Ln(B[1])?B[0]:void 0,F=M?Lx(i,M):i,ee=B?B[1].statusCode:void 0,J=g&&ee&&ee>=400,V=F.filter((G,se)=>{let{route:we}=G;if(we.lazy)return!0;if(we.loader==null)return!1;if(f)return typeof we.loader!="function"||we.loader.hydrate?!0:t.loaderData[we.id]===void 0&&(!t.errors||t.errors[we.id]===void 0);if(kx(t.loaderData,t.matches[se],G)||w.some(Le=>Le===G.route.id))return!0;let ce=t.matches[se],Ie=G;return zf(G,St({currentUrl:D,currentParams:ce.params,nextUrl:N,nextParams:Ie.params},a,{actionResult:K,actionStatus:ee,defaultShouldRevalidate:J?!1:m||D.pathname+D.search===N.pathname+N.search||D.search!==N.search||Bh(ce,Ie)}))}),R=[];return A.forEach((G,se)=>{if(f||!i.some(X=>X.route.id===G.routeId)||v.has(se))return;let we=Ii(U,G.path,H);if(!we){R.push({key:se,routeId:G.routeId,path:G.path,matches:null,match:null,controller:null});return}let ce=t.fetchers.get(se),Ie=as(we,G.path),Le=!1;_.has(se)?Le=!1:x.has(se)?(x.delete(se),Le=!0):ce&&ce.state!=="idle"&&ce.data===void 0?Le=m:Le=zf(Ie,St({currentUrl:D,currentParams:t.matches[t.matches.length-1].params,nextUrl:N,nextParams:i[i.length-1].params},a,{actionResult:K,actionStatus:ee,defaultShouldRevalidate:J?!1:m})),Le&&R.push({key:se,routeId:G.routeId,path:G.path,matches:we,match:Ie,controller:new AbortController})}),[V,R]}function kx(e,t,i){let a=!t||i.route.id!==t.route.id,c=e[i.route.id]===void 0;return a||c}function Bh(e,t){let i=e.route.path;return e.pathname!==t.pathname||i!=null&&i.endsWith("*")&&e.params["*"]!==t.params["*"]}function zf(e,t){if(e.route.shouldRevalidate){let i=e.route.shouldRevalidate(t);if(typeof i=="boolean")return i}return t.defaultShouldRevalidate}async function Px(e,t,i,a,c,f,g,m){let w=[t,...i.map(x=>x.route.id)].join("-");try{let x=g.get(w);x||(x=e({path:t,matches:i,patch:(v,A)=>{m.aborted||Fh(v,A,a,c,f)}}),g.set(w,x)),x&&Wx(x)&&await x}finally{g.delete(w)}}function Fh(e,t,i,a,c){if(e){var f;let g=a[e];Ue(g,"No route found to patch children into: routeId = "+e);let m=ks(t,c,[e,"patch",String(((f=g.children)==null?void 0:f.length)||"0")],a);g.children?g.children.push(...m):g.children=m}else{let g=ks(t,c,["patch",String(i.length||"0")],a);i.push(...g)}}async function jf(e,t,i){if(!e.lazy)return;let a=await e.lazy();if(!e.lazy)return;let c=i[e.id];Ue(c,"No route found in manifest");let f={};for(let g in a){let w=c[g]!==void 0&&g!=="hasErrorBoundary";No(!w,'Route "'+c.id+'" has a static property "'+g+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+g+'" will be ignored.')),!w&&!ox.has(g)&&(f[g]=a[g])}Object.assign(c,f),Object.assign(c,St({},t(c),{lazy:void 0}))}function Bx(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function Fx(e,t,i,a,c,f,g,m){let w=a.reduce((A,_)=>A.add(_.route.id),new Set),x=new Set,v=await e({matches:c.map(A=>{let _=w.has(A.route.id);return St({},A,{shouldLoad:_,resolve:H=>(x.add(A.route.id),_?Ux(t,i,A,f,g,H,m):Promise.resolve({type:lt.data,result:void 0}))})}),request:i,params:c[0].params,context:m});return c.forEach(A=>Ue(x.has(A.route.id),'`match.resolve()` was not called for route id "'+A.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),v.filter((A,_)=>w.has(c[_].route.id))}async function Ux(e,t,i,a,c,f,g){let m,w,x=v=>{let A,_=new Promise((B,K)=>A=K);w=()=>A(),t.signal.addEventListener("abort",w);let U=B=>typeof v!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+i.route.id+"]"))):v({request:t,params:i.params,context:g},...B!==void 0?[B]:[]),H;return f?H=f(B=>U(B)):H=(async()=>{try{return{type:"data",result:await U()}}catch(B){return{type:"error",result:B}}})(),Promise.race([H,_])};try{let v=i.route[e];if(i.route.lazy)if(v){let A,[_]=await Promise.all([x(v).catch(U=>{A=U}),jf(i.route,c,a)]);if(A!==void 0)throw A;m=_}else if(await jf(i.route,c,a),v=i.route[e],v)m=await x(v);else if(e==="action"){let A=new URL(t.url),_=A.pathname+A.search;throw gn(405,{method:t.method,pathname:_,routeId:i.route.id})}else return{type:lt.data,result:void 0};else if(v)m=await x(v);else{let A=new URL(t.url),_=A.pathname+A.search;throw gn(404,{pathname:_})}Ue(m.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+i.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(v){return{type:lt.error,result:v}}finally{w&&t.signal.removeEventListener("abort",w)}return m}async function zx(e){let{result:t,type:i}=e;if(zh(t)){let x;try{let v=t.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?t.body==null?x=null:x=await t.json():x=await t.text()}catch(v){return{type:lt.error,error:v}}return i===lt.error?{type:lt.error,error:new el(t.status,t.statusText,x),statusCode:t.status,headers:t.headers}:{type:lt.data,data:x,statusCode:t.status,headers:t.headers}}if(i===lt.error){if(Qf(t)){var a;if(t.data instanceof Error){var c;return{type:lt.error,error:t.data,statusCode:(c=t.init)==null?void 0:c.status}}t=new el(((a=t.init)==null?void 0:a.status)||500,void 0,t.data)}return{type:lt.error,error:t,statusCode:Cl(t)?t.status:void 0}}if(Yx(t)){var f,g;return{type:lt.deferred,deferredData:t,statusCode:(f=t.init)==null?void 0:f.status,headers:((g=t.init)==null?void 0:g.headers)&&new Headers(t.init.headers)}}if(Qf(t)){var m,w;return{type:lt.data,data:t.data,statusCode:(m=t.init)==null?void 0:m.status,headers:(w=t.init)!=null&&w.headers?new Headers(t.init.headers):void 0}}return{type:lt.data,data:t}}function jx(e,t,i,a,c,f){let g=e.headers.get("Location");if(Ue(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!s1.test(g)){let m=a.slice(0,a.findIndex(w=>w.route.id===i)+1);g=nc(new URL(t.url),m,c,!0,g,f),e.headers.set("Location",g)}return e}function Hf(e,t,i){if(s1.test(e)){let a=e,c=a.startsWith("//")?new URL(t.protocol+a):new URL(a),f=Lr(c.pathname,i)!=null;if(c.origin===t.origin&&f)return c.pathname+c.search+c.hash}return e}function Ji(e,t,i,a){let c=e.createURL(Uh(t)).toString(),f={signal:i};if(a&&ir(a.formMethod)){let{formMethod:g,formEncType:m}=a;f.method=g.toUpperCase(),m==="application/json"?(f.headers=new Headers({"Content-Type":m}),f.body=JSON.stringify(a.json)):m==="text/plain"?f.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?f.body=rc(a.formData):f.body=a.formData}return new Request(c,f)}function rc(e){let t=new URLSearchParams;for(let[i,a]of e.entries())t.append(i,typeof a=="string"?a:a.name);return t}function Vf(e){let t=new FormData;for(let[i,a]of e.entries())t.append(i,a);return t}function Hx(e,t,i,a,c,f){let g={},m=null,w,x=!1,v={},A=a&&Ln(a[1])?a[1].error:void 0;return i.forEach((_,U)=>{let H=t[U].route.id;if(Ue(!Ri(_),"Cannot handle redirect results in processLoaderData"),Ln(_)){let B=_.error;A!==void 0&&(B=A,A=void 0),m=m||{};{let K=fo(e,H);m[K.route.id]==null&&(m[K.route.id]=B)}g[H]=void 0,x||(x=!0,w=Cl(_.error)?_.error.status:500),_.headers&&(v[H]=_.headers)}else Mi(_)?(c.set(H,_.deferredData),g[H]=_.deferredData.data,_.statusCode!=null&&_.statusCode!==200&&!x&&(w=_.statusCode),_.headers&&(v[H]=_.headers)):(g[H]=_.data,_.statusCode&&_.statusCode!==200&&!x&&(w=_.statusCode),_.headers&&(v[H]=_.headers))}),A!==void 0&&a&&(m={[a[0]]:A},g[a[0]]=void 0),{loaderData:g,errors:m,statusCode:w||200,loaderHeaders:v}}function Wf(e,t,i,a,c,f,g,m){let{loaderData:w,errors:x}=Hx(t,i,a,c,m);for(let v=0;v<f.length;v++){let{key:A,match:_,controller:U}=f[v];Ue(g!==void 0&&g[v]!==void 0,"Did not find corresponding fetcher result");let H=g[v];if(!(U&&U.signal.aborted))if(Ln(H)){let B=fo(e.matches,_==null?void 0:_.route.id);x&&x[B.route.id]||(x=St({},x,{[B.route.id]:H.error})),e.fetchers.delete(A)}else if(Ri(H))Ue(!1,"Unhandled fetcher revalidation redirect");else if(Mi(H))Ue(!1,"Unhandled fetcher deferred data");else{let B=Zr(H.data);e.fetchers.set(A,B)}}return{loaderData:w,errors:x}}function Gf(e,t,i,a){let c=St({},t);for(let f of i){let g=f.route.id;if(t.hasOwnProperty(g)?t[g]!==void 0&&(c[g]=t[g]):e[g]!==void 0&&f.route.loader&&(c[g]=e[g]),a&&a.hasOwnProperty(g))break}return c}function Yf(e){return e?Ln(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function fo(e,t){return(t?e.slice(0,e.findIndex(a=>a.route.id===t)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function Xf(e){let t=e.length===1?e[0]:e.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function gn(e,t){let{pathname:i,routeId:a,method:c,type:f,message:g}=t===void 0?{}:t,m="Unknown Server Error",w="Unknown @remix-run/router error";return e===400?(m="Bad Request",f==="route-discovery"?w='Unable to match URL "'+i+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+g):c&&i&&a?w="You made a "+c+' request to "'+i+'" but '+('did not provide a `loader` for route "'+a+'", ')+"so there is no way to handle the request.":f==="defer-action"?w="defer() is not supported in actions":f==="invalid-body"&&(w="Unable to encode submission body")):e===403?(m="Forbidden",w='Route "'+a+'" does not match URL "'+i+'"'):e===404?(m="Not Found",w='No route matches URL "'+i+'"'):e===405&&(m="Method Not Allowed",c&&i&&a?w="You made a "+c.toUpperCase()+' request to "'+i+'" but '+('did not provide an `action` for route "'+a+'", ')+"so there is no way to handle the request.":c&&(w='Invalid request method "'+c.toUpperCase()+'"')),new el(e||500,m,new Error(w),!0)}function Zf(e){for(let t=e.length-1;t>=0;t--){let i=e[t];if(Ri(i))return{result:i,idx:t}}}function Uh(e){let t=typeof e=="string"?pi(e):e;return Fi(St({},t,{hash:""}))}function Vx(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Wx(e){return typeof e=="object"&&e!=null&&"then"in e}function Gx(e){return zh(e.result)&&_x.has(e.result.status)}function Mi(e){return e.type===lt.deferred}function Ln(e){return e.type===lt.error}function Ri(e){return(e&&e.type)===lt.redirect}function Qf(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Yx(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function zh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Xx(e){return Nx.has(e.toLowerCase())}function ir(e){return Ix.has(e.toLowerCase())}async function Kf(e,t,i,a,c,f){for(let g=0;g<i.length;g++){let m=i[g],w=t[g];if(!w)continue;let x=e.find(A=>A.route.id===w.route.id),v=x!=null&&!Bh(x,w)&&(f&&f[w.route.id])!==void 0;if(Mi(m)&&(c||v)){let A=a[g];Ue(A,"Expected an AbortSignal for revalidating fetcher deferred result"),await jh(m,A,c).then(_=>{_&&(i[g]=_||i[g])})}}}async function jh(e,t,i){if(i===void 0&&(i=!1),!await e.deferredData.resolveData(t)){if(i)try{return{type:lt.data,data:e.deferredData.unwrappedData}}catch(c){return{type:lt.error,error:c}}return{type:lt.data,data:e.deferredData.data}}}function a1(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function as(e,t){let i=typeof t=="string"?pi(t).search:t.search;if(e[e.length-1].route.index&&a1(i||""))return e[e.length-1];let a=Lh(e);return a[a.length-1]}function qf(e){let{formMethod:t,formAction:i,formEncType:a,text:c,formData:f,json:g}=e;if(!(!t||!i||!a)){if(c!=null)return{formMethod:t,formAction:i,formEncType:a,formData:void 0,json:void 0,text:c};if(f!=null)return{formMethod:t,formAction:i,formEncType:a,formData:f,json:void 0,text:void 0};if(g!==void 0)return{formMethod:t,formAction:i,formEncType:a,formData:void 0,json:g,text:void 0}}}function lu(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Zx(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ts(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Qx(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Zr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Kx(e,t){try{let i=e.sessionStorage.getItem(Ph);if(i){let a=JSON.parse(i);for(let[c,f]of Object.entries(a||{}))f&&Array.isArray(f)&&t.set(c,new Set(f||[]))}}catch{}}function qx(e,t){if(t.size>0){let i={};for(let[a,c]of t)i[a]=[...c];try{e.sessionStorage.setItem(Ph,JSON.stringify(i))}catch(a){No(!1,"Failed to save applied view transitions in sessionStorage ("+a+").")}}}/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},tl.apply(this,arguments)}const js=q.createContext(null),l1=q.createContext(null),xi=q.createContext(null),u1=q.createContext(null),Pr=q.createContext({outlet:null,matches:[],isDataRoute:!1}),Hh=q.createContext(null);function Jx(e,t){let{relative:i}=t===void 0?{}:t;Hs()||Ue(!1);let{basename:a,navigator:c}=q.useContext(xi),{hash:f,pathname:g,search:m}=Al(e,{relative:i}),w=g;return a!=="/"&&(w=g==="/"?a:Mr([a,g])),c.createHref({pathname:w,search:m,hash:f})}function Hs(){return q.useContext(u1)!=null}function Vs(){return Hs()||Ue(!1),q.useContext(u1).location}function Vh(e){q.useContext(xi).static||q.useLayoutEffect(e)}function Wh(){let{isDataRoute:e}=q.useContext(Pr);return e?hm():$x()}function $x(){Hs()||Ue(!1);let e=q.useContext(js),{basename:t,future:i,navigator:a}=q.useContext(xi),{matches:c}=q.useContext(Pr),{pathname:f}=Vs(),g=JSON.stringify(i1(c,i.v7_relativeSplatPath)),m=q.useRef(!1);return Vh(()=>{m.current=!0}),q.useCallback(function(x,v){if(v===void 0&&(v={}),!m.current)return;if(typeof x=="number"){a.go(x);return}let A=o1(x,JSON.parse(g),f,v.relative==="path");e==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:Mr([t,A.pathname])),(v.replace?a.replace:a.push)(A,v.state,v)},[t,a,g,f,e])}const em=q.createContext(null);function tm(e){let t=q.useContext(Pr).outlet;return t&&q.createElement(em.Provider,{value:e},t)}function nm(){let{matches:e}=q.useContext(Pr),t=e[e.length-1];return t?t.params:{}}function Al(e,t){let{relative:i}=t===void 0?{}:t,{future:a}=q.useContext(xi),{matches:c}=q.useContext(Pr),{pathname:f}=Vs(),g=JSON.stringify(i1(c,a.v7_relativeSplatPath));return q.useMemo(()=>o1(e,JSON.parse(g),f,i==="path"),[e,g,f,i])}function rm(e,t,i,a){Hs()||Ue(!1);let{navigator:c}=q.useContext(xi),{matches:f}=q.useContext(Pr),g=f[f.length-1],m=g?g.params:{};g&&g.pathname;let w=g?g.pathnameBase:"/";g&&g.route;let x=Vs(),v;v=x;let A=v.pathname||"/",_=A;if(w!=="/"){let B=w.replace(/^\//,"").split("/");_="/"+A.replace(/^\//,"").split("/").slice(B.length).join("/")}let U=Ii(e,{pathname:_});return lm(U&&U.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Mr([w,c.encodeLocation?c.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?w:Mr([w,c.encodeLocation?c.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),f,i,a)}function im(){let e=dm(),t=Cl(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),i?q.createElement("pre",{style:c},i):null,null)}const om=q.createElement(im,null);class sm extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error!==void 0?q.createElement(Pr.Provider,{value:this.props.routeContext},q.createElement(Hh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function am(e){let{routeContext:t,match:i,children:a}=e,c=q.useContext(js);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),q.createElement(Pr.Provider,{value:t},a)}function lm(e,t,i,a){var c;if(t===void 0&&(t=[]),i===void 0&&(i=null),a===void 0&&(a=null),e==null){var f;if(!i)return null;if(i.errors)e=i.matches;else if((f=a)!=null&&f.v7_partialHydration&&t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let g=e,m=(c=i)==null?void 0:c.errors;if(m!=null){let v=g.findIndex(A=>A.route.id&&(m==null?void 0:m[A.route.id])!==void 0);v>=0||Ue(!1),g=g.slice(0,Math.min(g.length,v+1))}let w=!1,x=-1;if(i&&a&&a.v7_partialHydration)for(let v=0;v<g.length;v++){let A=g[v];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(x=v),A.route.id){let{loaderData:_,errors:U}=i,H=A.route.loader&&_[A.route.id]===void 0&&(!U||U[A.route.id]===void 0);if(A.route.lazy||H){w=!0,x>=0?g=g.slice(0,x+1):g=[g[0]];break}}}return g.reduceRight((v,A,_)=>{let U,H=!1,B=null,K=null;i&&(U=m&&A.route.id?m[A.route.id]:void 0,B=A.route.errorElement||om,w&&(x<0&&_===0?(gm("route-fallback"),H=!0,K=null):x===_&&(H=!0,K=A.route.hydrateFallbackElement||null)));let D=t.concat(g.slice(0,_+1)),N=()=>{let M;return U?M=B:H?M=K:A.route.Component?M=q.createElement(A.route.Component,null):A.route.element?M=A.route.element:M=v,q.createElement(am,{match:A,routeContext:{outlet:v,matches:D,isDataRoute:i!=null},children:M})};return i&&(A.route.ErrorBoundary||A.route.errorElement||_===0)?q.createElement(sm,{location:i.location,revalidation:i.revalidation,component:B,error:U,children:N(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):N()},null)}var Gh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gh||{}),nl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nl||{});function um(e){let t=q.useContext(js);return t||Ue(!1),t}function cm(e){let t=q.useContext(l1);return t||Ue(!1),t}function fm(e){let t=q.useContext(Pr);return t||Ue(!1),t}function Yh(e){let t=fm(),i=t.matches[t.matches.length-1];return i.route.id||Ue(!1),i.route.id}function dm(){var e;let t=q.useContext(Hh),i=cm(nl.UseRouteError),a=Yh(nl.UseRouteError);return t!==void 0?t:(e=i.errors)==null?void 0:e[a]}function hm(){let{router:e}=um(Gh.UseNavigateStable),t=Yh(nl.UseNavigateStable),i=q.useRef(!1);return Vh(()=>{i.current=!0}),q.useCallback(function(c,f){f===void 0&&(f={}),i.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,tl({fromRouteId:t},f)))},[e,t])}const Jf={};function gm(e,t,i){Jf[e]||(Jf[e]=!0)}function pm(e){return tm(e.context)}function xm(e){let{basename:t="/",children:i=null,location:a,navigationType:c=kt.Pop,navigator:f,static:g=!1,future:m}=e;Hs()&&Ue(!1);let w=t.replace(/^\/*/,"/"),x=q.useMemo(()=>({basename:w,navigator:f,static:g,future:tl({v7_relativeSplatPath:!1},m)}),[w,m,f,g]);typeof a=="string"&&(a=pi(a));let{pathname:v="/",search:A="",hash:_="",state:U=null,key:H="default"}=a,B=q.useMemo(()=>{let K=Lr(v,w);return K==null?null:{location:{pathname:K,search:A,hash:_,state:U,key:H},navigationType:c}},[w,v,A,_,U,H,c]);return B==null?null:q.createElement(xi.Provider,{value:x},q.createElement(u1.Provider,{children:i,value:B}))}new Promise(()=>{});function mm(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:q.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:q.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:q.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},_o.apply(this,arguments)}function Xh(e,t){if(e==null)return{};var i={},a=Object.keys(e),c,f;for(f=0;f<a.length;f++)c=a[f],!(t.indexOf(c)>=0)&&(i[c]=e[c]);return i}function wm(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ym(e,t){return e.button===0&&(!t||t==="_self")&&!wm(e)}const Em=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Cm=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Am="6";try{window.__reactRouterVersion=Am}catch{}function vm(e,t){return Ox({basename:void 0,future:_o({},void 0,{v7_prependBasename:!0}),history:nx({window:void 0}),hydrationData:Sm(),routes:e,mapRouteProperties:mm,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Sm(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=_o({},t,{errors:Im(t.errors)})),t}function Im(e){if(!e)return null;let t=Object.entries(e),i={};for(let[a,c]of t)if(c&&c.__type==="RouteErrorResponse")i[a]=new el(c.status,c.statusText,c.data,c.internal===!0);else if(c&&c.__type==="Error"){if(c.__subType){let f=window[c.__subType];if(typeof f=="function")try{let g=new f(c.message);g.stack="",i[a]=g}catch{}}if(i[a]==null){let f=new Error(c.message);f.stack="",i[a]=f}}else i[a]=c;return i}const Zh=q.createContext({isTransitioning:!1}),Tm=q.createContext(new Map),Nm="startTransition",$f=Vg[Nm],_m="flushSync",e0=tx[_m];function Mm(e){$f?$f(e):e()}function ns(e){e0?e0(e):e()}class Rm{constructor(){this.status="pending",this.promise=new Promise((t,i)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",i(a))}})}}function Dm(e){let{fallbackElement:t,router:i,future:a}=e,[c,f]=q.useState(i.state),[g,m]=q.useState(),[w,x]=q.useState({isTransitioning:!1}),[v,A]=q.useState(),[_,U]=q.useState(),[H,B]=q.useState(),K=q.useRef(new Map),{v7_startTransition:D}=a||{},N=q.useCallback(R=>{D?Mm(R):R()},[D]),M=q.useCallback((R,G)=>{let{deletedFetchers:se,unstable_flushSync:we,unstable_viewTransitionOpts:ce}=G;se.forEach(Le=>K.current.delete(Le)),R.fetchers.forEach((Le,X)=>{Le.data!==void 0&&K.current.set(X,Le.data)});let Ie=i.window==null||i.window.document==null||typeof i.window.document.startViewTransition!="function";if(!ce||Ie){we?ns(()=>f(R)):N(()=>f(R));return}if(we){ns(()=>{_&&(v&&v.resolve(),_.skipTransition()),x({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let Le=i.window.document.startViewTransition(()=>{ns(()=>f(R))});Le.finished.finally(()=>{ns(()=>{A(void 0),U(void 0),m(void 0),x({isTransitioning:!1})})}),ns(()=>U(Le));return}_?(v&&v.resolve(),_.skipTransition(),B({state:R,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(m(R),x({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[i.window,_,v,K,N]);q.useLayoutEffect(()=>i.subscribe(M),[i,M]),q.useEffect(()=>{w.isTransitioning&&!w.flushSync&&A(new Rm)},[w]),q.useEffect(()=>{if(v&&g&&i.window){let R=g,G=v.promise,se=i.window.document.startViewTransition(async()=>{N(()=>f(R)),await G});se.finished.finally(()=>{A(void 0),U(void 0),m(void 0),x({isTransitioning:!1})}),U(se)}},[N,g,v,i.window]),q.useEffect(()=>{v&&g&&c.location.key===g.location.key&&v.resolve()},[v,_,c.location,g]),q.useEffect(()=>{!w.isTransitioning&&H&&(m(H.state),x({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}),B(void 0))},[w.isTransitioning,H]),q.useEffect(()=>{},[]);let F=q.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:R=>i.navigate(R),push:(R,G,se)=>i.navigate(R,{state:G,preventScrollReset:se==null?void 0:se.preventScrollReset}),replace:(R,G,se)=>i.navigate(R,{replace:!0,state:G,preventScrollReset:se==null?void 0:se.preventScrollReset})}),[i]),ee=i.basename||"/",J=q.useMemo(()=>({router:i,navigator:F,static:!1,basename:ee}),[i,F,ee]),V=q.useMemo(()=>({v7_relativeSplatPath:i.future.v7_relativeSplatPath}),[i.future.v7_relativeSplatPath]);return q.createElement(q.Fragment,null,q.createElement(js.Provider,{value:J},q.createElement(l1.Provider,{value:c},q.createElement(Tm.Provider,{value:K.current},q.createElement(Zh.Provider,{value:w},q.createElement(xm,{basename:ee,location:c.location,navigationType:c.historyAction,navigator:F,future:V},c.initialized||i.future.v7_partialHydration?q.createElement(Om,{routes:i.routes,future:i.future,state:c}):t))))),null)}const Om=q.memo(bm);function bm(e){let{routes:t,future:i,state:a}=e;return rm(t,void 0,a,i)}const Lm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",km=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qh=q.forwardRef(function(t,i){let{onClick:a,relative:c,reloadDocument:f,replace:g,state:m,target:w,to:x,preventScrollReset:v,unstable_viewTransition:A}=t,_=Xh(t,Em),{basename:U}=q.useContext(xi),H,B=!1;if(typeof x=="string"&&km.test(x)&&(H=x,Lm))try{let M=new URL(window.location.href),F=x.startsWith("//")?new URL(M.protocol+x):new URL(x),ee=Lr(F.pathname,U);F.origin===M.origin&&ee!=null?x=ee+F.search+F.hash:B=!0}catch{}let K=Jx(x,{relative:c}),D=Bm(x,{replace:g,state:m,target:w,preventScrollReset:v,relative:c,unstable_viewTransition:A});function N(M){a&&a(M),M.defaultPrevented||D(M)}return q.createElement("a",_o({},_,{href:H||K,onClick:B||f?a:N,ref:i,target:w}))}),t0=q.forwardRef(function(t,i){let{"aria-current":a="page",caseSensitive:c=!1,className:f="",end:g=!1,style:m,to:w,unstable_viewTransition:x,children:v}=t,A=Xh(t,Cm),_=Al(w,{relative:A.relative}),U=Vs(),H=q.useContext(l1),{navigator:B,basename:K}=q.useContext(xi),D=H!=null&&Fm(_)&&x===!0,N=B.encodeLocation?B.encodeLocation(_).pathname:_.pathname,M=U.pathname,F=H&&H.navigation&&H.navigation.location?H.navigation.location.pathname:null;c||(M=M.toLowerCase(),F=F?F.toLowerCase():null,N=N.toLowerCase()),F&&K&&(F=Lr(F,K)||F);const ee=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let J=M===N||!g&&M.startsWith(N)&&M.charAt(ee)==="/",V=F!=null&&(F===N||!g&&F.startsWith(N)&&F.charAt(N.length)==="/"),R={isActive:J,isPending:V,isTransitioning:D},G=J?a:void 0,se;typeof f=="function"?se=f(R):se=[f,J?"active":null,V?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let we=typeof m=="function"?m(R):m;return q.createElement(Qh,_o({},A,{"aria-current":G,className:se,ref:i,style:we,to:w,unstable_viewTransition:x}),typeof v=="function"?v(R):v)});var ic;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ic||(ic={}));var n0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(n0||(n0={}));function Pm(e){let t=q.useContext(js);return t||Ue(!1),t}function Bm(e,t){let{target:i,replace:a,state:c,preventScrollReset:f,relative:g,unstable_viewTransition:m}=t===void 0?{}:t,w=Wh(),x=Vs(),v=Al(e,{relative:g});return q.useCallback(A=>{if(ym(A,i)){A.preventDefault();let _=a!==void 0?a:Fi(x)===Fi(v);w(e,{replace:_,state:c,preventScrollReset:f,relative:g,unstable_viewTransition:m})}},[x,w,v,a,c,i,e,f,g,m])}function Fm(e,t){t===void 0&&(t={});let i=q.useContext(Zh);i==null&&Ue(!1);let{basename:a}=Pm(ic.useViewTransitionState),c=Al(e,{relative:t.relative});if(!i.isTransitioning)return!1;let f=Lr(i.currentLocation.pathname,a)||i.currentLocation.pathname,g=Lr(i.nextLocation.pathname,a)||i.nextLocation.pathname;return $a(c.pathname,g)!=null||$a(c.pathname,f)!=null}const Um="/assets/codigoQRFlow-Bo5RSpTi.png";function zm(){return le.jsx("div",{children:le.jsxs("nav",{className:"flex justify-between items-center mb-6",children:[le.jsx(t0,{to:"/",children:le.jsx("img",{alt:"QR Flow logo",className:"h-10 inline",src:Um})}),le.jsx(t0,{className:"inline-flex items-center justify-center whitespace-nowrap text-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-slate-100 h-9 rounded-md px-3",to:"/create",children:"Create Employee"})]})})}var ge;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ge||(ge={}));var r0=new Map([[ge.QR_CODE,"QR_CODE"],[ge.AZTEC,"AZTEC"],[ge.CODABAR,"CODABAR"],[ge.CODE_39,"CODE_39"],[ge.CODE_93,"CODE_93"],[ge.CODE_128,"CODE_128"],[ge.DATA_MATRIX,"DATA_MATRIX"],[ge.MAXICODE,"MAXICODE"],[ge.ITF,"ITF"],[ge.EAN_13,"EAN_13"],[ge.EAN_8,"EAN_8"],[ge.PDF_417,"PDF_417"],[ge.RSS_14,"RSS_14"],[ge.RSS_EXPANDED,"RSS_EXPANDED"],[ge.UPC_A,"UPC_A"],[ge.UPC_E,"UPC_E"],[ge.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),i0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(i0||(i0={}));function jm(e){return Object.values(ge).includes(e)}var fi;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(fi||(fi={}));var or=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[fi.SCAN_TYPE_CAMERA,fi.SCAN_TYPE_FILE],e}(),Kh=function(){function e(t,i){this.format=t,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!r0.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,r0.get(t))},e}(),o0=function(){function e(){}return e.createFromText=function(t){var i={text:t};return{decodedText:t,result:i}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),oc;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(oc||(oc={}));var qh=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:oc.UNKWOWN_ERROR}},e}(),Jh=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,i){(this.verbose||i===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function mr(e){return typeof e>"u"||e===null}function Hm(e,t,i){return e>i?i:e<t?t:e}var ho=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),it=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),s0=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),$h=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,i){if(typeof t!="object"){var a=typeof t;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(c),g=Object.keys(t),m=0,w=g;m<w.length;m++){var x=w[m];if(f.has(x))return i.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),sc={exports:{}};(function(e,t){(function(i,a){a(t)})(Go,function(i){function a(E){return E==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,n){E.__proto__=n}||function(E,n){for(var r in n)n.hasOwnProperty(r)&&(E[r]=n[r])};function f(E,n){c(E,n);function r(){this.constructor=E}E.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function g(E,n){var r=Object.setPrototypeOf;r?r(E,n):E.__proto__=n}function m(E,n){n===void 0&&(n=E.constructor);var r=Error.captureStackTrace;r&&r(E,n)}var w=function(E){f(n,E);function n(r){var o=this.constructor,s=E.call(this,r)||this;return Object.defineProperty(s,"name",{value:o.name,enumerable:!1}),g(s,o.prototype),m(s),s}return n}(Error);class x extends w{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}x.kind="Exception";class v extends x{}v.kind="ArgumentException";class A extends x{}A.kind="IllegalArgumentException";class _{constructor(n){if(this.binarizer=n,n===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,r){return this.binarizer.getBlackRow(n,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,r,o,s){const l=this.binarizer.getLuminanceSource().crop(n,r,o,s);return new _(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class U extends x{static getChecksumInstance(){return new U}}U.kind="ChecksumException";class H{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class B{static arraycopy(n,r,o,s,l){for(;l--;)o[s++]=n[r++]}static currentTimeMillis(){return Date.now()}}class K extends x{}K.kind="IndexOutOfBoundsException";class D extends K{constructor(n=void 0,r=void 0){super(r),this.index=n,this.message=r}}D.kind="ArrayIndexOutOfBoundsException";class N{static fill(n,r){for(let o=0,s=n.length;o<s;o++)n[o]=r}static fillWithin(n,r,o,s){N.rangeCheck(n.length,r,o);for(let l=r;l<o;l++)n[l]=s}static rangeCheck(n,r,o){if(r>o)throw new A("fromIndex("+r+") > toIndex("+o+")");if(r<0)throw new D(r);if(o>n)throw new D(o)}static asList(...n){return n}static create(n,r,o){return Array.from({length:n}).map(l=>Array.from({length:r}).fill(o))}static createInt32Array(n,r,o){return Array.from({length:n}).map(l=>Int32Array.from({length:r}).fill(o))}static equals(n,r){if(!n||!r||!n.length||!r.length||n.length!==r.length)return!1;for(let o=0,s=n.length;o<s;o++)if(n[o]!==r[o])return!1;return!0}static hashCode(n){if(n===null)return 0;let r=1;for(const o of n)r=31*r+o;return r}static fillUint8Array(n,r){for(let o=0;o!==n.length;o++)n[o]=r}static copyOf(n,r){return n.slice(0,r)}static copyOfUint8Array(n,r){if(n.length<=r){const o=new Uint8Array(r);return o.set(n),o}return n.slice(0,r)}static copyOfRange(n,r,o){const s=o-r,l=new Int32Array(s);return B.arraycopy(n,r,l,0,s),l}static binarySearch(n,r,o){o===void 0&&(o=N.numberComparator);let s=0,l=n.length-1;for(;s<=l;){const u=l+s>>1,d=o(r,n[u]);if(d>0)s=u+1;else if(d<0)l=u-1;else return u}return-s-1}static numberComparator(n,r){return n-r}}class M{static numberOfTrailingZeros(n){let r;if(n===0)return 32;let o=31;return r=n<<16,r!==0&&(o-=16,n=r),r=n<<8,r!==0&&(o-=8,n=r),r=n<<4,r!==0&&(o-=4,n=r),r=n<<2,r!==0&&(o-=2,n=r),o-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let r=1;return n>>>16||(r+=16,n<<=16),n>>>24||(r+=8,n<<=8),n>>>28||(r+=4,n<<=4),n>>>30||(r+=2,n<<=2),r-=n>>>31,r}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,r){return Math.trunc(n/r)}static parseInt(n,r=void 0){return parseInt(n,r)}}M.MIN_VALUE_32_BITS=-2147483648,M.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(n,r){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,r==null?this.bits=F.makeArray(n):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const r=F.makeArray(n);B.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const r=this.size;if(n>=r)return r;const o=this.bits;let s=Math.floor(n/32),l=o[s];l&=~((1<<(n&31))-1);const u=o.length;for(;l===0;){if(++s===u)return r;l=o[s]}const d=s*32+M.numberOfTrailingZeros(l);return d>r?r:d}getNextUnset(n){const r=this.size;if(n>=r)return r;const o=this.bits;let s=Math.floor(n/32),l=~o[s];l&=~((1<<(n&31))-1);const u=o.length;for(;l===0;){if(++s===u)return r;l=~o[s]}const d=s*32+M.numberOfTrailingZeros(l);return d>r?r:d}setBulk(n,r){this.bits[Math.floor(n/32)]=r}setRange(n,r){if(r<n||n<0||r>this.size)throw new A;if(r===n)return;r--;const o=Math.floor(n/32),s=Math.floor(r/32),l=this.bits;for(let u=o;u<=s;u++){const d=u>o?0:n&31,p=(2<<(u<s?31:r&31))-(1<<d);l[u]|=p}}clear(){const n=this.bits.length,r=this.bits;for(let o=0;o<n;o++)r[o]=0}isRange(n,r,o){if(r<n||n<0||r>this.size)throw new A;if(r===n)return!0;r--;const s=Math.floor(n/32),l=Math.floor(r/32),u=this.bits;for(let d=s;d<=l;d++){const h=d>s?0:n&31,y=(2<<(d<l?31:r&31))-(1<<h)&4294967295;if((u[d]&y)!==(o?y:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,r){if(r<0||r>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let o=r;o>0;o--)this.appendBit((n>>o-1&1)===1)}appendBitArray(n){const r=n.size;this.ensureCapacity(this.size+r);for(let o=0;o<r;o++)this.appendBit(n.get(o))}xor(n){if(this.size!==n.size)throw new A("Sizes don't match");const r=this.bits;for(let o=0,s=r.length;o<s;o++)r[o]^=n.bits[o]}toBytes(n,r,o,s){for(let l=0;l<s;l++){let u=0;for(let d=0;d<8;d++)this.get(n)&&(u|=1<<7-d),n++;r[o+l]=u}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),o=r+1,s=this.bits;for(let l=0;l<o;l++){let u=s[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,n[r-l]=u}if(this.size!==o*32){const l=o*32-this.size;let u=n[0]>>>l;for(let d=1;d<o;d++){const h=n[d];u|=h<<32-l,n[d-1]=u,u=h>>>l}n[o-1]=u}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof F))return!1;const r=n;return this.size===r.size&&N.equals(this.bits,r.bits)}hashCode(){return 31*this.size+N.hashCode(this.bits)}toString(){let n="";for(let r=0,o=this.size;r<o;r++)r&7||(n+=" "),n+=this.get(r)?"X":".";return n}clone(){return new F(this.size,this.bits.slice())}}var ee;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ee||(ee={}));var J=ee;class V extends x{static getFormatInstance(){return new V}}V.kind="FormatException";var R;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})(R||(R={}));class G{constructor(n,r,o,...s){this.valueIdentifier=n,this.name=o,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,G.VALUE_IDENTIFIER_TO_ECI.set(n,this),G.NAME_TO_ECI.set(o,this);const l=this.values;for(let u=0,d=l.length;u!==d;u++){const h=l[u];G.VALUES_TO_ECI.set(h,this)}for(const u of s)G.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new V("incorect value");const r=G.VALUES_TO_ECI.get(n);if(r===void 0)throw new V("incorect value");return r}static getCharacterSetECIByName(n){const r=G.NAME_TO_ECI.get(n);if(r===void 0)throw new V("incorect value");return r}equals(n){if(!(n instanceof G))return!1;const r=n;return this.getName()===r.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(R.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(R.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(R.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(R.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(R.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(R.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(R.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(R.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(R.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(R.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(R.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(R.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(R.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(R.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(R.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(R.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(R.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(R.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(R.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(R.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(R.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(R.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(R.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(R.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(R.Big5,28,"Big5"),G.GB18030=new G(R.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(R.EUC_KR,30,"EUC_KR","EUC-KR");class se extends x{}se.kind="UnsupportedOperationException";class we{static decode(n,r){const o=this.encodingName(r);return this.customDecoder?this.customDecoder(n,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(n,o):new TextDecoder(o).decode(n)}static shouldDecodeOnFallback(n){return!we.isBrowser()&&n==="ISO-8859-1"}static encode(n,r){const o=this.encodingName(r);return this.customEncoder?this.customEncoder(n,o):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof G?n:G.getCharacterSetECIByName(n)}static decodeFallback(n,r){const o=this.encodingCharacterSet(r);if(we.isDecodeFallbackSupported(o)){let s="";for(let l=0,u=n.length;l<u;l++){let d=n[l].toString(16);d.length<2&&(d="0"+d),s+="%"+d}return decodeURIComponent(s)}if(o.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new se(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(G.UTF8)||n.equals(G.ISO8859_1)||n.equals(G.ASCII)}static encodeFallback(n){const o=btoa(unescape(encodeURIComponent(n))).split(""),s=[];for(let l=0;l<o.length;l++)s.push(o[l].charCodeAt(0));return new Uint8Array(s)}}class ce{static castAsNonUtf8Char(n,r=null){const o=r?r.getName():this.ISO88591;return we.decode(new Uint8Array([n]),o)}static guessEncoding(n,r){if(r!=null&&r.get(J.CHARACTER_SET)!==void 0)return r.get(J.CHARACTER_SET).toString();const o=n.length;let s=!0,l=!0,u=!0,d=0,h=0,p=0,y=0,C=0,S=0,T=0,b=0,k=0,z=0,Y=0;const ne=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let re=0;re<o&&(s||l||u);re++){const $=n[re]&255;u&&(d>0?$&128?d--:u=!1:$&128&&($&64?(d++,$&32?(d++,$&16?(d++,$&8?u=!1:y++):p++):h++):u=!1)),s&&($>127&&$<160?s=!1:$>159&&($<192||$===215||$===247)&&Y++),l&&(C>0?$<64||$===127||$>252?l=!1:C--:$===128||$===160||$>239?l=!1:$>160&&$<224?(S++,b=0,T++,T>k&&(k=T)):$>127?(C++,T=0,b++,b>z&&(z=b)):(T=0,b=0))}return u&&d>0&&(u=!1),l&&C>0&&(l=!1),u&&(ne||h+p+y>0)?ce.UTF8:l&&(ce.ASSUME_SHIFT_JIS||k>=3||z>=3)?ce.SHIFT_JIS:s&&l?k===2&&S===2||Y*10>=o?ce.SHIFT_JIS:ce.ISO88591:s?ce.ISO88591:l?ce.SHIFT_JIS:u?ce.UTF8:ce.PLATFORM_DEFAULT_ENCODING}static format(n,...r){let o=-1;function s(u,d,h,p,y,C){if(u==="%%")return"%";if(r[++o]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let S=y?parseInt(y.substr(1)):void 0,T;switch(C){case"s":T=r[o];break;case"c":T=r[o][0];break;case"f":T=parseFloat(r[o]).toFixed(u);break;case"p":T=parseFloat(r[o]).toPrecision(u);break;case"e":T=parseFloat(r[o]).toExponential(u);break;case"x":T=parseInt(r[o]).toString(S||16);break;case"d":T=parseFloat(parseInt(r[o],S||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(S);let b=parseInt(h),k=h&&h[0]+""=="0"?"0":" ";for(;T.length<b;)T=d!==void 0?T+k:k+T;return T}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,s)}static getBytes(n,r){return we.encode(n,r)}static getCharCode(n,r=0){return n.charCodeAt(r)}static getCharAt(n){return String.fromCharCode(n)}}ce.SHIFT_JIS=G.SJIS.getName(),ce.GB2312="GB2312",ce.ISO88591=G.ISO8859_1.getName(),ce.EUC_JP="EUC_JP",ce.UTF8=G.UTF8.getName(),ce.PLATFORM_DEFAULT_ENCODING=ce.UTF8,ce.ASSUME_SHIFT_JIS=!1;class Ie{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=ce.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,r,o){for(let s=r;r<r+o;s++)this.append(n[s]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+1)}substring(n,r){return this.value.substring(n,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+r.length)}}class Le{constructor(n,r,o,s){if(this.width=n,this.height=r,this.rowSize=o,this.bits=s,r==null&&(r=n),this.height=r,n<1||r<1)throw new A("Both dimensions must be greater than 0");o==null&&(o=Math.floor((n+31)/32)),this.rowSize=o,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const r=n.length,o=n[0].length,s=new Le(o,r);for(let l=0;l<r;l++){const u=n[l];for(let d=0;d<o;d++)u[d]&&s.set(d,l)}return s}static parseFromString(n,r,o){if(n===null)throw new A("stringRepresentation cannot be null");const s=new Array(n.length);let l=0,u=0,d=-1,h=0,p=0;for(;p<n.length;)if(n.charAt(p)===`
`||n.charAt(p)==="\r"){if(l>u){if(d===-1)d=l-u;else if(l-u!==d)throw new A("row lengths do not match");u=l,h++}p++}else if(n.substring(p,p+r.length)===r)p+=r.length,s[l]=!0,l++;else if(n.substring(p,p+o.length)===o)p+=o.length,s[l]=!1,l++;else throw new A("illegal character encountered: "+n.substring(p));if(l>u){if(d===-1)d=l-u;else if(l-u!==d)throw new A("row lengths do not match");h++}const y=new Le(d,h);for(let C=0;C<l;C++)s[C]&&y.set(Math.floor(C%d),Math.floor(C/d));return y}get(n,r){const o=r*this.rowSize+Math.floor(n/32);return(this.bits[o]>>>(n&31)&1)!==0}set(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]|=1<<(n&31)&4294967295}unset(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]&=~(1<<(n&31)&4294967295)}flip(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new A("input matrix dimensions do not match");const r=new F(Math.floor(this.width/32)+1),o=this.rowSize,s=this.bits;for(let l=0,u=this.height;l<u;l++){const d=l*o,h=n.getRow(l,r).getBitArray();for(let p=0;p<o;p++)s[d+p]^=h[p]}}clear(){const n=this.bits,r=n.length;for(let o=0;o<r;o++)n[o]=0}setRegion(n,r,o,s){if(r<0||n<0)throw new A("Left and top must be nonnegative");if(s<1||o<1)throw new A("Height and width must be at least 1");const l=n+o,u=r+s;if(u>this.height||l>this.width)throw new A("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let p=r;p<u;p++){const y=p*d;for(let C=n;C<l;C++)h[y+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(n,r){r==null||r.getSize()<this.width?r=new F(this.width):r.clear();const o=this.rowSize,s=this.bits,l=n*o;for(let u=0;u<o;u++)r.setBulk(u*32,s[l+u]);return r}setRow(n,r){B.arraycopy(r.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),r=this.getHeight();let o=new F(n),s=new F(n);for(let l=0,u=Math.floor((r+1)/2);l<u;l++)o=this.getRow(l,o),s=this.getRow(r-1-l,s),o.reverse(),s.reverse(),this.setRow(l,s),this.setRow(r-1-l,o)}getEnclosingRectangle(){const n=this.width,r=this.height,o=this.rowSize,s=this.bits;let l=n,u=r,d=-1,h=-1;for(let p=0;p<r;p++)for(let y=0;y<o;y++){const C=s[p*o+y];if(C!==0){if(p<u&&(u=p),p>h&&(h=p),y*32<l){let S=0;for(;!(C<<31-S&4294967295);)S++;y*32+S<l&&(l=y*32+S)}if(y*32+31>d){let S=31;for(;!(C>>>S);)S--;y*32+S>d&&(d=y*32+S)}}}return d<l||h<u?null:Int32Array.from([l,u,d-l+1,h-u+1])}getTopLeftOnBit(){const n=this.rowSize,r=this.bits;let o=0;for(;o<r.length&&r[o]===0;)o++;if(o===r.length)return null;const s=o/n;let l=o%n*32;const u=r[o];let d=0;for(;!(u<<31-d&4294967295);)d++;return l+=d,Int32Array.from([l,s])}getBottomRightOnBit(){const n=this.rowSize,r=this.bits;let o=r.length-1;for(;o>=0&&r[o]===0;)o--;if(o<0)return null;const s=Math.floor(o/n);let l=Math.floor(o%n)*32;const u=r[o];let d=31;for(;!(u>>>d);)d--;return l+=d,Int32Array.from([l,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof Le))return!1;const r=n;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&N.equals(this.bits,r.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+N.hashCode(this.bits),n}toString(n="X ",r="  ",o=`
`){return this.buildToString(n,r,o)}buildToString(n,r,o){let s=new Ie;for(let l=0,u=this.height;l<u;l++){for(let d=0,h=this.width;d<h;d++)s.append(this.get(d,l)?n:r);s.append(o)}return s.toString()}clone(){return new Le(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends x{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class qe extends H{constructor(n){super(n),this.luminances=qe.EMPTY,this.buckets=new Int32Array(qe.LUMINANCE_BUCKETS)}getBlackRow(n,r){const o=this.getLuminanceSource(),s=o.getWidth();r==null||r.getSize()<s?r=new F(s):r.clear(),this.initArrays(s);const l=o.getRow(n,this.luminances),u=this.buckets;for(let h=0;h<s;h++)u[(l[h]&255)>>qe.LUMINANCE_SHIFT]++;const d=qe.estimateBlackPoint(u);if(s<3)for(let h=0;h<s;h++)(l[h]&255)<d&&r.set(h);else{let h=l[0]&255,p=l[1]&255;for(let y=1;y<s-1;y++){const C=l[y+1]&255;(p*4-h-C)/2<d&&r.set(y),h=p,p=C}}return r}getBlackMatrix(){const n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight(),s=new Le(r,o);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const p=Math.floor(o*h/5),y=n.getRow(p,this.luminances),C=Math.floor(r*4/5);for(let S=Math.floor(r/5);S<C;S++){const T=y[S]&255;l[T>>qe.LUMINANCE_SHIFT]++}}const u=qe.estimateBlackPoint(l),d=n.getMatrix();for(let h=0;h<o;h++){const p=h*r;for(let y=0;y<r;y++)(d[p+y]&255)<u&&s.set(y,h)}return s}createBinarizer(n){return new qe(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const r=this.buckets;for(let o=0;o<qe.LUMINANCE_BUCKETS;o++)r[o]=0}static estimateBlackPoint(n){const r=n.length;let o=0,s=0,l=0;for(let y=0;y<r;y++)n[y]>l&&(s=y,l=n[y]),n[y]>o&&(o=n[y]);let u=0,d=0;for(let y=0;y<r;y++){const C=y-s,S=n[y]*C*C;S>d&&(u=y,d=S)}if(s>u){const y=s;s=u,u=y}if(u-s<=r/16)throw new X;let h=u-1,p=-1;for(let y=u-1;y>s;y--){const C=y-s,S=C*C*(u-y)*(o-n[y]);S>p&&(h=y,p=S)}return h<<qe.LUMINANCE_SHIFT}}qe.LUMINANCE_BITS=5,qe.LUMINANCE_SHIFT=8-qe.LUMINANCE_BITS,qe.LUMINANCE_BUCKETS=1<<qe.LUMINANCE_BITS,qe.EMPTY=Uint8ClampedArray.from([0]);class Te extends qe{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight();if(r>=Te.MINIMUM_DIMENSION&&o>=Te.MINIMUM_DIMENSION){const s=n.getMatrix();let l=r>>Te.BLOCK_SIZE_POWER;r&Te.BLOCK_SIZE_MASK&&l++;let u=o>>Te.BLOCK_SIZE_POWER;o&Te.BLOCK_SIZE_MASK&&u++;const d=Te.calculateBlackPoints(s,l,u,r,o),h=new Le(r,o);Te.calculateThresholdForBlock(s,l,u,r,o,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new Te(n)}static calculateThresholdForBlock(n,r,o,s,l,u,d){const h=l-Te.BLOCK_SIZE,p=s-Te.BLOCK_SIZE;for(let y=0;y<o;y++){let C=y<<Te.BLOCK_SIZE_POWER;C>h&&(C=h);const S=Te.cap(y,2,o-3);for(let T=0;T<r;T++){let b=T<<Te.BLOCK_SIZE_POWER;b>p&&(b=p);const k=Te.cap(T,2,r-3);let z=0;for(let ne=-2;ne<=2;ne++){const re=u[S+ne];z+=re[k-2]+re[k-1]+re[k]+re[k+1]+re[k+2]}const Y=z/25;Te.thresholdBlock(n,b,C,Y,s,d)}}}static cap(n,r,o){return n<r?r:n>o?o:n}static thresholdBlock(n,r,o,s,l,u){for(let d=0,h=o*l+r;d<Te.BLOCK_SIZE;d++,h+=l)for(let p=0;p<Te.BLOCK_SIZE;p++)(n[h+p]&255)<=s&&u.set(r+p,o+d)}static calculateBlackPoints(n,r,o,s,l){const u=l-Te.BLOCK_SIZE,d=s-Te.BLOCK_SIZE,h=new Array(o);for(let p=0;p<o;p++){h[p]=new Int32Array(r);let y=p<<Te.BLOCK_SIZE_POWER;y>u&&(y=u);for(let C=0;C<r;C++){let S=C<<Te.BLOCK_SIZE_POWER;S>d&&(S=d);let T=0,b=255,k=0;for(let Y=0,ne=y*s+S;Y<Te.BLOCK_SIZE;Y++,ne+=s){for(let re=0;re<Te.BLOCK_SIZE;re++){const $=n[ne+re]&255;T+=$,$<b&&(b=$),$>k&&(k=$)}if(k-b>Te.MIN_DYNAMIC_RANGE)for(Y++,ne+=s;Y<Te.BLOCK_SIZE;Y++,ne+=s)for(let re=0;re<Te.BLOCK_SIZE;re++)T+=n[ne+re]&255}let z=T>>Te.BLOCK_SIZE_POWER*2;if(k-b<=Te.MIN_DYNAMIC_RANGE&&(z=b/2,p>0&&C>0)){const Y=(h[p-1][C]+2*h[p][C-1]+h[p-1][C-1])/4;b<Y&&(z=Y)}h[p][C]=z}}return h}}Te.BLOCK_SIZE_POWER=3,Te.BLOCK_SIZE=1<<Te.BLOCK_SIZE_POWER,Te.BLOCK_SIZE_MASK=Te.BLOCK_SIZE-1,Te.MINIMUM_DIMENSION=Te.BLOCK_SIZE*5,Te.MIN_DYNAMIC_RANGE=24;class ae{constructor(n,r){this.width=n,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,r,o,s){throw new se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new se("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let r=new Ie;for(let o=0;o<this.height;o++){const s=this.getRow(o,n);for(let l=0;l<this.width;l++){const u=s[l]&255;let d;u<64?d="#":u<128?d="+":u<192?d=".":d=" ",r.append(d)}r.append(`
`)}return r.toString()}}class fe extends ae{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,r){const o=this.delegate.getRow(n,r),s=this.getWidth();for(let l=0;l<s;l++)o[l]=255-(o[l]&255);return o}getMatrix(){const n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(r);for(let s=0;s<r;s++)o[s]=255-(n[s]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(n,r,o,s){return new fe(this.delegate.crop(n,r,o,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new fe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new fe(this.delegate.rotateCounterClockwise45())}}class ve extends ae{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=ve.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const r=n.getContext("2d").getImageData(0,0,n.width,n.height);return ve.toGrayscaleBuffer(r.data,n.width,n.height)}static toGrayscaleBuffer(n,r,o){const s=new Uint8ClampedArray(r*o);for(let l=0,u=0,d=n.length;l<d;l+=4,u++){let h;if(n[l+3]===0)h=255;else{const y=n[l],C=n[l+1],S=n[l+2];h=306*y+601*C+117*S+512>>10}s[u]=h}return s}getRow(n,r){if(n<0||n>=this.getHeight())throw new A("Requested row is outside the image: "+n);const o=this.getWidth(),s=n*o;return r===null?r=this.buffer.slice(s,s+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(s,s+o))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,r,o,s){return super.crop(n,r,o,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const r=this.getTempCanvasElement(),o=r.getContext("2d"),s=n*ve.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(s))*l+Math.abs(Math.sin(s))*u),h=Math.ceil(Math.abs(Math.sin(s))*l+Math.abs(Math.cos(s))*u);return r.width=d,r.height=h,o.translate(d/2,h/2),o.rotate(s),o.drawImage(this.canvas,l/-2,u/-2),this.buffer=ve.makeBufferFromCanvasImageData(r),this}invert(){return new fe(this)}}ve.DEGREE_TO_RADIANS=Math.PI/180;class Je{constructor(n,r,o){this.deviceId=n,this.label=r,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ke=(globalThis||Go||self||window||void 0)&&(globalThis||Go||self||window||void 0).__awaiter||function(E,n,r,o){function s(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(y){try{p(o.next(y))}catch(C){u(C)}}function h(y){try{p(o.throw(y))}catch(C){u(C)}}function p(y){y.done?l(y.value):s(y.value).then(d,h)}p((o=o.apply(E,n||[])).next())})};class _t{constructor(n,r=500,o){this.reader=n,this.timeBetweenScansMillis=r,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return ke(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const o of n){const s=o.kind==="video"?"videoinput":o.kind;if(s!=="videoinput")continue;const l=o.deviceId||o.id,u=o.label||`Video device ${r.length+1}`,d=o.groupId,h={deviceId:l,label:u,kind:s,groupId:d};r.push(h)}return r})}getVideoInputDevices(){return ke(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Je(r.deviceId,r.label))})}findDeviceById(n){return ke(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(o=>o.deviceId===n):null})}decodeFromInputVideoDevice(n,r){return ke(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,r)})}decodeOnceFromVideoDevice(n,r){return ke(this,void 0,void 0,function*(){this.reset();let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};const s={video:o};return yield this.decodeOnceFromConstraints(s,r)})}decodeOnceFromConstraints(n,r){return ke(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(o,r)})}decodeOnceFromStream(n,r){return ke(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(n,r);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(n,r,o){return ke(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,r,o)})}decodeFromVideoDevice(n,r,o){return ke(this,void 0,void 0,function*(){let s;n?s={deviceId:{exact:n}}:s={facingMode:"environment"};const l={video:s};return yield this.decodeFromConstraints(l,r,o)})}decodeFromConstraints(n,r,o){return ke(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(s,r,o)})}decodeFromStream(n,r,o){return ke(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(n,r);return yield this.decodeContinuously(s,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,r){return ke(this,void 0,void 0,function*(){const o=this.prepareVideoElement(r);return this.addVideoSource(o,n),this.videoElement=o,this.stream=n,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(n){return new Promise((r,o)=>this.playVideoOnLoad(n,()=>r()))}playVideoOnLoad(n,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",r),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return ke(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,r){const o=document.getElementById(n);if(!o)throw new v(`element with id '${n}' not found`);if(o.nodeName.toLowerCase()!==r.toLowerCase())throw new v(`element with id '${n}' must be an ${r} element`);return o}decodeFromImage(n,r){if(!n&&!r)throw new v("either imageElement with a src set or an url must be provided");return r&&!n?this.decodeFromImageUrl(r):this.decodeFromImageElement(n)}decodeFromVideo(n,r){if(!n&&!r)throw new v("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,r,o){if(n===void 0&&r===void 0)throw new v("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrlContinuously(r,o):this.decodeFromVideoElementContinuously(n,o)}decodeFromImageElement(n){if(!n)throw new v("An image element must be provided.");this.reset();const r=this.prepareImageElement(n);this.imageElement=r;let o;return this.isImageLoaded(r)?o=this.decodeOnce(r,!1,!0):o=this._decodeOnLoadImage(r),o}decodeFromVideoElement(n){const r=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(n,r){const o=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(o,r)}_decodeFromVideoElementSetup(n){if(!n)throw new v("A video element must be provided.");this.reset();const r=this.prepareVideoElement(n);return this.videoElement=r,r}decodeFromImageUrl(n){if(!n)throw new v("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const o=this._decodeOnLoadImage(r);return r.src=n,o}decodeFromVideoUrl(n){if(!n)throw new v("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),o=this.decodeFromVideoElement(r);return r.src=n,o}decodeFromVideoUrlContinuously(n,r){if(!n)throw new v("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(o,r);return o.src=n,s}_decodeOnLoadImage(n){return new Promise((r,o)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(r,o),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return ke(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,r){return ke(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,r)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let r;return typeof n>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(r=n),r}prepareVideoElement(n){let r;return!n&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(r=n),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(n,r=!0,o=!0){this._stopAsyncDecode=!1;const s=(l,u)=>{if(this._stopAsyncDecode){u(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(n);l(d)}catch(d){const h=r&&d instanceof X,y=(d instanceof U||d instanceof V)&&o;if(h||y)return setTimeout(s,this._timeBetweenDecodingAttempts,l,u);u(d)}};return new Promise((l,u)=>s(l,u))}decodeContinuously(n,r){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(n);r(s,null),setTimeout(o,this.timeBetweenScansMillis)}catch(s){r(null,s);const l=s instanceof U||s instanceof V,u=s instanceof X;(l||u)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(n){const r=this.createBinaryBitmap(n);return this.decodeBitmap(r)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,r,o){r||(r={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(n,r,o=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const r=this.getCaptureCanvas(n),o=new ve(r),s=new Te(o);return new _(s)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const r=this.createCaptureCanvas(n);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let o,s;return typeof n<"u"&&(n instanceof HTMLVideoElement?(o=n.videoWidth,s=n.videoHeight):n instanceof HTMLImageElement&&(o=n.naturalWidth||n.width,s=n.naturalHeight||n.height)),r.style.width=o+"px",r.style.height=s+"px",r.width=o,r.height=s,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,r){try{n.srcObject=r}catch{n.src=URL.createObjectURL(r)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class $e{constructor(n,r,o=r==null?0:8*r.length,s,l,u=B.currentTimeMillis()){this.text=n,this.rawBytes=r,this.numBits=o,this.resultPoints=s,this.format=l,this.timestamp=u,this.text=n,this.rawBytes=r,o==null?this.numBits=r==null?0:8*r.length:this.numBits=o,this.resultPoints=s,this.format=l,this.resultMetadata=null,u==null?this.timestamp=B.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,r)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const r=this.resultPoints;if(r===null)this.resultPoints=n;else if(n!==null&&n.length>0){const o=new Array(r.length+n.length);B.arraycopy(r,0,o,0,r.length),B.arraycopy(n,0,o,r.length,n.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var _n;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(_n||(_n={}));var he=_n,rn;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(rn||(rn={}));var ft=rn;class mi{constructor(n,r,o,s,l=-1,u=-1){this.rawBytes=n,this.text=r,this.byteSegments=o,this.ecLevel=s,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Cr{exp(n){return this.expTable[n]}log(n){if(n===0)throw new A;return this.logTable[n]}static addOrSubtract(n,r){return n^r}}class on{constructor(n,r){if(r.length===0)throw new A;this.field=n;const o=r.length;if(o>1&&r[0]===0){let s=1;for(;s<o&&r[s]===0;)s++;s===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-s),B.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const r=this.coefficients;let o;if(n===1){o=0;for(let u=0,d=r.length;u!==d;u++){const h=r[u];o=Cr.addOrSubtract(o,h)}return o}o=r[0];const s=r.length,l=this.field;for(let u=1;u<s;u++)o=Cr.addOrSubtract(l.multiply(n,o),r[u]);return o}addOrSubtract(n){if(!this.field.equals(n.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,o=n.coefficients;if(r.length>o.length){const u=r;r=o,o=u}let s=new Int32Array(o.length);const l=o.length-r.length;B.arraycopy(o,0,s,0,l);for(let u=l;u<o.length;u++)s[u]=Cr.addOrSubtract(r[u-l],o[u]);return new on(this.field,s)}multiply(n){if(!this.field.equals(n.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const r=this.coefficients,o=r.length,s=n.coefficients,l=s.length,u=new Int32Array(o+l-1),d=this.field;for(let h=0;h<o;h++){const p=r[h];for(let y=0;y<l;y++)u[h+y]=Cr.addOrSubtract(u[h+y],d.multiply(p,s[y]))}return new on(d,u)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const r=this.coefficients.length,o=this.field,s=new Int32Array(r),l=this.coefficients;for(let u=0;u<r;u++)s[u]=o.multiply(l[u],n);return new on(o,s)}multiplyByMonomial(n,r){if(n<0)throw new A;if(r===0)return this.field.getZero();const o=this.coefficients,s=o.length,l=new Int32Array(s+n),u=this.field;for(let d=0;d<s;d++)l[d]=u.multiply(o[d],r);return new on(u,l)}divide(n){if(!this.field.equals(n.field))throw new A("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new A("Divide by 0");const r=this.field;let o=r.getZero(),s=this;const l=n.getCoefficient(n.getDegree()),u=r.inverse(l);for(;s.getDegree()>=n.getDegree()&&!s.isZero();){const d=s.getDegree()-n.getDegree(),h=r.multiply(s.getCoefficient(s.getDegree()),u),p=n.multiplyByMonomial(d,h),y=r.buildMonomial(d,h);o=o.addOrSubtract(y),s=s.addOrSubtract(p)}return[o,s]}toString(){let n="";for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);if(o!==0){if(o<0?(n+=" - ",o=-o):n.length>0&&(n+=" + "),r===0||o!==1){const s=this.field.log(o);s===0?n+="1":s===1?n+="a":(n+="a^",n+=s)}r!==0&&(r===1?n+="x":(n+="x^",n+=r))}}return n}}class ji extends x{}ji.kind="ArithmeticException";class Ze extends Cr{constructor(n,r,o){super(),this.primitive=n,this.size=r,this.generatorBase=o;const s=new Int32Array(r);let l=1;for(let d=0;d<r;d++)s[d]=l,l*=2,l>=r&&(l^=n,l&=r-1);this.expTable=s;const u=new Int32Array(r);for(let d=0;d<r-1;d++)u[s[d]]=d;this.logTable=u,this.zero=new on(this,Int32Array.from([0])),this.one=new on(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new A;if(r===0)return this.zero;const o=new Int32Array(n+1);return o[0]=r,new on(this,o)}inverse(n){if(n===0)throw new ji;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+M.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Ze.AZTEC_DATA_12=new Ze(4201,4096,1),Ze.AZTEC_DATA_10=new Ze(1033,1024,1),Ze.AZTEC_DATA_6=new Ze(67,64,1),Ze.AZTEC_PARAM=new Ze(19,16,1),Ze.QR_CODE_FIELD_256=new Ze(285,256,0),Ze.DATA_MATRIX_FIELD_256=new Ze(301,256,1),Ze.AZTEC_DATA_8=Ze.DATA_MATRIX_FIELD_256,Ze.MAXICODE_FIELD_64=Ze.AZTEC_DATA_6;class Mt extends x{}Mt.kind="ReedSolomonException";class Zt extends x{}Zt.kind="IllegalStateException";class Br{constructor(n){this.field=n}decode(n,r){const o=this.field,s=new on(o,n),l=new Int32Array(r);let u=!0;for(let T=0;T<r;T++){const b=s.evaluateAt(o.exp(T+o.getGeneratorBase()));l[l.length-1-T]=b,b!==0&&(u=!1)}if(u)return;const d=new on(o,l),h=this.runEuclideanAlgorithm(o.buildMonomial(r,1),d,r),p=h[0],y=h[1],C=this.findErrorLocations(p),S=this.findErrorMagnitudes(y,C);for(let T=0;T<C.length;T++){const b=n.length-1-o.log(C[T]);if(b<0)throw new Mt("Bad error location");n[b]=Ze.addOrSubtract(n[b],S[T])}}runEuclideanAlgorithm(n,r,o){if(n.getDegree()<r.getDegree()){const T=n;n=r,r=T}const s=this.field;let l=n,u=r,d=s.getZero(),h=s.getOne();for(;u.getDegree()>=(o/2|0);){let T=l,b=d;if(l=u,d=h,l.isZero())throw new Mt("r_{i-1} was zero");u=T;let k=s.getZero();const z=l.getCoefficient(l.getDegree()),Y=s.inverse(z);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){const ne=u.getDegree()-l.getDegree(),re=s.multiply(u.getCoefficient(u.getDegree()),Y);k=k.addOrSubtract(s.buildMonomial(ne,re)),u=u.addOrSubtract(l.multiplyByMonomial(ne,re))}if(h=k.multiply(d).addOrSubtract(b),u.getDegree()>=l.getDegree())throw new Zt("Division algorithm failed to reduce polynomial?")}const p=h.getCoefficient(0);if(p===0)throw new Mt("sigmaTilde(0) was zero");const y=s.inverse(p),C=h.multiplyScalar(y),S=u.multiplyScalar(y);return[C,S]}findErrorLocations(n){const r=n.getDegree();if(r===1)return Int32Array.from([n.getCoefficient(1)]);const o=new Int32Array(r);let s=0;const l=this.field;for(let u=1;u<l.getSize()&&s<r;u++)n.evaluateAt(u)===0&&(o[s]=l.inverse(u),s++);if(s!==r)throw new Mt("Error locator degree does not match number of roots");return o}findErrorMagnitudes(n,r){const o=r.length,s=new Int32Array(o),l=this.field;for(let u=0;u<o;u++){const d=l.inverse(r[u]);let h=1;for(let p=0;p<o;p++)if(u!==p){const y=l.multiply(r[p],d),C=y&1?y&-2:y|1;h=l.multiply(h,C)}s[u]=l.multiply(n.evaluateAt(d),l.inverse(h)),l.getGeneratorBase()!==0&&(s[u]=l.multiply(s[u],d))}return s}}var Bt;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})(Bt||(Bt={}));class Xe{decode(n){this.ddata=n;let r=n.getBits(),o=this.extractBits(r),s=this.correctBits(o),l=Xe.convertBoolArrayToByteArray(s),u=Xe.getEncodedData(s),d=new mi(l,u,null,null);return d.setNumBits(s.length),d}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let r=n.length,o=Bt.UPPER,s=Bt.UPPER,l="",u=0;for(;u<r;)if(s===Bt.BINARY){if(r-u<5)break;let d=Xe.readCode(n,u,5);if(u+=5,d===0){if(r-u<11)break;d=Xe.readCode(n,u,11)+31,u+=11}for(let h=0;h<d;h++){if(r-u<8){u=r;break}const p=Xe.readCode(n,u,8);l+=ce.castAsNonUtf8Char(p),u+=8}s=o}else{let d=s===Bt.DIGIT?4:5;if(r-u<d)break;let h=Xe.readCode(n,u,d);u+=d;let p=Xe.getCharacter(s,h);p.startsWith("CTRL_")?(o=s,s=Xe.getTable(p.charAt(5)),p.charAt(6)==="L"&&(o=s)):(l+=p,s=o)}return l}static getTable(n){switch(n){case"L":return Bt.LOWER;case"P":return Bt.PUNCT;case"M":return Bt.MIXED;case"D":return Bt.DIGIT;case"B":return Bt.BINARY;case"U":default:return Bt.UPPER}}static getCharacter(n,r){switch(n){case Bt.UPPER:return Xe.UPPER_TABLE[r];case Bt.LOWER:return Xe.LOWER_TABLE[r];case Bt.MIXED:return Xe.MIXED_TABLE[r];case Bt.PUNCT:return Xe.PUNCT_TABLE[r];case Bt.DIGIT:return Xe.DIGIT_TABLE[r];default:throw new Zt("Bad table")}}correctBits(n){let r,o;this.ddata.getNbLayers()<=2?(o=6,r=Ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,r=Ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,r=Ze.AZTEC_DATA_10):(o=12,r=Ze.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),l=n.length/o;if(l<s)throw new V;let u=n.length%o,d=new Int32Array(l);for(let S=0;S<l;S++,u+=o)d[S]=Xe.readCode(n,u,o);try{new Br(r).decode(d,l-s)}catch(S){throw new V(S)}let h=(1<<o)-1,p=0;for(let S=0;S<s;S++){let T=d[S];if(T===0||T===h)throw new V;(T===1||T===h-1)&&p++}let y=new Array(s*o-p),C=0;for(let S=0;S<s;S++){let T=d[S];if(T===1||T===h-1)y.fill(T>1,C,C+o-1),C+=o-1;else for(let b=o-1;b>=0;--b)y[C++]=(T&1<<b)!==0}return y}extractBits(n){let r=this.ddata.isCompact(),o=this.ddata.getNbLayers(),s=(r?11:14)+o*4,l=new Int32Array(s),u=new Array(this.totalBitsInLayer(o,r));if(r)for(let d=0;d<l.length;d++)l[d]=d;else{let d=s+1+2*M.truncDivision(M.truncDivision(s,2)-1,15),h=s/2,p=M.truncDivision(d,2);for(let y=0;y<h;y++){let C=y+M.truncDivision(y,15);l[h-y-1]=p-C-1,l[h+y]=p+C+1}}for(let d=0,h=0;d<o;d++){let p=(o-d)*4+(r?9:12),y=d*2,C=s-1-y;for(let S=0;S<p;S++){let T=S*2;for(let b=0;b<2;b++)u[h+T+b]=n.get(l[y+b],l[y+S]),u[h+2*p+T+b]=n.get(l[y+S],l[C-b]),u[h+4*p+T+b]=n.get(l[C-b],l[C-S]),u[h+6*p+T+b]=n.get(l[C-S],l[y+b])}h+=p*8}return u}static readCode(n,r,o){let s=0;for(let l=r;l<r+o;l++)s<<=1,n[l]&&(s|=1);return s}static readByte(n,r){let o=n.length-r;return o>=8?Xe.readCode(n,r,8):Xe.readCode(n,r,o)<<8-o}static convertBoolArrayToByteArray(n){let r=new Uint8Array((n.length+7)/8);for(let o=0;o<r.length;o++)r[o]=Xe.readByte(n,8*o);return r}totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}Xe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Xe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Xe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Xe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Xe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ge{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,r,o,s){const l=n-o,u=r-s;return Math.sqrt(l*l+u*u)}static sum(n){let r=0;for(let o=0,s=n.length;o!==s;o++){const l=n[o];r+=l}return r}}class Hi{static floatToIntBits(n){return n}}Hi.MAX_VALUE=Number.MAX_SAFE_INTEGER;class xe{constructor(n,r){this.x=n,this.y=r}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof xe){const r=n;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Hi.floatToIntBits(this.x)+Hi.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const r=this.distance(n[0],n[1]),o=this.distance(n[1],n[2]),s=this.distance(n[0],n[2]);let l,u,d;if(o>=r&&o>=s?(u=n[0],l=n[1],d=n[2]):s>=o&&s>=r?(u=n[1],l=n[0],d=n[2]):(u=n[2],l=n[0],d=n[1]),this.crossProductZ(l,u,d)<0){const h=l;l=d,d=h}n[0]=l,n[1]=u,n[2]=d}static distance(n,r){return Ge.distance(n.x,n.y,r.x,r.y)}static crossProductZ(n,r,o){const s=r.x,l=r.y;return(o.x-s)*(n.y-l)-(o.y-l)*(n.x-s)}}class Vi{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ws extends Vi{constructor(n,r,o,s,l){super(n,r),this.compact=o,this.nbDatablocks=s,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class qn{constructor(n,r,o,s){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),r==null&&(r=qn.INIT_SIZE),o==null&&(o=n.getWidth()/2|0),s==null&&(s=n.getHeight()/2|0);const l=r/2|0;if(this.leftInit=o-l,this.rightInit=o+l,this.upInit=s-l,this.downInit=s+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let n=this.leftInit,r=this.rightInit,o=this.upInit,s=this.downInit,l=!1,u=!0,d=!1,h=!1,p=!1,y=!1,C=!1;const S=this.width,T=this.height;for(;u;){u=!1;let b=!0;for(;(b||!h)&&r<S;)b=this.containsBlackPoint(o,s,r,!1),b?(r++,u=!0,h=!0):h||r++;if(r>=S){l=!0;break}let k=!0;for(;(k||!p)&&s<T;)k=this.containsBlackPoint(n,r,s,!0),k?(s++,u=!0,p=!0):p||s++;if(s>=T){l=!0;break}let z=!0;for(;(z||!y)&&n>=0;)z=this.containsBlackPoint(o,s,n,!1),z?(n--,u=!0,y=!0):y||n--;if(n<0){l=!0;break}let Y=!0;for(;(Y||!C)&&o>=0;)Y=this.containsBlackPoint(n,r,o,!0),Y?(o--,u=!0,C=!0):C||o--;if(o<0){l=!0;break}u&&(d=!0)}if(!l&&d){const b=r-n;let k=null;for(let re=1;k===null&&re<b;re++)k=this.getBlackPointOnSegment(n,s-re,n+re,s);if(k==null)throw new X;let z=null;for(let re=1;z===null&&re<b;re++)z=this.getBlackPointOnSegment(n,o+re,n+re,o);if(z==null)throw new X;let Y=null;for(let re=1;Y===null&&re<b;re++)Y=this.getBlackPointOnSegment(r,o+re,r-re,o);if(Y==null)throw new X;let ne=null;for(let re=1;ne===null&&re<b;re++)ne=this.getBlackPointOnSegment(r,s-re,r-re,s);if(ne==null)throw new X;return this.centerEdges(ne,k,Y,z)}else throw new X}getBlackPointOnSegment(n,r,o,s){const l=Ge.round(Ge.distance(n,r,o,s)),u=(o-n)/l,d=(s-r)/l,h=this.image;for(let p=0;p<l;p++){const y=Ge.round(n+p*u),C=Ge.round(r+p*d);if(h.get(y,C))return new xe(y,C)}return null}centerEdges(n,r,o,s){const l=n.getX(),u=n.getY(),d=r.getX(),h=r.getY(),p=o.getX(),y=o.getY(),C=s.getX(),S=s.getY(),T=qn.CORR;return l<this.width/2?[new xe(C-T,S+T),new xe(d+T,h+T),new xe(p-T,y-T),new xe(l+T,u-T)]:[new xe(C+T,S+T),new xe(d+T,h-T),new xe(p-T,y+T),new xe(l-T,u-T)]}containsBlackPoint(n,r,o,s){const l=this.image;if(s){for(let u=n;u<=r;u++)if(l.get(u,o))return!0}else for(let u=n;u<=r;u++)if(l.get(o,u))return!0;return!1}}qn.INIT_SIZE=10,qn.CORR=1;class Oo{static checkAndNudgePoints(n,r){const o=n.getWidth(),s=n.getHeight();let l=!0;for(let u=0;u<r.length&&l;u+=2){const d=Math.floor(r[u]),h=Math.floor(r[u+1]);if(d<-1||d>o||h<-1||h>s)throw new X;l=!1,d===-1?(r[u]=0,l=!0):d===o&&(r[u]=o-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===s&&(r[u+1]=s-1,l=!0)}l=!0;for(let u=r.length-2;u>=0&&l;u-=2){const d=Math.floor(r[u]),h=Math.floor(r[u+1]);if(d<-1||d>o||h<-1||h>s)throw new X;l=!1,d===-1?(r[u]=0,l=!0):d===o&&(r[u]=o-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===s&&(r[u+1]=s-1,l=!0)}}}class Qt{constructor(n,r,o,s,l,u,d,h,p){this.a11=n,this.a21=r,this.a31=o,this.a12=s,this.a22=l,this.a32=u,this.a13=d,this.a23=h,this.a33=p}static quadrilateralToQuadrilateral(n,r,o,s,l,u,d,h,p,y,C,S,T,b,k,z){const Y=Qt.quadrilateralToSquare(n,r,o,s,l,u,d,h);return Qt.squareToQuadrilateral(p,y,C,S,T,b,k,z).times(Y)}transformPoints(n){const r=n.length,o=this.a11,s=this.a12,l=this.a13,u=this.a21,d=this.a22,h=this.a23,p=this.a31,y=this.a32,C=this.a33;for(let S=0;S<r;S+=2){const T=n[S],b=n[S+1],k=l*T+h*b+C;n[S]=(o*T+u*b+p)/k,n[S+1]=(s*T+d*b+y)/k}}transformPointsWithValues(n,r){const o=this.a11,s=this.a12,l=this.a13,u=this.a21,d=this.a22,h=this.a23,p=this.a31,y=this.a32,C=this.a33,S=n.length;for(let T=0;T<S;T++){const b=n[T],k=r[T],z=l*b+h*k+C;n[T]=(o*b+u*k+p)/z,r[T]=(s*b+d*k+y)/z}}static squareToQuadrilateral(n,r,o,s,l,u,d,h){const p=n-o+l-d,y=r-s+u-h;if(p===0&&y===0)return new Qt(o-n,l-o,n,s-r,u-s,r,0,0,1);{const C=o-l,S=d-l,T=s-u,b=h-u,k=C*b-S*T,z=(p*b-S*y)/k,Y=(C*y-p*T)/k;return new Qt(o-n+z*o,d-n+Y*d,n,s-r+z*s,h-r+Y*h,r,z,Y,1)}}static quadrilateralToSquare(n,r,o,s,l,u,d,h){return Qt.squareToQuadrilateral(n,r,o,s,l,u,d,h).buildAdjoint()}buildAdjoint(){return new Qt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Qt(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class Fr extends Oo{sampleGrid(n,r,o,s,l,u,d,h,p,y,C,S,T,b,k,z,Y,ne,re){const $=Qt.quadrilateralToQuadrilateral(s,l,u,d,h,p,y,C,S,T,b,k,z,Y,ne,re);return this.sampleGridWithTransform(n,r,o,$)}sampleGridWithTransform(n,r,o,s){if(r<=0||o<=0)throw new X;const l=new Le(r,o),u=new Float32Array(2*r);for(let d=0;d<o;d++){const h=u.length,p=d+.5;for(let y=0;y<h;y+=2)u[y]=y/2+.5,u[y+1]=p;s.transformPoints(u),Oo.checkAndNudgePoints(n,u);try{for(let y=0;y<h;y+=2)n.get(Math.floor(u[y]),Math.floor(u[y+1]))&&l.set(y/2,d)}catch{throw new X}}return l}}class Jn{static setGridSampler(n){Jn.gridSampler=n}static getInstance(){return Jn.gridSampler}}Jn.gridSampler=new Fr;class Ft{constructor(n,r){this.x=n,this.y=r}toResultPoint(){return new xe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class $n{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let r=this.getMatrixCenter(),o=this.getBullsEyeCorners(r);if(n){let u=o[0];o[0]=o[2],o[2]=u}this.extractParameters(o);let s=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),l=this.getMatrixCornerPoints(o);return new Ws(s,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new X;let r=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(n[0],n[1],r),this.sampleLine(n[1],n[2],r),this.sampleLine(n[2],n[3],r),this.sampleLine(n[3],n[0],r)]);this.shift=this.getRotation(o,r);let s=0;for(let u=0;u<4;u++){let d=o[(this.shift+u)%4];this.compact?(s<<=7,s+=d>>1&127):(s<<=10,s+=(d>>2&992)+(d>>1&31))}let l=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(n,r){let o=0;n.forEach((s,l,u)=>{let d=(s>>r-2<<1)+(s&1);o=(o<<3)+d}),o=((o&1)<<11)+(o>>1);for(let s=0;s<4;s++)if(M.bitCount(o^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new X}getCorrectedParameterData(n,r){let o,s;r?(o=7,s=2):(o=10,s=4);let l=o-s,u=new Int32Array(o);for(let h=o-1;h>=0;--h)u[h]=n&15,n>>=4;try{new Br(Ze.AZTEC_PARAM).decode(u,l)}catch{throw new X}let d=0;for(let h=0;h<s;h++)d=(d<<4)+u[h];return d}getBullsEyeCorners(n){let r=n,o=n,s=n,l=n,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(r,u,1,-1),S=this.getFirstDifferent(o,u,1,1),T=this.getFirstDifferent(s,u,-1,1),b=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let k=this.distancePoint(b,C)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(k<.75||k>1.25||!this.isWhiteOrBlackRectangle(C,S,T,b))break}r=C,o=S,s=T,l=b,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let d=new xe(r.getX()+.5,r.getY()-.5),h=new xe(o.getX()+.5,o.getY()+.5),p=new xe(s.getX()-.5,s.getY()+.5),y=new xe(l.getX()-.5,l.getY()-.5);return this.expandSquare([d,h,p,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,r,o,s;try{let d=new qn(this.image).detect();n=d[0],r=d[1],o=d[2],s=d[3]}catch{let h=this.image.getWidth()/2,p=this.image.getHeight()/2;n=this.getFirstDifferent(new Ft(h+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ft(h+7,p+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Ft(h-7,p+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Ft(h-7,p-7),!1,-1,-1).toResultPoint()}let l=Ge.round((n.getX()+s.getX()+r.getX()+o.getX())/4),u=Ge.round((n.getY()+s.getY()+r.getY()+o.getY())/4);try{let d=new qn(this.image,15,l,u).detect();n=d[0],r=d[1],o=d[2],s=d[3]}catch{n=this.getFirstDifferent(new Ft(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ft(l+7,u+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Ft(l-7,u+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Ft(l-7,u-7),!1,-1,-1).toResultPoint()}return l=Ge.round((n.getX()+s.getX()+r.getX()+o.getX())/4),u=Ge.round((n.getY()+s.getY()+r.getY()+o.getY())/4),new Ft(l,u)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,r,o,s,l){let u=Jn.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,p=d/2+this.nbCenterLayers;return u.sampleGrid(n,d,d,h,h,p,h,p,p,h,p,r.getX(),r.getY(),o.getX(),o.getY(),s.getX(),s.getY(),l.getX(),l.getY())}sampleLine(n,r,o){let s=0,l=this.distanceResultPoint(n,r),u=l/o,d=n.getX(),h=n.getY(),p=u*(r.getX()-n.getX())/l,y=u*(r.getY()-n.getY())/l;for(let C=0;C<o;C++)this.image.get(Ge.round(d+C*p),Ge.round(h+C*y))&&(s|=1<<o-C-1);return s}isWhiteOrBlackRectangle(n,r,o,s){let l=3;n=new Ft(n.getX()-l,n.getY()+l),r=new Ft(r.getX()-l,r.getY()-l),o=new Ft(o.getX()+l,o.getY()-l),s=new Ft(s.getX()+l,s.getY()+l);let u=this.getColor(s,n);if(u===0)return!1;let d=this.getColor(n,r);return d!==u||(d=this.getColor(r,o),d!==u)?!1:(d=this.getColor(o,s),d===u)}getColor(n,r){let o=this.distancePoint(n,r),s=(r.getX()-n.getX())/o,l=(r.getY()-n.getY())/o,u=0,d=n.getX(),h=n.getY(),p=this.image.get(n.getX(),n.getY()),y=Math.ceil(o);for(let S=0;S<y;S++)d+=s,h+=l,this.image.get(Ge.round(d),Ge.round(h))!==p&&u++;let C=u/o;return C>.1&&C<.9?0:C<=.1===p?1:-1}getFirstDifferent(n,r,o,s){let l=n.getX()+o,u=n.getY()+s;for(;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=o,u+=s;for(l-=o,u-=s;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=o;for(l-=o;this.isValid(l,u)&&this.image.get(l,u)===r;)u+=s;return u-=s,new Ft(l,u)}expandSquare(n,r,o){let s=o/(2*r),l=n[0].getX()-n[2].getX(),u=n[0].getY()-n[2].getY(),d=(n[0].getX()+n[2].getX())/2,h=(n[0].getY()+n[2].getY())/2,p=new xe(d+s*l,h+s*u),y=new xe(d-s*l,h-s*u);l=n[1].getX()-n[3].getX(),u=n[1].getY()-n[3].getY(),d=(n[1].getX()+n[3].getX())/2,h=(n[1].getY()+n[3].getY())/2;let C=new xe(d+s*l,h+s*u),S=new xe(d-s*l,h-s*u);return[p,C,y,S]}isValid(n,r){return n>=0&&n<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(n){let r=Ge.round(n.getX()),o=Ge.round(n.getY());return this.isValid(r,o)}distancePoint(n,r){return Ge.distance(n.getX(),n.getY(),r.getX(),r.getY())}distanceResultPoint(n,r){return Ge.distance(n.getX(),n.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(M.truncDivision(this.nbLayers-4,8)+1)+15}}class yn{decode(n,r=null){let o=null,s=new $n(n.getBlackMatrix()),l=null,u=null;try{let y=s.detectMirror(!1);l=y.getPoints(),this.reportFoundResultPoints(r,l),u=new Xe().decode(y)}catch(y){o=y}if(u==null)try{let y=s.detectMirror(!0);l=y.getPoints(),this.reportFoundResultPoints(r,l),u=new Xe().decode(y)}catch(y){throw o??y}let d=new $e(u.getText(),u.getRawBytes(),u.getNumBits(),l,he.AZTEC,B.currentTimeMillis()),h=u.getByteSegments();h!=null&&d.putMetadata(ft.BYTE_SEGMENTS,h);let p=u.getECLevel();return p!=null&&d.putMetadata(ft.ERROR_CORRECTION_LEVEL,p),d}reportFoundResultPoints(n,r){if(n!=null){let o=n.get(J.NEED_RESULT_POINT_CALLBACK);o!=null&&r.forEach((s,l,u)=>{o.foundPossibleResultPoint(s)})}}reset(){}}class Gs extends _t{constructor(n=500){super(new yn,n)}}class pt{decode(n,r){try{return this.doDecode(n,r)}catch{if(r&&r.get(J.TRY_HARDER)===!0&&n.isRotateSupported()){const l=n.rotateCounterClockwise(),u=this.doDecode(l,r),d=u.getResultMetadata();let h=270;d!==null&&d.get(ft.ORIENTATION)===!0&&(h=h+d.get(ft.ORIENTATION)%360),u.putMetadata(ft.ORIENTATION,h);const p=u.getResultPoints();if(p!==null){const y=l.getHeight();for(let C=0;C<p.length;C++)p[C]=new xe(y-p[C].getY()-1,p[C].getX())}return u}else throw new X}}reset(){}doDecode(n,r){const o=n.getWidth(),s=n.getHeight();let l=new F(o);const u=r&&r.get(J.TRY_HARDER)===!0,d=Math.max(1,s>>(u?8:5));let h;u?h=s:h=15;const p=Math.trunc(s/2);for(let y=0;y<h;y++){const C=Math.trunc((y+1)/2),S=(y&1)===0,T=p+d*(S?C:-C);if(T<0||T>=s)break;try{l=n.getBlackRow(T,l)}catch{continue}for(let b=0;b<2;b++){if(b===1&&(l.reverse(),r&&r.get(J.NEED_RESULT_POINT_CALLBACK)===!0)){const k=new Map;r.forEach((z,Y)=>k.set(Y,z)),k.delete(J.NEED_RESULT_POINT_CALLBACK),r=k}try{const k=this.decodeRow(T,l,r);if(b===1){k.putMetadata(ft.ORIENTATION,180);const z=k.getResultPoints();z!==null&&(z[0]=new xe(o-z[0].getX()-1,z[0].getY()),z[1]=new xe(o-z[1].getX()-1,z[1].getY()))}return k}catch{}}}throw new X}static recordPattern(n,r,o){const s=o.length;for(let p=0;p<s;p++)o[p]=0;const l=n.getSize();if(r>=l)throw new X;let u=!n.get(r),d=0,h=r;for(;h<l;){if(n.get(h)!==u)o[d]++;else{if(++d===s)break;o[d]=1,u=!u}h++}if(!(d===s||d===s-1&&h===l))throw new X}static recordPatternInReverse(n,r,o){let s=o.length,l=n.get(r);for(;r>0&&s>=0;)n.get(--r)!==l&&(s--,l=!l);if(s>=0)throw new X;pt.recordPattern(n,r+1,o)}static patternMatchVariance(n,r,o){const s=n.length;let l=0,u=0;for(let p=0;p<s;p++)l+=n[p],u+=r[p];if(l<u)return Number.POSITIVE_INFINITY;const d=l/u;o*=d;let h=0;for(let p=0;p<s;p++){const y=n[p],C=r[p]*d,S=y>C?y-C:C-y;if(S>o)return Number.POSITIVE_INFINITY;h+=S}return h/l}}class ie extends pt{static findStartPattern(n){const r=n.getSize(),o=n.getNextSet(0);let s=0,l=Int32Array.from([0,0,0,0,0,0]),u=o,d=!1;const h=6;for(let p=o;p<r;p++)if(n.get(p)!==d)l[s]++;else{if(s===h-1){let y=ie.MAX_AVG_VARIANCE,C=-1;for(let S=ie.CODE_START_A;S<=ie.CODE_START_C;S++){const T=pt.patternMatchVariance(l,ie.CODE_PATTERNS[S],ie.MAX_INDIVIDUAL_VARIANCE);T<y&&(y=T,C=S)}if(C>=0&&n.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,C]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[s-1]=0,l[s]=0,s--}else s++;l[s]=1,d=!d}throw new X}static decodeCode(n,r,o){pt.recordPattern(n,o,r);let s=ie.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<ie.CODE_PATTERNS.length;u++){const d=ie.CODE_PATTERNS[u],h=this.patternMatchVariance(r,d,ie.MAX_INDIVIDUAL_VARIANCE);h<s&&(s=h,l=u)}if(l>=0)return l;throw new X}decodeRow(n,r,o){const s=o&&o.get(J.ASSUME_GS1)===!0,l=ie.findStartPattern(r),u=l[2];let d=0;const h=new Uint8Array(20);h[d++]=u;let p;switch(u){case ie.CODE_START_A:p=ie.CODE_CODE_A;break;case ie.CODE_START_B:p=ie.CODE_CODE_B;break;case ie.CODE_START_C:p=ie.CODE_CODE_C;break;default:throw new V}let y=!1,C=!1,S="",T=l[0],b=l[1];const k=Int32Array.from([0,0,0,0,0,0]);let z=0,Y=0,ne=u,re=0,$=!0,We=!1,be=!1;for(;!y;){const Ki=C;switch(C=!1,z=Y,Y=ie.decodeCode(r,k,b),h[d++]=Y,Y!==ie.CODE_STOP&&($=!0),Y!==ie.CODE_STOP&&(re++,ne+=re*Y),T=b,b+=k.reduce((Ig,Tg)=>Ig+Tg,0),Y){case ie.CODE_START_A:case ie.CODE_START_B:case ie.CODE_START_C:throw new V}switch(p){case ie.CODE_CODE_A:if(Y<64)be===We?S+=String.fromCharCode(32+Y):S+=String.fromCharCode(32+Y+128),be=!1;else if(Y<96)be===We?S+=String.fromCharCode(Y-64):S+=String.fromCharCode(Y+64),be=!1;else switch(Y!==ie.CODE_STOP&&($=!1),Y){case ie.CODE_FNC_1:s&&(S.length===0?S+="]C1":S+="");break;case ie.CODE_FNC_2:case ie.CODE_FNC_3:break;case ie.CODE_FNC_4_A:!We&&be?(We=!0,be=!1):We&&be?(We=!1,be=!1):be=!0;break;case ie.CODE_SHIFT:C=!0,p=ie.CODE_CODE_B;break;case ie.CODE_CODE_B:p=ie.CODE_CODE_B;break;case ie.CODE_CODE_C:p=ie.CODE_CODE_C;break;case ie.CODE_STOP:y=!0;break}break;case ie.CODE_CODE_B:if(Y<96)be===We?S+=String.fromCharCode(32+Y):S+=String.fromCharCode(32+Y+128),be=!1;else switch(Y!==ie.CODE_STOP&&($=!1),Y){case ie.CODE_FNC_1:s&&(S.length===0?S+="]C1":S+="");break;case ie.CODE_FNC_2:case ie.CODE_FNC_3:break;case ie.CODE_FNC_4_B:!We&&be?(We=!0,be=!1):We&&be?(We=!1,be=!1):be=!0;break;case ie.CODE_SHIFT:C=!0,p=ie.CODE_CODE_A;break;case ie.CODE_CODE_A:p=ie.CODE_CODE_A;break;case ie.CODE_CODE_C:p=ie.CODE_CODE_C;break;case ie.CODE_STOP:y=!0;break}break;case ie.CODE_CODE_C:if(Y<100)Y<10&&(S+="0"),S+=Y;else switch(Y!==ie.CODE_STOP&&($=!1),Y){case ie.CODE_FNC_1:s&&(S.length===0?S+="]C1":S+="");break;case ie.CODE_CODE_A:p=ie.CODE_CODE_A;break;case ie.CODE_CODE_B:p=ie.CODE_CODE_B;break;case ie.CODE_STOP:y=!0;break}break}Ki&&(p=p===ie.CODE_CODE_A?ie.CODE_CODE_B:ie.CODE_CODE_A)}const Cn=b-T;if(b=r.getNextUnset(b),!r.isRange(b,Math.min(r.getSize(),b+(b-T)/2),!1))throw new X;if(ne-=re*z,ne%103!==z)throw new U;const er=S.length;if(er===0)throw new X;er>0&&$&&(p===ie.CODE_CODE_C?S=S.substring(0,er-2):S=S.substring(0,er-1));const An=(l[1]+l[0])/2,ct=T+Cn/2,$t=h.length,Rn=new Uint8Array($t);for(let Ki=0;Ki<$t;Ki++)Rn[Ki]=h[Ki];const Qi=[new xe(An,n),new xe(ct,n)];return new $e(S,Rn,0,Qi,he.CODE_128,new Date().getTime())}}ie.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ie.MAX_AVG_VARIANCE=.25,ie.MAX_INDIVIDUAL_VARIANCE=.7,ie.CODE_SHIFT=98,ie.CODE_CODE_C=99,ie.CODE_CODE_B=100,ie.CODE_CODE_A=101,ie.CODE_FNC_1=102,ie.CODE_FNC_2=97,ie.CODE_FNC_3=96,ie.CODE_FNC_4_A=101,ie.CODE_FNC_4_B=100,ie.CODE_START_A=103,ie.CODE_START_B=104,ie.CODE_START_C=105,ie.CODE_STOP=106;class st extends pt{constructor(n=!1,r=!1){super(),this.usingCheckDigit=n,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,r,o){let s=this.counters;s.fill(0),this.decodeRowResult="";let l=st.findAsteriskPattern(r,s),u=r.getNextSet(l[1]),d=r.getSize(),h,p;do{st.recordPattern(r,u,s);let k=st.toNarrowWidePattern(s);if(k<0)throw new X;h=st.patternToChar(k),this.decodeRowResult+=h,p=u;for(let z of s)u+=z;u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let k of s)y+=k;let C=u-p-y;if(u!==d&&C*2<y)throw new X;if(this.usingCheckDigit){let k=this.decodeRowResult.length-1,z=0;for(let Y=0;Y<k;Y++)z+=st.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Y));if(this.decodeRowResult.charAt(k)!==st.ALPHABET_STRING.charAt(z%43))throw new U;this.decodeRowResult=this.decodeRowResult.substring(0,k)}if(this.decodeRowResult.length===0)throw new X;let S;this.extendedMode?S=st.decodeExtended(this.decodeRowResult):S=this.decodeRowResult;let T=(l[1]+l[0])/2,b=p+y/2;return new $e(S,null,0,[new xe(T,n),new xe(b,n)],he.CODE_39,new Date().getTime())}static findAsteriskPattern(n,r){let o=n.getSize(),s=n.getNextSet(0),l=0,u=s,d=!1,h=r.length;for(let p=s;p<o;p++)if(n.get(p)!==d)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===st.ASTERISK_ENCODING&&n.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,d=!d}throw new X}static toNarrowWidePattern(n){let r=n.length,o=0,s;do{let l=2147483647;for(let h of n)h<l&&h>o&&(l=h);o=l,s=0;let u=0,d=0;for(let h=0;h<r;h++){let p=n[h];p>o&&(d|=1<<r-1-h,s++,u+=p)}if(s===3){for(let h=0;h<r&&s>0;h++){let p=n[h];if(p>o&&(s--,p*2>=u))return-1}return d}}while(s>3);return-1}static patternToChar(n){for(let r=0;r<st.CHARACTER_ENCODINGS.length;r++)if(st.CHARACTER_ENCODINGS[r]===n)return st.ALPHABET_STRING.charAt(r);if(n===st.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(n){let r=n.length,o="";for(let s=0;s<r;s++){let l=n.charAt(s);if(l==="+"||l==="$"||l==="%"||l==="/"){let u=n.charAt(s+1),d="\0";switch(l){case"+":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)+32);else throw new V;break;case"$":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)-64);else throw new V;break;case"%":if(u>="A"&&u<="E")d=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")d=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")d=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")d="\0";else if(u==="V")d="@";else if(u==="W")d="`";else if(u==="X"||u==="Y"||u==="Z")d="";else throw new V;break;case"/":if(u>="A"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")d=":";else throw new V;break}o+=d,s++}else o+=l}return o}}st.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",st.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],st.ASTERISK_ENCODING=148;class et extends pt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,r,o){let s=this.decodeStart(r),l=this.decodeEnd(r),u=new Ie;et.decodeMiddle(r,s[1],l[0],u);let d=u.toString(),h=null;o!=null&&(h=o.get(J.ALLOWED_LENGTHS)),h==null&&(h=et.DEFAULT_ALLOWED_LENGTHS);let p=d.length,y=!1,C=0;for(let b of h){if(p===b){y=!0;break}b>C&&(C=b)}if(!y&&p>C&&(y=!0),!y)throw new V;const S=[new xe(s[1],n),new xe(l[0],n)];return new $e(d,null,0,S,he.ITF,new Date().getTime())}static decodeMiddle(n,r,o,s){let l=new Int32Array(10),u=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),u.fill(0),d.fill(0);r<o;){pt.recordPattern(n,r,l);for(let p=0;p<5;p++){let y=2*p;u[p]=l[y],d[p]=l[y+1]}let h=et.decodeDigit(u);s.append(h.toString()),h=this.decodeDigit(d),s.append(h.toString()),l.forEach(function(p){r+=p})}}decodeStart(n){let r=et.skipWhiteSpace(n),o=et.findGuardPattern(n,r,et.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o}validateQuietZone(n,r){let o=this.narrowLineWidth*10;o=o<r?o:r;for(let s=r-1;o>0&&s>=0&&!n.get(s);s--)o--;if(o!==0)throw new X}static skipWhiteSpace(n){const r=n.getSize(),o=n.getNextSet(0);if(o===r)throw new X;return o}decodeEnd(n){n.reverse();try{let r=et.skipWhiteSpace(n),o;try{o=et.findGuardPattern(n,r,et.END_PATTERN_REVERSED[0])}catch(l){l instanceof X&&(o=et.findGuardPattern(n,r,et.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);let s=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-s,o}finally{n.reverse()}}static findGuardPattern(n,r,o){let s=o.length,l=new Int32Array(s),u=n.getSize(),d=!1,h=0,p=r;l.fill(0);for(let y=r;y<u;y++)if(n.get(y)!==d)l[h]++;else{if(h===s-1){if(pt.patternMatchVariance(l,o,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE)return[p,y];p+=l[0]+l[1],B.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,d=!d}throw new X}static decodeDigit(n){let r=et.MAX_AVG_VARIANCE,o=-1,s=et.PATTERNS.length;for(let l=0;l<s;l++){let u=et.PATTERNS[l],d=pt.patternMatchVariance(n,u,et.MAX_INDIVIDUAL_VARIANCE);d<r?(r=d,o=l):d===r&&(o=-1)}if(o>=0)return o%10;throw new X}}et.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],et.MAX_AVG_VARIANCE=.38,et.MAX_INDIVIDUAL_VARIANCE=.5,et.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],et.START_PATTERN=Int32Array.from([1,1,1,1]),et.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class xt extends pt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let r=!1,o,s=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),o=xt.findGuardPattern(n,s,!1,this.START_END_PATTERN,l);let u=o[0];s=o[1];let d=u-(s-u);d>=0&&(r=n.isRange(d,u,!1))}return o}static checkChecksum(n){return xt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let o=parseInt(n.charAt(r-1),10);return xt.getStandardUPCEANChecksum(n.substring(0,r-1))===o}static getStandardUPCEANChecksum(n){let r=n.length,o=0;for(let s=r-1;s>=0;s-=2){let l=n.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}o*=3;for(let s=r-2;s>=0;s-=2){let l=n.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}return(1e3-o)%10}static decodeEnd(n,r){return xt.findGuardPattern(n,r,!1,xt.START_END_PATTERN,new Int32Array(xt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,r,o,s){return this.findGuardPattern(n,r,o,s,new Int32Array(s.length))}static findGuardPattern(n,r,o,s,l){let u=n.getSize();r=o?n.getNextUnset(r):n.getNextSet(r);let d=0,h=r,p=s.length,y=o;for(let C=r;C<u;C++)if(n.get(C)!==y)l[d]++;else{if(d===p-1){if(pt.patternMatchVariance(l,s,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return Int32Array.from([h,C]);h+=l[0]+l[1];let S=l.slice(2,l.length-1);for(let T=0;T<d-1;T++)l[T]=S[T];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,y=!y}throw new X}static decodeDigit(n,r,o,s){this.recordPattern(n,o,r);let l=this.MAX_AVG_VARIANCE,u=-1,d=s.length;for(let h=0;h<d;h++){let p=s[h],y=pt.patternMatchVariance(r,p,xt.MAX_INDIVIDUAL_VARIANCE);y<l&&(l=y,u=h)}if(u>=0)return u;throw new X}}xt.MAX_AVG_VARIANCE=.48,xt.MAX_INDIVIDUAL_VARIANCE=.7,xt.START_END_PATTERN=Int32Array.from([1,1,1]),xt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),xt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ur{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,o){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(r,o,s),u=s.toString(),d=Ur.parseExtensionString(u),h=[new xe((o[0]+o[1])/2,n),new xe(l,n)],p=new $e(u,null,0,h,he.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,r,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u=r[1],d=0;for(let p=0;p<5&&u<l;p++){let y=xt.decodeDigit(n,s,u,xt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+y%10);for(let C of s)u+=C;y>=10&&(d|=1<<4-p),p!==4&&(u=n.getNextSet(u),u=n.getNextUnset(u))}if(o.length!==5)throw new X;let h=this.determineCheckDigit(d);if(Ur.extensionChecksum(o.toString())!==h)throw new X;return u}static extensionChecksum(n){let r=n.length,o=0;for(let s=r-2;s>=0;s-=2)o+=n.charAt(s).charCodeAt(0)-48;o*=3;for(let s=r-1;s>=0;s-=2)o+=n.charAt(s).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(n){for(let r=0;r<10;r++)if(n===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new X}static parseExtensionString(n){if(n.length!==5)return null;let r=Ur.parseExtension5String(n);return r==null?null:new Map([[ft.SUGGESTED_PRICE,r]])}static parseExtension5String(n){let r;switch(n.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let o=parseInt(n.substring(1)),s=(o/100).toString(),l=o%100,u=l<10?"0"+l:l.toString();return r+s+"."+u}}class bo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,o){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(r,o,s),u=s.toString(),d=bo.parseExtensionString(u),h=[new xe((o[0]+o[1])/2,n),new xe(l,n)],p=new $e(u,null,0,h,he.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,r,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u=r[1],d=0;for(let h=0;h<2&&u<l;h++){let p=xt.decodeDigit(n,s,u,xt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+p%10);for(let y of s)u+=y;p>=10&&(d|=1<<1-h),h!==1&&(u=n.getNextSet(u),u=n.getNextUnset(u))}if(o.length!==2)throw new X;if(parseInt(o.toString())%4!==d)throw new X;return u}static parseExtensionString(n){return n.length!==2?null:new Map([[ft.ISSUE_NUMBER,parseInt(n)]])}}class Lo{static decodeRow(n,r,o){let s=xt.findGuardPattern(r,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ur().decodeRow(n,r,s)}catch{return new bo().decodeRow(n,r,s)}}}Lo.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class He extends xt{constructor(){super(),this.decodeRowStringBuffer="",He.L_AND_G_PATTERNS=He.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let r=He.L_PATTERNS[n-10],o=new Int32Array(r.length);for(let s=0;s<r.length;s++)o[s]=r[r.length-s-1];He.L_AND_G_PATTERNS[n]=o}}decodeRow(n,r,o){let s=He.findStartGuardPattern(r),l=o==null?null:o.get(J.NEED_RESULT_POINT_CALLBACK);if(l!=null){const $=new xe((s[0]+s[1])/2,n);l.foundPossibleResultPoint($)}let u=this.decodeMiddle(r,s,this.decodeRowStringBuffer),d=u.rowOffset,h=u.resultString;if(l!=null){const $=new xe(d,n);l.foundPossibleResultPoint($)}let p=this.decodeEnd(r,d);if(l!=null){const $=new xe((p[0]+p[1])/2,n);l.foundPossibleResultPoint($)}let y=p[1],C=y+(y-p[0]);if(C>=r.getSize()||!r.isRange(y,C,!1))throw new X;let S=h.toString();if(S.length<8)throw new V;if(!He.checkChecksum(S))throw new U;let T=(s[1]+s[0])/2,b=(p[1]+p[0])/2,k=this.getBarcodeFormat(),z=[new xe(T,n),new xe(b,n)],Y=new $e(S,null,0,z,k,new Date().getTime()),ne=0;try{let $=Lo.decodeRow(n,r,p[1]);Y.putMetadata(ft.UPC_EAN_EXTENSION,$.getText()),Y.putAllMetadata($.getResultMetadata()),Y.addResultPoints($.getResultPoints()),ne=$.getText().length}catch{}let re=o==null?null:o.get(J.ALLOWED_EAN_EXTENSIONS);if(re!=null){let $=!1;for(let We in re)if(ne.toString()===We){$=!0;break}if(!$)throw new X}return Y}decodeEnd(n,r){return He.findGuardPattern(n,r,!1,He.START_END_PATTERN,new Int32Array(He.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return He.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let o=parseInt(n.charAt(r-1),10);return He.getStandardUPCEANChecksum(n.substring(0,r-1))===o}static getStandardUPCEANChecksum(n){let r=n.length,o=0;for(let s=r-1;s>=0;s-=2){let l=n.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}o*=3;for(let s=r-2;s>=0;s-=2){let l=n.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}return(1e3-o)%10}}class cr extends He{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u=r[1],d=0;for(let p=0;p<6&&u<l;p++){let y=He.decodeDigit(n,s,u,He.L_AND_G_PATTERNS);o+=String.fromCharCode(48+y%10);for(let C of s)u+=C;y>=10&&(d|=1<<5-p)}o=cr.determineFirstDigit(o,d),u=He.findGuardPattern(n,u,!0,He.MIDDLE_PATTERN,new Int32Array(He.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&u<l;p++){let y=He.decodeDigit(n,s,u,He.L_PATTERNS);o+=String.fromCharCode(48+y);for(let C of s)u+=C}return{rowOffset:u,resultString:o}}getBarcodeFormat(){return he.EAN_13}static determineFirstDigit(n,r){for(let o=0;o<10;o++)if(r===this.FIRST_DIGIT_ENCODINGS[o])return n=String.fromCharCode(48+o)+n,n;throw new X}}cr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Wi extends He{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,o){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u=r[1];for(let h=0;h<4&&u<l;h++){let p=He.decodeDigit(n,s,u,He.L_PATTERNS);o+=String.fromCharCode(48+p);for(let y of s)u+=y}u=He.findGuardPattern(n,u,!0,He.MIDDLE_PATTERN,new Int32Array(He.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<l;h++){let p=He.decodeDigit(n,s,u,He.L_PATTERNS);o+=String.fromCharCode(48+p);for(let y of s)u+=y}return{rowOffset:u,resultString:o}}getBarcodeFormat(){return he.EAN_8}}class wi extends He{constructor(){super(...arguments),this.ean13Reader=new cr}getBarcodeFormat(){return he.UPC_A}decode(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,r,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,o))}decodeMiddle(n,r,o){return this.ean13Reader.decodeMiddle(n,r,o)}maybeReturnResult(n){let r=n.getText();if(r.charAt(0)==="0"){let o=new $e(r.substring(1),null,null,n.getResultPoints(),he.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}else throw new X}reset(){this.ean13Reader.reset()}}class dn extends He{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,r,o){const s=this.decodeMiddleCounters.map(p=>p);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const l=n.getSize();let u=r[1],d=0;for(let p=0;p<6&&u<l;p++){const y=dn.decodeDigit(n,s,u,dn.L_AND_G_PATTERNS);o+=String.fromCharCode(48+y%10);for(let C of s)u+=C;y>=10&&(d|=1<<5-p)}let h=dn.determineNumSysAndCheckDigit(o,d);return{rowOffset:u,resultString:h}}decodeEnd(n,r){return dn.findGuardPatternWithoutCounters(n,r,!0,dn.MIDDLE_END_PATTERN)}checkChecksum(n){return He.checkChecksum(dn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,r){for(let o=0;o<=1;o++)for(let s=0;s<10;s++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][s]){let l=String.fromCharCode(48+o),u=String.fromCharCode(48+s);return l+n+u}throw X.getNotFoundInstance()}getBarcodeFormat(){return he.UPC_E}static convertUPCEtoUPCA(n){const r=n.slice(1,7).split("").map(l=>l.charCodeAt(0)),o=new Ie;o.append(n.charAt(0));let s=r[5];switch(s){case 0:case 1:case 2:o.appendChars(r,0,2),o.append(s),o.append("0000"),o.appendChars(r,2,3);break;case 3:o.appendChars(r,0,3),o.append("00000"),o.appendChars(r,3,2);break;case 4:o.appendChars(r,0,4),o.append("00000"),o.append(r[4]);break;default:o.appendChars(r,0,5),o.append("0000"),o.append(s);break}return n.length>=8&&o.append(n.charAt(7)),o.toString()}}dn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ko extends pt{constructor(n){super();let r=n==null?null:n.get(J.POSSIBLE_FORMATS),o=[];a(r)?(o.push(new cr),o.push(new wi),o.push(new Wi),o.push(new dn)):(r.indexOf(he.EAN_13)>-1&&o.push(new cr),r.indexOf(he.UPC_A)>-1&&o.push(new wi),r.indexOf(he.EAN_8)>-1&&o.push(new Wi),r.indexOf(he.UPC_E)>-1&&o.push(new dn)),this.readers=o}decodeRow(n,r,o){for(let s of this.readers)try{const l=s.decodeRow(n,r,o),u=l.getBarcodeFormat()===he.EAN_13&&l.getText().charAt(0)==="0",d=o==null?null:o.get(J.POSSIBLE_FORMATS),h=d==null||d.includes(he.UPC_A);if(u&&h){const p=l.getRawBytes(),y=new $e(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),he.UPC_A);return y.putAllMetadata(l.getResultMetadata()),y}return l}catch{}throw new X}reset(){for(let n of this.readers)n.reset()}}class Ut extends pt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,r){for(let o=0;o<r.length;o++)if(pt.patternMatchVariance(n,r[o],Ut.MAX_INDIVIDUAL_VARIANCE)<Ut.MAX_AVG_VARIANCE)return o;throw new X}static count(n){return Ge.sum(new Int32Array(n))}static increment(n,r){let o=0,s=r[0];for(let l=1;l<n.length;l++)r[l]>s&&(s=r[l],o=l);n[o]++}static decrement(n,r){let o=0,s=r[0];for(let l=1;l<n.length;l++)r[l]<s&&(s=r[l],o=l);n[o]--}static isFinderPattern(n){let r=n[0]+n[1],o=r+n[2]+n[3],s=r/o;if(s>=Ut.MIN_FINDER_PATTERN_RATIO&&s<=Ut.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let d of n)d>u&&(u=d),d<l&&(l=d);return u<10*l}return!1}}Ut.MAX_AVG_VARIANCE=.2,Ut.MAX_INDIVIDUAL_VARIANCE=.45,Ut.MIN_FINDER_PATTERN_RATIO=9.5/12,Ut.MAX_FINDER_PATTERN_RATIO=12.5/14;class zr{constructor(n,r){this.value=n,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof zr))return!1;const r=n;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class yi{constructor(n,r,o,s,l){this.value=n,this.startEnd=r,this.value=n,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new xe(o,l)),this.resultPoints.push(new xe(s,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof yi))return!1;const r=n;return this.value===r.value}hashCode(){return this.value}}class hn{constructor(){}static getRSSvalue(n,r,o){let s=0;for(let h of n)s+=h;let l=0,u=0,d=n.length;for(let h=0;h<d-1;h++){let p;for(p=1,u|=1<<h;p<n[h];p++,u&=~(1<<h)){let y=hn.combins(s-p-1,d-h-2);if(o&&u===0&&s-p-(d-h-1)>=d-h-1&&(y-=hn.combins(s-p-(d-h),d-h-2)),d-h-1>1){let C=0;for(let S=s-p-(d-h-2);S>r;S--)C+=hn.combins(s-p-S-1,d-h-3);y-=C*(d-1-h)}else s-p>r&&y--;l+=y}s-=p}return l}static combins(n,r){let o,s;n-r>r?(s=r,o=n-r):(s=n-r,o=r);let l=1,u=1;for(let d=n;d>o;d--)l*=d,u<=s&&(l/=u,u++);for(;u<=s;)l/=u,u++;return l}}class Gi{static buildBitArray(n){let r=n.length*2-1;n[n.length-1].getRightChar()==null&&(r-=1);let o=12*r,s=new F(o),l=0,d=n[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&s.set(l),l++;for(let h=1;h<n.length;++h){let p=n[h],y=p.getLeftChar().getValue();for(let C=11;C>=0;--C)y&1<<C&&s.set(l),l++;if(p.getRightChar()!=null){let C=p.getRightChar().getValue();for(let S=11;S>=0;--S)C&1<<S&&s.set(l),l++}}return s}}class fr{constructor(n,r){r?this.decodedInformation=null:(this.finished=n,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Po{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class sn extends Po{constructor(n,r){super(n),this.value=r}getValue(){return this.value}isFNC1(){return this.value===sn.FNC1}}sn.FNC1="$";class O extends Po{constructor(n,r,o){super(n),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class P extends Po{constructor(n,r,o){if(super(n),r<0||r>10||o<0||o>10)throw new V;this.firstDigit=r,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===P.FNC1}isSecondDigitFNC1(){return this.secondDigit===P.FNC1}isAnyFNC1(){return this.firstDigit===P.FNC1||this.secondDigit===P.FNC1}}P.FNC1=10;class L{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new X;let r=n.substring(0,2);for(let l of L.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===L.VARIABLE_LENGTH?L.processVariableAI(2,l[2],n):L.processFixedAI(2,l[1],n);if(n.length<3)throw new X;let o=n.substring(0,3);for(let l of L.THREE_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===L.VARIABLE_LENGTH?L.processVariableAI(3,l[2],n):L.processFixedAI(3,l[1],n);for(let l of L.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===L.VARIABLE_LENGTH?L.processVariableAI(4,l[2],n):L.processFixedAI(4,l[1],n);if(n.length<4)throw new X;let s=n.substring(0,4);for(let l of L.FOUR_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===L.VARIABLE_LENGTH?L.processVariableAI(4,l[2],n):L.processFixedAI(4,l[1],n);throw new X}static processFixedAI(n,r,o){if(o.length<n)throw new X;let s=o.substring(0,n);if(o.length<n+r)throw new X;let l=o.substring(n,n+r),u=o.substring(n+r),d="("+s+")"+l,h=L.parseFieldsInGeneralPurpose(u);return h==null?d:d+h}static processVariableAI(n,r,o){let s=o.substring(0,n),l;o.length<n+r?l=o.length:l=n+r;let u=o.substring(n,l),d=o.substring(l),h="("+s+")"+u,p=L.parseFieldsInGeneralPurpose(d);return p==null?h:h+p}}L.VARIABLE_LENGTH=[],L.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",L.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",L.VARIABLE_LENGTH,20],["22",L.VARIABLE_LENGTH,29],["30",L.VARIABLE_LENGTH,8],["37",L.VARIABLE_LENGTH,8],["90",L.VARIABLE_LENGTH,30],["91",L.VARIABLE_LENGTH,30],["92",L.VARIABLE_LENGTH,30],["93",L.VARIABLE_LENGTH,30],["94",L.VARIABLE_LENGTH,30],["95",L.VARIABLE_LENGTH,30],["96",L.VARIABLE_LENGTH,30],["97",L.VARIABLE_LENGTH,3],["98",L.VARIABLE_LENGTH,30],["99",L.VARIABLE_LENGTH,30]],L.THREE_DIGIT_DATA_LENGTH=[["240",L.VARIABLE_LENGTH,30],["241",L.VARIABLE_LENGTH,30],["242",L.VARIABLE_LENGTH,6],["250",L.VARIABLE_LENGTH,30],["251",L.VARIABLE_LENGTH,30],["253",L.VARIABLE_LENGTH,17],["254",L.VARIABLE_LENGTH,20],["400",L.VARIABLE_LENGTH,30],["401",L.VARIABLE_LENGTH,30],["402",17],["403",L.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",L.VARIABLE_LENGTH,20],["421",L.VARIABLE_LENGTH,15],["422",3],["423",L.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],L.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",L.VARIABLE_LENGTH,15],["391",L.VARIABLE_LENGTH,18],["392",L.VARIABLE_LENGTH,15],["393",L.VARIABLE_LENGTH,18],["703",L.VARIABLE_LENGTH,30]],L.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",L.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",L.VARIABLE_LENGTH,20],["8003",L.VARIABLE_LENGTH,30],["8004",L.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",L.VARIABLE_LENGTH,30],["8008",L.VARIABLE_LENGTH,12],["8018",18],["8020",L.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",L.VARIABLE_LENGTH,70],["8200",L.VARIABLE_LENGTH,70]];class Q{constructor(n){this.buffer=new Ie,this.information=n}decodeAllCodes(n,r){let o=r,s=null;do{let l=this.decodeGeneralPurposeField(o,s),u=L.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&n.append(u),l.isRemaining()?s=""+l.getRemainingValue():s=null,o===l.getNewPosition())break;o=l.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let r=n;r<n+3;++r)if(this.information.get(r))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(n,4);return l===0?new P(this.information.getSize(),P.FNC1,P.FNC1):new P(this.information.getSize(),l-1,P.FNC1)}let r=this.extractNumericValueFromBitArray(n,7),o=(r-8)/11,s=(r-8)%11;return new P(n+7,o,s)}extractNumericValueFromBitArray(n,r){return Q.extractNumericValueFromBitArray(this.information,n,r)}static extractNumericValueFromBitArray(n,r,o){let s=0;for(let l=0;l<o;++l)n.get(r+l)&&(s|=1<<o-l-1);return s}decodeGeneralPurposeField(n,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(n);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new O(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new O(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,r;do{let o=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),n=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),n=r.isFinished()):(r=this.parseNumericBlock(),n=r.isFinished()),!(o!==this.current.getPosition())&&!n)break}while(!n);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let r;return n.isSecondDigitFNC1()?r=new O(this.current.getPosition(),this.buffer.toString()):r=new O(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new fr(!0,r)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let r=new O(this.current.getPosition(),this.buffer.toString());return new fr(!0,r)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new fr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new O(this.current.getPosition(),this.buffer.toString());return new fr(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new fr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new O(this.current.getPosition(),this.buffer.toString());return new fr(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new fr(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<116)return!0;if(n+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,8);return s>=232&&s<253}decodeIsoIec646(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new sn(n+5,sn.FNC1);if(r>=5&&r<15)return new sn(n+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<90)return new sn(n+7,""+(o+1));if(o>=90&&o<116)return new sn(n+7,""+(o+7));let s=this.extractNumericValueFromBitArray(n,8),l;switch(s){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new V}return new sn(n+8,l)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,6);return o>=16&&o<63}decodeAlphanumeric(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new sn(n+5,sn.FNC1);if(r>=5&&r<15)return new sn(n+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(n,6);if(o>=32&&o<58)return new sn(n+6,""+(o+33));let s;switch(o){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new Zt("Decoding invalid alphanumeric value: "+o)}return new sn(n+6,s)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<5&&r+n<this.information.getSize();++r)if(r===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+r))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let r=n;r<n+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<4&&r+n<this.information.getSize();++r)if(this.information.get(n+r))return!1;return!0}}class de{constructor(n){this.information=n,this.generalDecoder=new Q(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ue extends de{constructor(n){super(n)}encodeCompressedGtin(n,r){n.append("(01)");let o=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,o)}encodeCompressedGtinWithoutAI(n,r,o){for(let s=0;s<4;++s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*s,10);l/100===0&&n.append("0"),l/10===0&&n.append("0"),n.append(l)}ue.appendCheckDigit(n,o)}static appendCheckDigit(n,r){let o=0;for(let s=0;s<13;s++){let l=n.charAt(s+r).charCodeAt(0)-48;o+=s&1?l:3*l}o=10-o%10,o===10&&(o=0),n.append(o)}}ue.GTIN_SIZE=40;class Ce extends ue{constructor(n){super(n)}parseInformation(){let n=new Ie;n.append("(01)");let r=n.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ce.HEADER_SIZE,4);return n.append(o),this.encodeCompressedGtinWithoutAI(n,Ce.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,Ce.HEADER_SIZE+44)}}Ce.HEADER_SIZE=4;class oe extends de{constructor(n){super(n)}parseInformation(){let n=new Ie;return this.getGeneralDecoder().decodeAllCodes(n,oe.HEADER_SIZE)}}oe.HEADER_SIZE=5;class _e extends ue{constructor(n){super(n)}encodeCompressedWeight(n,r,o){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,o);this.addWeightCode(n,s);let l=this.checkWeight(s),u=1e5;for(let d=0;d<5;++d)l/u===0&&n.append("0"),u/=10;n.append(l)}}class me extends _e{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=me.HEADER_SIZE+_e.GTIN_SIZE+me.WEIGHT_SIZE)throw new X;let n=new Ie;return this.encodeCompressedGtin(n,me.HEADER_SIZE),this.encodeCompressedWeight(n,me.HEADER_SIZE+_e.GTIN_SIZE,me.WEIGHT_SIZE),n.toString()}}me.HEADER_SIZE=5,me.WEIGHT_SIZE=15;class De extends me{constructor(n){super(n)}addWeightCode(n,r){n.append("(3103)")}checkWeight(n){return n}}class tt extends me{constructor(n){super(n)}addWeightCode(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Pe extends ue{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Pe.HEADER_SIZE+ue.GTIN_SIZE)throw new X;let n=new Ie;this.encodeCompressedGtin(n,Pe.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Pe.HEADER_SIZE+ue.GTIN_SIZE,Pe.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Pe.HEADER_SIZE+ue.GTIN_SIZE+Pe.LAST_DIGIT_SIZE,null);return n.append(o.getNewString()),n.toString()}}Pe.HEADER_SIZE=8,Pe.LAST_DIGIT_SIZE=2;class Oe extends ue{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Oe.HEADER_SIZE+ue.GTIN_SIZE)throw new X;let n=new Ie;this.encodeCompressedGtin(n,Oe.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Oe.HEADER_SIZE+ue.GTIN_SIZE,Oe.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Oe.HEADER_SIZE+ue.GTIN_SIZE+Oe.LAST_DIGIT_SIZE,Oe.FIRST_THREE_DIGITS_SIZE);o/100==0&&n.append("0"),o/10==0&&n.append("0"),n.append(o);let s=this.getGeneralDecoder().decodeGeneralPurposeField(Oe.HEADER_SIZE+ue.GTIN_SIZE+Oe.LAST_DIGIT_SIZE+Oe.FIRST_THREE_DIGITS_SIZE,null);return n.append(s.getNewString()),n.toString()}}Oe.HEADER_SIZE=8,Oe.LAST_DIGIT_SIZE=2,Oe.FIRST_THREE_DIGITS_SIZE=10;class Ee extends _e{constructor(n,r,o){super(n),this.dateCode=o,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Ee.HEADER_SIZE+Ee.GTIN_SIZE+Ee.WEIGHT_SIZE+Ee.DATE_SIZE)throw new X;let n=new Ie;return this.encodeCompressedGtin(n,Ee.HEADER_SIZE),this.encodeCompressedWeight(n,Ee.HEADER_SIZE+Ee.GTIN_SIZE,Ee.WEIGHT_SIZE),this.encodeCompressedDate(n,Ee.HEADER_SIZE+Ee.GTIN_SIZE+Ee.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,r){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Ee.DATE_SIZE);if(o==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let s=o%32;o/=32;let l=o%12+1;o/=12;let u=o;u/10==0&&n.append("0"),n.append(u),l/10==0&&n.append("0"),n.append(l),s/10==0&&n.append("0"),n.append(s)}addWeightCode(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")}checkWeight(n){return n%1e5}}Ee.HEADER_SIZE=8,Ee.WEIGHT_SIZE=20,Ee.DATE_SIZE=16;function Lt(E){try{if(E.get(1))return new Ce(E);if(!E.get(2))return new oe(E);switch(Q.extractNumericValueFromBitArray(E,1,4)){case 4:return new De(E);case 5:return new tt(E)}switch(Q.extractNumericValueFromBitArray(E,1,5)){case 12:return new Pe(E);case 13:return new Oe(E)}switch(Q.extractNumericValueFromBitArray(E,1,7)){case 56:return new Ee(E,"310","11");case 57:return new Ee(E,"320","11");case 58:return new Ee(E,"310","13");case 59:return new Ee(E,"320","13");case 60:return new Ee(E,"310","15");case 61:return new Ee(E,"320","15");case 62:return new Ee(E,"310","17");case 63:return new Ee(E,"320","17")}}catch(n){throw console.log(n),new Zt("unknown decoder: "+E)}}class nt{constructor(n,r,o,s){this.leftchar=n,this.rightchar=r,this.finderpattern=o,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,r){return n instanceof nt?nt.equalsOrNull(n.leftchar,r.leftchar)&&nt.equalsOrNull(n.rightchar,r.rightchar)&&nt.equalsOrNull(n.finderpattern,r.finderpattern):!1}static equalsOrNull(n,r){return n===null?r===null:nt.equals(n,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ar{constructor(n,r,o){this.pairs=n,this.rowNumber=r,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,r){return n instanceof Ar?this.checkEqualitity(n,r)&&n.wasReversed===r.wasReversed:!1}checkEqualitity(n,r){if(!n||!r)return;let o;return n.forEach((s,l)=>{r.forEach(u=>{s.getLeftChar().getValue()===u.getLeftChar().getValue()&&s.getRightChar().getValue()===u.getRightChar().getValue()&&s.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(o=!0)})}),o}}class Z extends Ut{constructor(n){super(...arguments),this.pairs=new Array(Z.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,r,o){this.pairs.length=0,this.startFromEven=!1;try{return Z.constructResult(this.decodeRow2pairs(n,r))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,Z.constructResult(this.decodeRow2pairs(n,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,r){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(l){if(l instanceof X){if(!this.pairs.length)throw new X;o=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(n,!1),s){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new X}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return n&&(this.rows=this.rows.reverse()),r}checkRows(n,r){for(let o=r;o<this.rows.length;o++){let s=this.rows[o];this.pairs.length=0;for(let u of n)this.pairs.push(u.getPairs());if(this.pairs.push(s.getPairs()),!Z.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(n);l.push(s);try{return this.checkRows(l,o+1)}catch(u){this.verbose&&console.log(u)}}throw new X}static isValidSequence(n){for(let r of Z.FINDER_PATTERN_SEQUENCES){if(n.length>r.length)continue;let o=!0;for(let s=0;s<n.length;s++)if(n[s].getFinderPattern().getValue()!=r[s]){o=!1;break}if(o)return!0}return!1}storeRow(n,r){let o=0,s=!1,l=!1;for(;o<this.rows.length;){let u=this.rows[o];if(u.getRowNumber()>n){l=u.isEquivalent(this.pairs);break}s=u.isEquivalent(this.pairs),o++}l||s||Z.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Ar(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,r){for(let o of r)if(o.getPairs().length!==n.length){for(let s of o.getPairs())for(let l of n)if(nt.equals(s,l))break}}static isPartialRow(n,r){for(let o of r){let s=!0;for(let l of n){let u=!1;for(let d of o.getPairs())if(l.equals(d)){u=!0;break}if(!u){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(n){let r=Gi.buildBitArray(n),s=Lt(r).parseInformation(),l=n[0].getFinderPattern().getResultPoints(),u=n[n.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],u[0],u[1]];return new $e(s,null,null,d,he.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),r=n.getLeftChar(),o=n.getRightChar();if(o==null)return!1;let s=o.getChecksumPortion(),l=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);s+=h.getLeftChar().getChecksumPortion(),l++;let p=h.getRightChar();p!=null&&(s+=p.getChecksumPortion(),l++)}return s%=211,211*(l-4)+s==r.getValue()}static getNextSecondBar(n,r){let o;return n.get(r)?(o=n.getNextUnset(r),o=n.getNextSet(o)):(o=n.getNextSet(r),o=n.getNextUnset(o)),o}retrieveNextPair(n,r,o){let s=r.length%2==0;this.startFromEven&&(s=!s);let l,u=!0,d=-1;do this.findNextPair(n,r,d),l=this.parseFoundFinderPattern(n,o,s),l==null?d=Z.getNextSecondBar(n,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(n,l,s,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new X;let p;try{p=this.decodeDataCharacter(n,l,s,!1)}catch(y){p=null,this.verbose&&console.log(y)}return new nt(h,p,l,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,r,o){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u;o>=0?u=o:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let d=r.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;u<l&&(h=!n.get(u),!!h);)u++;let p=0,y=u;for(let C=u;C<l;C++)if(n.get(C)!=h)s[p]++;else{if(p==3){if(d&&Z.reverseCounters(s),Z.isFinderPattern(s)){this.startEnd[0]=y,this.startEnd[1]=C;return}d&&Z.reverseCounters(s),y+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,p--}else p++;s[p]=1,h=!h}throw new X}static reverseCounters(n){let r=n.length;for(let o=0;o<r/2;++o){let s=n[o];n[o]=n[r-o-1],n[r-o-1]=s}}parseFoundFinderPattern(n,r,o){let s,l,u;if(o){let p=this.startEnd[0]-1;for(;p>=0&&!n.get(p);)p--;p++,s=this.startEnd[0]-p,l=p,u=this.startEnd[1]}else l=this.startEnd[0],u=n.getNextUnset(this.startEnd[1]+1),s=u-this.startEnd[1];let d=this.getDecodeFinderCounters();B.arraycopy(d,0,d,1,d.length-1),d[0]=s;let h;try{h=this.parseFinderValue(d,Z.FINDER_PATTERNS)}catch{return null}return new yi(h,[l,u],l,u,r)}decodeDataCharacter(n,r,o,s){let l=this.getDataCharacterCounters();for(let ct=0;ct<l.length;ct++)l[ct]=0;if(s)Z.recordPatternInReverse(n,r.getStartEnd()[0],l);else{Z.recordPattern(n,r.getStartEnd()[1],l);for(let ct=0,$t=l.length-1;ct<$t;ct++,$t--){let Rn=l[ct];l[ct]=l[$t],l[$t]=Rn}}let u=17,d=Ge.sum(new Int32Array(l))/u,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new X;let p=this.getOddCounts(),y=this.getEvenCounts(),C=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let ct=0;ct<l.length;ct++){let $t=1*l[ct]/d,Rn=$t+.5;if(Rn<1){if($t<.3)throw new X;Rn=1}else if(Rn>8){if($t>8.7)throw new X;Rn=8}let Qi=ct/2;ct&1?(y[Qi]=Rn,S[Qi]=$t-Rn):(p[Qi]=Rn,C[Qi]=$t-Rn)}this.adjustOddEvenCounts(u);let T=4*r.getValue()+(o?0:2)+(s?0:1)-1,b=0,k=0;for(let ct=p.length-1;ct>=0;ct--){if(Z.isNotA1left(r,o,s)){let $t=Z.WEIGHTS[T][2*ct];k+=p[ct]*$t}b+=p[ct]}let z=0;for(let ct=y.length-1;ct>=0;ct--)if(Z.isNotA1left(r,o,s)){let $t=Z.WEIGHTS[T][2*ct+1];z+=y[ct]*$t}let Y=k+z;if(b&1||b>13||b<4)throw new X;let ne=(13-b)/2,re=Z.SYMBOL_WIDEST[ne],$=9-re,We=hn.getRSSvalue(p,re,!0),be=hn.getRSSvalue(y,$,!1),Cn=Z.EVEN_TOTAL_SUBSET[ne],er=Z.GSUM[ne],An=We*Cn+be+er;return new zr(An,Y)}static isNotA1left(n,r,o){return!(n.getValue()==0&&r&&o)}adjustOddEvenCounts(n){let r=Ge.sum(new Int32Array(this.getOddCounts())),o=Ge.sum(new Int32Array(this.getEvenCounts())),s=!1,l=!1;r>13?l=!0:r<4&&(s=!0);let u=!1,d=!1;o>13?d=!0:o<4&&(u=!0);let h=r+o-n,p=(r&1)==1,y=(o&1)==0;if(h==1)if(p){if(y)throw new X;l=!0}else{if(!y)throw new X;d=!0}else if(h==-1)if(p){if(y)throw new X;s=!0}else{if(!y)throw new X;u=!0}else if(h==0){if(p){if(!y)throw new X;r<o?(s=!0,d=!0):(l=!0,u=!0)}else if(y)throw new X}else throw new X;if(s){if(l)throw new X;Z.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Z.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(d)throw new X;Z.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Z.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Z.SYMBOL_WIDEST=[7,5,4,3,1],Z.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Z.GSUM=[0,348,1388,2948,3988],Z.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Z.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Z.FINDER_PAT_A=0,Z.FINDER_PAT_B=1,Z.FINDER_PAT_C=2,Z.FINDER_PAT_D=3,Z.FINDER_PAT_E=4,Z.FINDER_PAT_F=5,Z.FINDER_PATTERN_SEQUENCES=[[Z.FINDER_PAT_A,Z.FINDER_PAT_A],[Z.FINDER_PAT_A,Z.FINDER_PAT_B,Z.FINDER_PAT_B],[Z.FINDER_PAT_A,Z.FINDER_PAT_C,Z.FINDER_PAT_B,Z.FINDER_PAT_D],[Z.FINDER_PAT_A,Z.FINDER_PAT_E,Z.FINDER_PAT_B,Z.FINDER_PAT_D,Z.FINDER_PAT_C],[Z.FINDER_PAT_A,Z.FINDER_PAT_E,Z.FINDER_PAT_B,Z.FINDER_PAT_D,Z.FINDER_PAT_D,Z.FINDER_PAT_F],[Z.FINDER_PAT_A,Z.FINDER_PAT_E,Z.FINDER_PAT_B,Z.FINDER_PAT_D,Z.FINDER_PAT_E,Z.FINDER_PAT_F,Z.FINDER_PAT_F],[Z.FINDER_PAT_A,Z.FINDER_PAT_A,Z.FINDER_PAT_B,Z.FINDER_PAT_B,Z.FINDER_PAT_C,Z.FINDER_PAT_C,Z.FINDER_PAT_D,Z.FINDER_PAT_D],[Z.FINDER_PAT_A,Z.FINDER_PAT_A,Z.FINDER_PAT_B,Z.FINDER_PAT_B,Z.FINDER_PAT_C,Z.FINDER_PAT_C,Z.FINDER_PAT_D,Z.FINDER_PAT_E,Z.FINDER_PAT_E],[Z.FINDER_PAT_A,Z.FINDER_PAT_A,Z.FINDER_PAT_B,Z.FINDER_PAT_B,Z.FINDER_PAT_C,Z.FINDER_PAT_C,Z.FINDER_PAT_D,Z.FINDER_PAT_E,Z.FINDER_PAT_F,Z.FINDER_PAT_F],[Z.FINDER_PAT_A,Z.FINDER_PAT_A,Z.FINDER_PAT_B,Z.FINDER_PAT_B,Z.FINDER_PAT_C,Z.FINDER_PAT_D,Z.FINDER_PAT_D,Z.FINDER_PAT_E,Z.FINDER_PAT_E,Z.FINDER_PAT_F,Z.FINDER_PAT_F]],Z.MAX_PAIRS=11;class jr extends zr{constructor(n,r,o){super(n,r),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class rt extends Ut{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,r,o){const s=this.decodePair(r,!1,n,o);rt.addOrTally(this.possibleLeftPairs,s),r.reverse();let l=this.decodePair(r,!0,n,o);rt.addOrTally(this.possibleRightPairs,l),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&rt.checkChecksum(u,d))return rt.constructResult(u,d)}throw new X}static addOrTally(n,r){if(r==null)return;let o=!1;for(let s of n)if(s.getValue()===r.getValue()){s.incrementCount(),o=!0;break}o||n.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,r){let o=4537077*n.getValue()+r.getValue(),s=new String(o).toString(),l=new Ie;for(let p=13-s.length;p>0;p--)l.append("0");l.append(s);let u=0;for(let p=0;p<13;p++){let y=l.charAt(p).charCodeAt(0)-48;u+=p&1?y:3*y}u=10-u%10,u===10&&(u=0),l.append(u.toString());let d=n.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new $e(l.toString(),null,0,[d[0],d[1],h[0],h[1]],he.RSS_14,new Date().getTime())}static checkChecksum(n,r){let o=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,s=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,o===s}decodePair(n,r,o,s){try{let l=this.findFinderPattern(n,r),u=this.parseFoundFinderPattern(n,o,r,l),d=s==null?null:s.get(J.NEED_RESULT_POINT_CALLBACK);if(d!=null){let y=(l[0]+l[1])/2;r&&(y=n.getSize()-1-y),d.foundPossibleResultPoint(new xe(y,o))}let h=this.decodeDataCharacter(n,u,!0),p=this.decodeDataCharacter(n,u,!1);return new jr(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(n,r,o){let s=this.getDataCharacterCounters();for(let z=0;z<s.length;z++)s[z]=0;if(o)pt.recordPatternInReverse(n,r.getStartEnd()[0],s);else{pt.recordPattern(n,r.getStartEnd()[1]+1,s);for(let z=0,Y=s.length-1;z<Y;z++,Y--){let ne=s[z];s[z]=s[Y],s[Y]=ne}}let l=o?16:15,u=Ge.sum(new Int32Array(s))/l,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let z=0;z<s.length;z++){let Y=s[z]/u,ne=Math.floor(Y+.5);ne<1?ne=1:ne>8&&(ne=8);let re=Math.floor(z/2);z&1?(h[re]=ne,y[re]=Y-ne):(d[re]=ne,p[re]=Y-ne)}this.adjustOddEvenCounts(o,l);let C=0,S=0;for(let z=d.length-1;z>=0;z--)S*=9,S+=d[z],C+=d[z];let T=0,b=0;for(let z=h.length-1;z>=0;z--)T*=9,T+=h[z],b+=h[z];let k=S+3*T;if(o){if(C&1||C>12||C<4)throw new X;let z=(12-C)/2,Y=rt.OUTSIDE_ODD_WIDEST[z],ne=9-Y,re=hn.getRSSvalue(d,Y,!1),$=hn.getRSSvalue(h,ne,!0),We=rt.OUTSIDE_EVEN_TOTAL_SUBSET[z],be=rt.OUTSIDE_GSUM[z];return new zr(re*We+$+be,k)}else{if(b&1||b>10||b<4)throw new X;let z=(10-b)/2,Y=rt.INSIDE_ODD_WIDEST[z],ne=9-Y,re=hn.getRSSvalue(d,Y,!0),$=hn.getRSSvalue(h,ne,!1),We=rt.INSIDE_ODD_TOTAL_SUBSET[z],be=rt.INSIDE_GSUM[z];return new zr($*We+re+be,k)}}findFinderPattern(n,r){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=n.getSize(),l=!1,u=0;for(;u<s&&(l=!n.get(u),r!==l);)u++;let d=0,h=u;for(let p=u;p<s;p++)if(n.get(p)!==l)o[d]++;else{if(d===3){if(Ut.isFinderPattern(o))return[h,p];h+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,d--}else d++;o[d]=1,l=!l}throw new X}parseFoundFinderPattern(n,r,o,s){let l=n.get(s[0]),u=s[0]-1;for(;u>=0&&l!==n.get(u);)u--;u++;const d=s[0]-u,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);B.arraycopy(h,0,p,1,h.length-1),p[0]=d;const y=this.parseFinderValue(p,rt.FINDER_PATTERNS);let C=u,S=s[1];return o&&(C=n.getSize()-1-C,S=n.getSize()-1-S),new yi(y,[u,s[1]],C,S,r)}adjustOddEvenCounts(n,r){let o=Ge.sum(new Int32Array(this.getOddCounts())),s=Ge.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,d=!1,h=!1;n?(o>12?u=!0:o<4&&(l=!0),s>12?h=!0:s<4&&(d=!0)):(o>11?u=!0:o<5&&(l=!0),s>10?h=!0:s<4&&(d=!0));let p=o+s-r,y=(o&1)===(n?1:0),C=(s&1)===1;if(p===1)if(y){if(C)throw new X;u=!0}else{if(!C)throw new X;h=!0}else if(p===-1)if(y){if(C)throw new X;l=!0}else{if(!C)throw new X;d=!0}else if(p===0){if(y){if(!C)throw new X;o<s?(l=!0,h=!0):(u=!0,d=!0)}else if(C)throw new X}else throw new X;if(l){if(u)throw new X;Ut.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Ut.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new X;Ut.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Ut.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}rt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],rt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],rt.OUTSIDE_GSUM=[0,161,961,2015,2715],rt.INSIDE_GSUM=[0,336,1036,1516],rt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],rt.INSIDE_ODD_WIDEST=[2,4,6,8],rt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Mn extends pt{constructor(n,r){super(),this.readers=[],this.verbose=r===!0;const o=n?n.get(J.POSSIBLE_FORMATS):null,s=n&&n.get(J.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(he.EAN_13)||o.includes(he.UPC_A)||o.includes(he.EAN_8)||o.includes(he.UPC_E))&&this.readers.push(new ko(n)),o.includes(he.CODE_39)&&this.readers.push(new st(s)),o.includes(he.CODE_128)&&this.readers.push(new ie),o.includes(he.ITF)&&this.readers.push(new et),o.includes(he.RSS_14)&&this.readers.push(new rt),o.includes(he.RSS_EXPANDED)&&this.readers.push(new Z(this.verbose))):(this.readers.push(new ko(n)),this.readers.push(new st),this.readers.push(new ko(n)),this.readers.push(new ie),this.readers.push(new et),this.readers.push(new rt),this.readers.push(new Z(this.verbose)))}decodeRow(n,r,o){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(n,r,o)}catch{}throw new X}reset(){this.readers.forEach(n=>n.reset())}}class jn extends _t{constructor(n=500,r){super(new Mn(r),n,r)}}class Ye{constructor(n,r,o){this.ecCodewords=n,this.ecBlocks=[r],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ve{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Be{constructor(n,r,o,s,l,u){this.versionNumber=n,this.symbolSizeRows=r,this.symbolSizeColumns=o,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=l,this.ecBlocks=u;let d=0;const h=u.getECCodewords(),p=u.getECBlocks();for(let y of p)d+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,r){if(n&1||r&1)throw new V;for(let o of Be.VERSIONS)if(o.symbolSizeRows===n&&o.symbolSizeColumns===r)return o;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new Be(1,10,10,8,8,new Ye(5,new Ve(1,3))),new Be(2,12,12,10,10,new Ye(7,new Ve(1,5))),new Be(3,14,14,12,12,new Ye(10,new Ve(1,8))),new Be(4,16,16,14,14,new Ye(12,new Ve(1,12))),new Be(5,18,18,16,16,new Ye(14,new Ve(1,18))),new Be(6,20,20,18,18,new Ye(18,new Ve(1,22))),new Be(7,22,22,20,20,new Ye(20,new Ve(1,30))),new Be(8,24,24,22,22,new Ye(24,new Ve(1,36))),new Be(9,26,26,24,24,new Ye(28,new Ve(1,44))),new Be(10,32,32,14,14,new Ye(36,new Ve(1,62))),new Be(11,36,36,16,16,new Ye(42,new Ve(1,86))),new Be(12,40,40,18,18,new Ye(48,new Ve(1,114))),new Be(13,44,44,20,20,new Ye(56,new Ve(1,144))),new Be(14,48,48,22,22,new Ye(68,new Ve(1,174))),new Be(15,52,52,24,24,new Ye(42,new Ve(2,102))),new Be(16,64,64,14,14,new Ye(56,new Ve(2,140))),new Be(17,72,72,16,16,new Ye(36,new Ve(4,92))),new Be(18,80,80,18,18,new Ye(48,new Ve(4,114))),new Be(19,88,88,20,20,new Ye(56,new Ve(4,144))),new Be(20,96,96,22,22,new Ye(68,new Ve(4,174))),new Be(21,104,104,24,24,new Ye(56,new Ve(6,136))),new Be(22,120,120,18,18,new Ye(68,new Ve(6,175))),new Be(23,132,132,20,20,new Ye(62,new Ve(8,163))),new Be(24,144,144,22,22,new Ye(62,new Ve(8,156),new Ve(2,155))),new Be(25,8,18,6,16,new Ye(7,new Ve(1,5))),new Be(26,8,32,6,14,new Ye(11,new Ve(1,10))),new Be(27,12,26,10,24,new Ye(14,new Ve(1,16))),new Be(28,12,36,10,16,new Ye(18,new Ve(1,22))),new Be(29,16,36,14,16,new Ye(24,new Ve(1,32))),new Be(30,16,48,14,22,new Ye(28,new Ve(1,49)))]}}Be.VERSIONS=Be.buildVersions();class Me{constructor(n){const r=n.getHeight();if(r<8||r>144||r&1)throw new V;this.version=Me.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new Le(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const r=n.getHeight(),o=n.getWidth();return Be.getVersionForDimensions(r,o)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let r=0,o=4,s=0;const l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let d=!1,h=!1,p=!1,y=!1;do if(o===l&&s===0&&!d)n[r++]=this.readCorner1(l,u)&255,o-=2,s+=2,d=!0;else if(o===l-2&&s===0&&u&3&&!h)n[r++]=this.readCorner2(l,u)&255,o-=2,s+=2,h=!0;else if(o===l+4&&s===2&&!(u&7)&&!p)n[r++]=this.readCorner3(l,u)&255,o-=2,s+=2,p=!0;else if(o===l-2&&s===0&&(u&7)===4&&!y)n[r++]=this.readCorner4(l,u)&255,o-=2,s+=2,y=!0;else{do o<l&&s>=0&&!this.readMappingMatrix.get(s,o)&&(n[r++]=this.readUtah(o,s,l,u)&255),o-=2,s+=2;while(o>=0&&s<u);o+=1,s+=3;do o>=0&&s<u&&!this.readMappingMatrix.get(s,o)&&(n[r++]=this.readUtah(o,s,l,u)&255),o+=2,s-=2;while(o<l&&s>=0);o+=3,s+=1}while(o<l||s<u);if(r!==this.version.getTotalCodewords())throw new V;return n}readModule(n,r,o,s){return n<0&&(n+=o,r+=4-(o+4&7)),r<0&&(r+=s,n+=4-(s+4&7)),this.readMappingMatrix.set(r,n),this.mappingBitMatrix.get(r,n)}readUtah(n,r,o,s){let l=0;return this.readModule(n-2,r-2,o,s)&&(l|=1),l<<=1,this.readModule(n-2,r-1,o,s)&&(l|=1),l<<=1,this.readModule(n-1,r-2,o,s)&&(l|=1),l<<=1,this.readModule(n-1,r-1,o,s)&&(l|=1),l<<=1,this.readModule(n-1,r,o,s)&&(l|=1),l<<=1,this.readModule(n,r-2,o,s)&&(l|=1),l<<=1,this.readModule(n,r-1,o,s)&&(l|=1),l<<=1,this.readModule(n,r,o,s)&&(l|=1),l}readCorner1(n,r){let o=0;return this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,1,n,r)&&(o|=1),o<<=1,this.readModule(n-1,2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(2,r-1,n,r)&&(o|=1),o<<=1,this.readModule(3,r-1,n,r)&&(o|=1),o}readCorner2(n,r){let o=0;return this.readModule(n-3,0,n,r)&&(o|=1),o<<=1,this.readModule(n-2,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(0,r-4,n,r)&&(o|=1),o<<=1,this.readModule(0,r-3,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o}readCorner3(n,r){let o=0;return this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(0,r-3,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-3,n,r)&&(o|=1),o<<=1,this.readModule(1,r-2,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o}readCorner4(n,r){let o=0;return this.readModule(n-3,0,n,r)&&(o|=1),o<<=1,this.readModule(n-2,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(2,r-1,n,r)&&(o|=1),o<<=1,this.readModule(3,r-1,n,r)&&(o|=1),o}extractDataRegion(n){const r=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(n.getHeight()!==r)throw new A("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=r/s|0,d=o/l|0,h=u*s,p=d*l,y=new Le(p,h);for(let C=0;C<u;++C){const S=C*s;for(let T=0;T<d;++T){const b=T*l;for(let k=0;k<s;++k){const z=C*(s+2)+1+k,Y=S+k;for(let ne=0;ne<l;++ne){const re=T*(l+2)+1+ne;if(n.get(re,z)){const $=b+ne;y.set($,Y)}}}}}return y}}class dt{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r){const o=r.getECBlocks();let s=0;const l=o.getECBlocks();for(let k of l)s+=k.getCount();const u=new Array(s);let d=0;for(let k of l)for(let z=0;z<k.getCount();z++){const Y=k.getDataCodewords(),ne=o.getECCodewords()+Y;u[d++]=new dt(Y,new Uint8Array(ne))}const p=u[0].codewords.length-o.getECCodewords(),y=p-1;let C=0;for(let k=0;k<y;k++)for(let z=0;z<d;z++)u[z].codewords[k]=n[C++];const S=r.getVersionNumber()===24,T=S?8:d;for(let k=0;k<T;k++)u[k].codewords[p-1]=n[C++];const b=u[0].codewords.length;for(let k=p;k<b;k++)for(let z=0;z<d;z++){const Y=S?(z+8)%d:z,ne=S&&Y>7?k-1:k;u[Y].codewords[ne]=n[C++]}if(C!==n.length)throw new A;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Kt{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new A(""+n);let r=0,o=this.bitOffset,s=this.byteOffset;const l=this.bytes;if(o>0){const u=8-o,d=n<u?n:u,h=u-d,p=255>>8-d<<h;r=(l[s]&p)>>h,n-=d,o+=d,o===8&&(o=0,s++)}if(n>0){for(;n>=8;)r=r<<8|l[s]&255,s++,n-=8;if(n>0){const u=8-n,d=255>>u<<u;r=r<<n|(l[s]&d)>>u,o+=n}}return this.bitOffset=o,this.byteOffset=s,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Re;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(Re||(Re={}));class Vt{static decode(n){const r=new Kt(n),o=new Ie,s=new Ie,l=new Array;let u=Re.ASCII_ENCODE;do if(u===Re.ASCII_ENCODE)u=this.decodeAsciiSegment(r,o,s);else{switch(u){case Re.C40_ENCODE:this.decodeC40Segment(r,o);break;case Re.TEXT_ENCODE:this.decodeTextSegment(r,o);break;case Re.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,o);break;case Re.EDIFACT_ENCODE:this.decodeEdifactSegment(r,o);break;case Re.BASE256_ENCODE:this.decodeBase256Segment(r,o,l);break;default:throw new V}u=Re.ASCII_ENCODE}while(u!==Re.PAD_ENCODE&&r.available()>0);return s.length()>0&&o.append(s.toString()),new mi(n,o.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(n,r,o){let s=!1;do{let l=n.readBits(8);if(l===0)throw new V;if(l<=128)return s&&(l+=128),r.append(String.fromCharCode(l-1)),Re.ASCII_ENCODE;if(l===129)return Re.PAD_ENCODE;if(l<=229){const u=l-130;u<10&&r.append("0"),r.append(""+u)}else switch(l){case 230:return Re.C40_ENCODE;case 231:return Re.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:r.append("[)>05"),o.insert(0,"");break;case 237:r.append("[)>06"),o.insert(0,"");break;case 238:return Re.ANSIX12_ENCODE;case 239:return Re.TEXT_ENCODE;case 240:return Re.EDIFACT_ENCODE;case 241:break;default:if(l!==254||n.available()!==0)throw new V;break}}while(n.available()>0);return Re.ASCII_ENCODE}static decodeC40Segment(n,r){let o=!1;const s=[];let l=0;do{if(n.available()===8)return;const u=n.readBits(8);if(u===254)return;this.parseTwoBytes(u,n.readBits(8),s);for(let d=0;d<3;d++){const h=s[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else throw new V;break;case 1:o?(r.append(String.fromCharCode(h+128)),o=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else switch(h){case 27:r.append("");break;case 30:o=!0;break;default:throw new V}l=0;break;case 3:o?(r.append(String.fromCharCode(h+224)),o=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new V}}}while(n.available()>0)}static decodeTextSegment(n,r){let o=!1,s=[],l=0;do{if(n.available()===8)return;const u=n.readBits(8);if(u===254)return;this.parseTwoBytes(u,n.readBits(8),s);for(let d=0;d<3;d++){const h=s[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else throw new V;break;case 1:o?(r.append(String.fromCharCode(h+128)),o=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else switch(h){case 27:r.append("");break;case 30:o=!0;break;default:throw new V}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p),l=0}else throw new V;break;default:throw new V}}}while(n.available()>0)}static decodeAnsiX12Segment(n,r){const o=[];do{if(n.available()===8)return;const s=n.readBits(8);if(s===254)return;this.parseTwoBytes(s,n.readBits(8),o);for(let l=0;l<3;l++){const u=o[l];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new V;break}}}while(n.available()>0)}static parseTwoBytes(n,r,o){let s=(n<<8)+r-1,l=Math.floor(s/1600);o[0]=l,s-=l*1600,l=Math.floor(s/40),o[1]=l,o[2]=s-l*40}static decodeEdifactSegment(n,r){do{if(n.available()<=16)return;for(let o=0;o<4;o++){let s=n.readBits(6);if(s===31){const l=8-n.getBitOffset();l!==8&&n.readBits(l);return}s&32||(s|=64),r.append(String.fromCharCode(s))}}while(n.available()>0)}static decodeBase256Segment(n,r,o){let s=1+n.getByteOffset();const l=this.unrandomize255State(n.readBits(8),s++);let u;if(l===0?u=n.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(n.readBits(8),s++),u<0)throw new V;const d=new Uint8Array(u);for(let h=0;h<u;h++){if(n.available()<8)throw new V;d[h]=this.unrandomize255State(n.readBits(8),s++)}o.push(d);try{r.append(we.decode(d,ce.ISO88591))}catch(h){throw new Zt("Platform does not support required encoding: "+h.message)}}static unrandomize255State(n,r){const o=149*r%255+1,s=n-o;return s>=0?s:s+256}}Vt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Vt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Vt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Vt.TEXT_SHIFT2_SET_CHARS=Vt.C40_SHIFT2_SET_CHARS,Vt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ys{constructor(){this.rsDecoder=new Br(Ze.DATA_MATRIX_FIELD_256)}decode(n){const r=new Me(n),o=r.getVersion(),s=r.readCodewords(),l=dt.getDataBlocks(s,o);let u=0;for(let p of l)u+=p.getNumDataCodewords();const d=new Uint8Array(u),h=l.length;for(let p=0;p<h;p++){const y=l[p],C=y.getCodewords(),S=y.getNumDataCodewords();this.correctErrors(C,S);for(let T=0;T<S;T++)d[T*h+p]=C[T]}return Vt.decode(d)}correctErrors(n,r){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-r)}catch{throw new U}for(let s=0;s<r;s++)n[s]=o[s]}}class At{constructor(n){this.image=n,this.rectangleDetector=new qn(this.image)}detect(){const n=this.rectangleDetector.detect();let r=this.detectSolid1(n);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new X;r=this.shiftToModuleCenter(r);const o=r[0],s=r[1],l=r[2],u=r[3];let d=this.transitionsBetween(o,u)+1,h=this.transitionsBetween(l,u)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let p=At.sampleGrid(this.image,o,s,l,u,d,h);return new Vi(p,[o,s,l,u])}static shiftPoint(n,r,o){let s=(r.getX()-n.getX())/(o+1),l=(r.getY()-n.getY())/(o+1);return new xe(n.getX()+s,n.getY()+l)}static moveAway(n,r,o){let s=n.getX(),l=n.getY();return s<r?s-=1:s+=1,l<o?l-=1:l+=1,new xe(s,l)}detectSolid1(n){let r=n[0],o=n[1],s=n[3],l=n[2],u=this.transitionsBetween(r,o),d=this.transitionsBetween(o,s),h=this.transitionsBetween(s,l),p=this.transitionsBetween(l,r),y=u,C=[l,r,o,s];return y>d&&(y=d,C[0]=r,C[1]=o,C[2]=s,C[3]=l),y>h&&(y=h,C[0]=o,C[1]=s,C[2]=l,C[3]=r),y>p&&(C[0]=s,C[1]=l,C[2]=r,C[3]=o),C}detectSolid2(n){let r=n[0],o=n[1],s=n[2],l=n[3],u=this.transitionsBetween(r,l),d=At.shiftPoint(o,s,(u+1)*4),h=At.shiftPoint(s,o,(u+1)*4),p=this.transitionsBetween(d,r),y=this.transitionsBetween(h,l);return p<y?(n[0]=r,n[1]=o,n[2]=s,n[3]=l):(n[0]=o,n[1]=s,n[2]=l,n[3]=r),n}correctTopRight(n){let r=n[0],o=n[1],s=n[2],l=n[3],u=this.transitionsBetween(r,l),d=this.transitionsBetween(o,l),h=At.shiftPoint(r,o,(d+1)*4),p=At.shiftPoint(s,o,(u+1)*4);u=this.transitionsBetween(h,l),d=this.transitionsBetween(p,l);let y=new xe(l.getX()+(s.getX()-o.getX())/(u+1),l.getY()+(s.getY()-o.getY())/(u+1)),C=new xe(l.getX()+(r.getX()-o.getX())/(d+1),l.getY()+(r.getY()-o.getY())/(d+1));if(!this.isValid(y))return this.isValid(C)?C:null;if(!this.isValid(C))return y;let S=this.transitionsBetween(h,y)+this.transitionsBetween(p,y),T=this.transitionsBetween(h,C)+this.transitionsBetween(p,C);return S>T?y:C}shiftToModuleCenter(n){let r=n[0],o=n[1],s=n[2],l=n[3],u=this.transitionsBetween(r,l)+1,d=this.transitionsBetween(s,l)+1,h=At.shiftPoint(r,o,d*4),p=At.shiftPoint(s,o,u*4);u=this.transitionsBetween(h,l)+1,d=this.transitionsBetween(p,l)+1,(u&1)===1&&(u+=1),(d&1)===1&&(d+=1);let y=(r.getX()+o.getX()+s.getX()+l.getX())/4,C=(r.getY()+o.getY()+s.getY()+l.getY())/4;r=At.moveAway(r,y,C),o=At.moveAway(o,y,C),s=At.moveAway(s,y,C),l=At.moveAway(l,y,C);let S,T;return h=At.shiftPoint(r,o,d*4),h=At.shiftPoint(h,l,u*4),S=At.shiftPoint(o,r,d*4),S=At.shiftPoint(S,s,u*4),p=At.shiftPoint(s,l,d*4),p=At.shiftPoint(p,o,u*4),T=At.shiftPoint(l,s,d*4),T=At.shiftPoint(T,r,u*4),[h,S,p,T]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,r,o,s,l,u,d){return Jn.getInstance().sampleGrid(n,u,d,.5,.5,u-.5,.5,u-.5,d-.5,.5,d-.5,r.getX(),r.getY(),l.getX(),l.getY(),s.getX(),s.getY(),o.getX(),o.getY())}transitionsBetween(n,r){let o=Math.trunc(n.getX()),s=Math.trunc(n.getY()),l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),d=Math.abs(u-s)>Math.abs(l-o);if(d){let k=o;o=s,s=k,k=l,l=u,u=k}let h=Math.abs(l-o),p=Math.abs(u-s),y=-h/2,C=s<u?1:-1,S=o<l?1:-1,T=0,b=this.image.get(d?s:o,d?o:s);for(let k=o,z=s;k!==l;k+=S){let Y=this.image.get(d?z:k,d?k:z);if(Y!==b&&(T++,b=Y),y+=p,y>0){if(z===u)break;z+=C,y-=h}}return T}}class Hr{constructor(){this.decoder=new Ys}decode(n,r=null){let o,s;if(r!=null&&r.has(J.PURE_BARCODE)){const p=Hr.extractPureBits(n.getBlackMatrix());o=this.decoder.decode(p),s=Hr.NO_POINTS}else{const p=new At(n.getBlackMatrix()).detect();o=this.decoder.decode(p.getBits()),s=p.getPoints()}const l=o.getRawBytes(),u=new $e(o.getText(),l,8*l.length,s,he.DATA_MATRIX,B.currentTimeMillis()),d=o.getByteSegments();d!=null&&u.putMetadata(ft.BYTE_SEGMENTS,d);const h=o.getECLevel();return h!=null&&u.putMetadata(ft.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(r==null||o==null)throw new X;const s=this.moduleSize(r,n);let l=r[1];const u=o[1];let d=r[0];const p=(o[0]-d+1)/s,y=(u-l+1)/s;if(p<=0||y<=0)throw new X;const C=s/2;l+=C,d+=C;const S=new Le(p,y);for(let T=0;T<y;T++){const b=l+T*s;for(let k=0;k<p;k++)n.get(d+k*s,b)&&S.set(k,T)}return S}static moduleSize(n,r){const o=r.getWidth();let s=n[0];const l=n[1];for(;s<o&&r.get(s,l);)s++;if(s===o)throw new X;const u=s-n[0];if(u===0)throw new X;return u}}Hr.NO_POINTS=[];class rg extends _t{constructor(n=500){super(new Hr,n)}}var Yi;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(Yi||(Yi={}));class ht{constructor(n,r,o){this.value=n,this.stringValue=r,this.bits=o,ht.FOR_BITS.set(o,this),ht.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return ht.L;case"M":return ht.M;case"Q":return ht.Q;case"H":return ht.H;default:throw new v(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof ht))return!1;const r=n;return this.value===r.value}static forBits(n){if(n<0||n>=ht.FOR_BITS.size)throw new A;return ht.FOR_BITS.get(n)}}ht.FOR_BITS=new Map,ht.FOR_VALUE=new Map,ht.L=new ht(Yi.L,"L",1),ht.M=new ht(Yi.M,"M",0),ht.Q=new ht(Yi.Q,"Q",3),ht.H=new ht(Yi.H,"H",2);class an{constructor(n){this.errorCorrectionLevel=ht.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,r){return M.bitCount(n^r)}static decodeFormatInformation(n,r){const o=an.doDecodeFormatInformation(n,r);return o!==null?o:an.doDecodeFormatInformation(n^an.FORMAT_INFO_MASK_QR,r^an.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,r){let o=Number.MAX_SAFE_INTEGER,s=0;for(const l of an.FORMAT_INFO_DECODE_LOOKUP){const u=l[0];if(u===n||u===r)return new an(l[1]);let d=an.numBitsDiffering(n,u);d<o&&(s=l[1],o=d),n!==r&&(d=an.numBitsDiffering(r,u),d<o&&(s=l[1],o=d))}return o<=3?new an(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof an))return!1;const r=n;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}an.FORMAT_INFO_MASK_QR=21522,an.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class j{constructor(n,...r){this.ecCodewordsPerBlock=n,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const r=this.ecBlocks;for(const o of r)n+=o.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class I{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ye{constructor(n,r,...o){this.versionNumber=n,this.alignmentPatternCenters=r,this.ecBlocks=o;let s=0;const l=o[0].getECCodewordsPerBlock(),u=o[0].getECBlocks();for(const d of u)s+=d.getCount()*(d.getDataCodewords()+l);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new V;try{return this.getVersionForNumber((n-17)/4)}catch{throw new V}}static getVersionForNumber(n){if(n<1||n>40)throw new A;return ye.VERSIONS[n-1]}static decodeVersionInformation(n){let r=Number.MAX_SAFE_INTEGER,o=0;for(let s=0;s<ye.VERSION_DECODE_INFO.length;s++){const l=ye.VERSION_DECODE_INFO[s];if(l===n)return ye.getVersionForNumber(s+7);const u=an.numBitsDiffering(n,l);u<r&&(o=s+7,r=u)}return r<=3?ye.getVersionForNumber(o):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),r=new Le(n);r.setRegion(0,0,9,9),r.setRegion(n-8,0,8,9),r.setRegion(0,n-8,9,8);const o=this.alignmentPatternCenters.length;for(let s=0;s<o;s++){const l=this.alignmentPatternCenters[s]-2;for(let u=0;u<o;u++)s===0&&(u===0||u===o-1)||s===o-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return r.setRegion(6,9,1,n-17),r.setRegion(9,6,n-17,1),this.versionNumber>6&&(r.setRegion(n-11,0,3,6),r.setRegion(0,n-11,6,3)),r}toString(){return""+this.versionNumber}}ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ye.VERSIONS=[new ye(1,new Int32Array(0),new j(7,new I(1,19)),new j(10,new I(1,16)),new j(13,new I(1,13)),new j(17,new I(1,9))),new ye(2,Int32Array.from([6,18]),new j(10,new I(1,34)),new j(16,new I(1,28)),new j(22,new I(1,22)),new j(28,new I(1,16))),new ye(3,Int32Array.from([6,22]),new j(15,new I(1,55)),new j(26,new I(1,44)),new j(18,new I(2,17)),new j(22,new I(2,13))),new ye(4,Int32Array.from([6,26]),new j(20,new I(1,80)),new j(18,new I(2,32)),new j(26,new I(2,24)),new j(16,new I(4,9))),new ye(5,Int32Array.from([6,30]),new j(26,new I(1,108)),new j(24,new I(2,43)),new j(18,new I(2,15),new I(2,16)),new j(22,new I(2,11),new I(2,12))),new ye(6,Int32Array.from([6,34]),new j(18,new I(2,68)),new j(16,new I(4,27)),new j(24,new I(4,19)),new j(28,new I(4,15))),new ye(7,Int32Array.from([6,22,38]),new j(20,new I(2,78)),new j(18,new I(4,31)),new j(18,new I(2,14),new I(4,15)),new j(26,new I(4,13),new I(1,14))),new ye(8,Int32Array.from([6,24,42]),new j(24,new I(2,97)),new j(22,new I(2,38),new I(2,39)),new j(22,new I(4,18),new I(2,19)),new j(26,new I(4,14),new I(2,15))),new ye(9,Int32Array.from([6,26,46]),new j(30,new I(2,116)),new j(22,new I(3,36),new I(2,37)),new j(20,new I(4,16),new I(4,17)),new j(24,new I(4,12),new I(4,13))),new ye(10,Int32Array.from([6,28,50]),new j(18,new I(2,68),new I(2,69)),new j(26,new I(4,43),new I(1,44)),new j(24,new I(6,19),new I(2,20)),new j(28,new I(6,15),new I(2,16))),new ye(11,Int32Array.from([6,30,54]),new j(20,new I(4,81)),new j(30,new I(1,50),new I(4,51)),new j(28,new I(4,22),new I(4,23)),new j(24,new I(3,12),new I(8,13))),new ye(12,Int32Array.from([6,32,58]),new j(24,new I(2,92),new I(2,93)),new j(22,new I(6,36),new I(2,37)),new j(26,new I(4,20),new I(6,21)),new j(28,new I(7,14),new I(4,15))),new ye(13,Int32Array.from([6,34,62]),new j(26,new I(4,107)),new j(22,new I(8,37),new I(1,38)),new j(24,new I(8,20),new I(4,21)),new j(22,new I(12,11),new I(4,12))),new ye(14,Int32Array.from([6,26,46,66]),new j(30,new I(3,115),new I(1,116)),new j(24,new I(4,40),new I(5,41)),new j(20,new I(11,16),new I(5,17)),new j(24,new I(11,12),new I(5,13))),new ye(15,Int32Array.from([6,26,48,70]),new j(22,new I(5,87),new I(1,88)),new j(24,new I(5,41),new I(5,42)),new j(30,new I(5,24),new I(7,25)),new j(24,new I(11,12),new I(7,13))),new ye(16,Int32Array.from([6,26,50,74]),new j(24,new I(5,98),new I(1,99)),new j(28,new I(7,45),new I(3,46)),new j(24,new I(15,19),new I(2,20)),new j(30,new I(3,15),new I(13,16))),new ye(17,Int32Array.from([6,30,54,78]),new j(28,new I(1,107),new I(5,108)),new j(28,new I(10,46),new I(1,47)),new j(28,new I(1,22),new I(15,23)),new j(28,new I(2,14),new I(17,15))),new ye(18,Int32Array.from([6,30,56,82]),new j(30,new I(5,120),new I(1,121)),new j(26,new I(9,43),new I(4,44)),new j(28,new I(17,22),new I(1,23)),new j(28,new I(2,14),new I(19,15))),new ye(19,Int32Array.from([6,30,58,86]),new j(28,new I(3,113),new I(4,114)),new j(26,new I(3,44),new I(11,45)),new j(26,new I(17,21),new I(4,22)),new j(26,new I(9,13),new I(16,14))),new ye(20,Int32Array.from([6,34,62,90]),new j(28,new I(3,107),new I(5,108)),new j(26,new I(3,41),new I(13,42)),new j(30,new I(15,24),new I(5,25)),new j(28,new I(15,15),new I(10,16))),new ye(21,Int32Array.from([6,28,50,72,94]),new j(28,new I(4,116),new I(4,117)),new j(26,new I(17,42)),new j(28,new I(17,22),new I(6,23)),new j(30,new I(19,16),new I(6,17))),new ye(22,Int32Array.from([6,26,50,74,98]),new j(28,new I(2,111),new I(7,112)),new j(28,new I(17,46)),new j(30,new I(7,24),new I(16,25)),new j(24,new I(34,13))),new ye(23,Int32Array.from([6,30,54,78,102]),new j(30,new I(4,121),new I(5,122)),new j(28,new I(4,47),new I(14,48)),new j(30,new I(11,24),new I(14,25)),new j(30,new I(16,15),new I(14,16))),new ye(24,Int32Array.from([6,28,54,80,106]),new j(30,new I(6,117),new I(4,118)),new j(28,new I(6,45),new I(14,46)),new j(30,new I(11,24),new I(16,25)),new j(30,new I(30,16),new I(2,17))),new ye(25,Int32Array.from([6,32,58,84,110]),new j(26,new I(8,106),new I(4,107)),new j(28,new I(8,47),new I(13,48)),new j(30,new I(7,24),new I(22,25)),new j(30,new I(22,15),new I(13,16))),new ye(26,Int32Array.from([6,30,58,86,114]),new j(28,new I(10,114),new I(2,115)),new j(28,new I(19,46),new I(4,47)),new j(28,new I(28,22),new I(6,23)),new j(30,new I(33,16),new I(4,17))),new ye(27,Int32Array.from([6,34,62,90,118]),new j(30,new I(8,122),new I(4,123)),new j(28,new I(22,45),new I(3,46)),new j(30,new I(8,23),new I(26,24)),new j(30,new I(12,15),new I(28,16))),new ye(28,Int32Array.from([6,26,50,74,98,122]),new j(30,new I(3,117),new I(10,118)),new j(28,new I(3,45),new I(23,46)),new j(30,new I(4,24),new I(31,25)),new j(30,new I(11,15),new I(31,16))),new ye(29,Int32Array.from([6,30,54,78,102,126]),new j(30,new I(7,116),new I(7,117)),new j(28,new I(21,45),new I(7,46)),new j(30,new I(1,23),new I(37,24)),new j(30,new I(19,15),new I(26,16))),new ye(30,Int32Array.from([6,26,52,78,104,130]),new j(30,new I(5,115),new I(10,116)),new j(28,new I(19,47),new I(10,48)),new j(30,new I(15,24),new I(25,25)),new j(30,new I(23,15),new I(25,16))),new ye(31,Int32Array.from([6,30,56,82,108,134]),new j(30,new I(13,115),new I(3,116)),new j(28,new I(2,46),new I(29,47)),new j(30,new I(42,24),new I(1,25)),new j(30,new I(23,15),new I(28,16))),new ye(32,Int32Array.from([6,34,60,86,112,138]),new j(30,new I(17,115)),new j(28,new I(10,46),new I(23,47)),new j(30,new I(10,24),new I(35,25)),new j(30,new I(19,15),new I(35,16))),new ye(33,Int32Array.from([6,30,58,86,114,142]),new j(30,new I(17,115),new I(1,116)),new j(28,new I(14,46),new I(21,47)),new j(30,new I(29,24),new I(19,25)),new j(30,new I(11,15),new I(46,16))),new ye(34,Int32Array.from([6,34,62,90,118,146]),new j(30,new I(13,115),new I(6,116)),new j(28,new I(14,46),new I(23,47)),new j(30,new I(44,24),new I(7,25)),new j(30,new I(59,16),new I(1,17))),new ye(35,Int32Array.from([6,30,54,78,102,126,150]),new j(30,new I(12,121),new I(7,122)),new j(28,new I(12,47),new I(26,48)),new j(30,new I(39,24),new I(14,25)),new j(30,new I(22,15),new I(41,16))),new ye(36,Int32Array.from([6,24,50,76,102,128,154]),new j(30,new I(6,121),new I(14,122)),new j(28,new I(6,47),new I(34,48)),new j(30,new I(46,24),new I(10,25)),new j(30,new I(2,15),new I(64,16))),new ye(37,Int32Array.from([6,28,54,80,106,132,158]),new j(30,new I(17,122),new I(4,123)),new j(28,new I(29,46),new I(14,47)),new j(30,new I(49,24),new I(10,25)),new j(30,new I(24,15),new I(46,16))),new ye(38,Int32Array.from([6,32,58,84,110,136,162]),new j(30,new I(4,122),new I(18,123)),new j(28,new I(13,46),new I(32,47)),new j(30,new I(48,24),new I(14,25)),new j(30,new I(42,15),new I(32,16))),new ye(39,Int32Array.from([6,26,54,82,110,138,166]),new j(30,new I(20,117),new I(4,118)),new j(28,new I(40,47),new I(7,48)),new j(30,new I(43,24),new I(22,25)),new j(30,new I(10,15),new I(67,16))),new ye(40,Int32Array.from([6,30,58,86,114,142,170]),new j(30,new I(19,118),new I(6,119)),new j(28,new I(18,47),new I(31,48)),new j(30,new I(34,24),new I(34,25)),new j(30,new I(20,15),new I(61,16)))];var Wt;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})(Wt||(Wt={}));class Hn{constructor(n,r){this.value=n,this.isMasked=r}unmaskBitMatrix(n,r){for(let o=0;o<r;o++)for(let s=0;s<r;s++)this.isMasked(o,s)&&n.flip(s,o)}}Hn.values=new Map([[Wt.DATA_MASK_000,new Hn(Wt.DATA_MASK_000,(E,n)=>(E+n&1)===0)],[Wt.DATA_MASK_001,new Hn(Wt.DATA_MASK_001,(E,n)=>(E&1)===0)],[Wt.DATA_MASK_010,new Hn(Wt.DATA_MASK_010,(E,n)=>n%3===0)],[Wt.DATA_MASK_011,new Hn(Wt.DATA_MASK_011,(E,n)=>(E+n)%3===0)],[Wt.DATA_MASK_100,new Hn(Wt.DATA_MASK_100,(E,n)=>(Math.floor(E/2)+Math.floor(n/3)&1)===0)],[Wt.DATA_MASK_101,new Hn(Wt.DATA_MASK_101,(E,n)=>E*n%6===0)],[Wt.DATA_MASK_110,new Hn(Wt.DATA_MASK_110,(E,n)=>E*n%6<3)],[Wt.DATA_MASK_111,new Hn(Wt.DATA_MASK_111,(E,n)=>(E+n+E*n%3&1)===0)]]);class ig{constructor(n){const r=n.getHeight();if(r<21||(r&3)!==1)throw new V;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let l=0;l<6;l++)n=this.copyBit(l,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let l=5;l>=0;l--)n=this.copyBit(8,l,n);const r=this.bitMatrix.getHeight();let o=0;const s=r-7;for(let l=r-1;l>=s;l--)o=this.copyBit(8,l,o);for(let l=r-8;l<r;l++)o=this.copyBit(l,8,o);if(this.parsedFormatInfo=an.decodeFormatInformation(n,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),r=Math.floor((n-17)/4);if(r<=6)return ye.getVersionForNumber(r);let o=0;const s=n-11;for(let u=5;u>=0;u--)for(let d=n-9;d>=s;d--)o=this.copyBit(d,u,o);let l=ye.decodeVersionInformation(o);if(l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;o=0;for(let u=5;u>=0;u--)for(let d=n-9;d>=s;d--)o=this.copyBit(u,d,o);if(l=ye.decodeVersionInformation(o),l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;throw new V}copyBit(n,r,o){return(this.isMirror?this.bitMatrix.get(r,n):this.bitMatrix.get(n,r))?o<<1|1:o<<1}readCodewords(){const n=this.readFormatInformation(),r=this.readVersion(),o=Hn.values.get(n.getDataMask()),s=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,s);const l=r.buildFunctionPattern();let u=!0;const d=new Uint8Array(r.getTotalCodewords());let h=0,p=0,y=0;for(let C=s-1;C>0;C-=2){C===6&&C--;for(let S=0;S<s;S++){const T=u?s-1-S:S;for(let b=0;b<2;b++)l.get(C-b,T)||(y++,p<<=1,this.bitMatrix.get(C-b,T)&&(p|=1),y===8&&(d[h++]=p,y=0,p=0))}u=!u}if(h!==r.getTotalCodewords())throw new V;return d}remask(){if(this.parsedFormatInfo===null)return;const n=Hn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let r=0,o=n.getWidth();r<o;r++)for(let s=r+1,l=n.getHeight();s<l;s++)n.get(r,s)!==n.get(s,r)&&(n.flip(s,r),n.flip(r,s))}}class vl{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r,o){if(n.length!==r.getTotalCodewords())throw new A;const s=r.getECBlocksForLevel(o);let l=0;const u=s.getECBlocks();for(const b of u)l+=b.getCount();const d=new Array(l);let h=0;for(const b of u)for(let k=0;k<b.getCount();k++){const z=b.getDataCodewords(),Y=s.getECCodewordsPerBlock()+z;d[h++]=new vl(z,new Uint8Array(Y))}const p=d[0].codewords.length;let y=d.length-1;for(;y>=0&&d[y].codewords.length!==p;)y--;y++;const C=p-s.getECCodewordsPerBlock();let S=0;for(let b=0;b<C;b++)for(let k=0;k<h;k++)d[k].codewords[b]=n[S++];for(let b=y;b<h;b++)d[b].codewords[C]=n[S++];const T=d[0].codewords.length;for(let b=C;b<T;b++)for(let k=0;k<h;k++){const z=k<y?b:b+1;d[k].codewords[z]=n[S++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Vn;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(Vn||(Vn={}));class Ae{constructor(n,r,o,s){this.value=n,this.stringValue=r,this.characterCountBitsForVersions=o,this.bits=s,Ae.FOR_BITS.set(s,this),Ae.FOR_VALUE.set(n,this)}static forBits(n){const r=Ae.FOR_BITS.get(n);if(r===void 0)throw new A;return r}getCharacterCountBits(n){const r=n.getVersionNumber();let o;return r<=9?o=0:r<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof Ae))return!1;const r=n;return this.value===r.value}toString(){return this.stringValue}}Ae.FOR_BITS=new Map,Ae.FOR_VALUE=new Map,Ae.TERMINATOR=new Ae(Vn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ae.NUMERIC=new Ae(Vn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ae.ALPHANUMERIC=new Ae(Vn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ae.STRUCTURED_APPEND=new Ae(Vn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ae.BYTE=new Ae(Vn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ae.ECI=new Ae(Vn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ae.KANJI=new Ae(Vn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ae.FNC1_FIRST_POSITION=new Ae(Vn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ae.FNC1_SECOND_POSITION=new Ae(Vn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ae.HANZI=new Ae(Vn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class vt{static decode(n,r,o,s){const l=new Kt(n);let u=new Ie;const d=new Array;let h=-1,p=-1;try{let y=null,C=!1,S;do{if(l.available()<4)S=Ae.TERMINATOR;else{const T=l.readBits(4);S=Ae.forBits(T)}switch(S){case Ae.TERMINATOR:break;case Ae.FNC1_FIRST_POSITION:case Ae.FNC1_SECOND_POSITION:C=!0;break;case Ae.STRUCTURED_APPEND:if(l.available()<16)throw new V;h=l.readBits(8),p=l.readBits(8);break;case Ae.ECI:const T=vt.parseECIValue(l);if(y=G.getCharacterSetECIByValue(T),y===null)throw new V;break;case Ae.HANZI:const b=l.readBits(4),k=l.readBits(S.getCharacterCountBits(r));b===vt.GB2312_SUBSET&&vt.decodeHanziSegment(l,u,k);break;default:const z=l.readBits(S.getCharacterCountBits(r));switch(S){case Ae.NUMERIC:vt.decodeNumericSegment(l,u,z);break;case Ae.ALPHANUMERIC:vt.decodeAlphanumericSegment(l,u,z,C);break;case Ae.BYTE:vt.decodeByteSegment(l,u,z,y,d,s);break;case Ae.KANJI:vt.decodeKanjiSegment(l,u,z);break;default:throw new V}break}}while(S!==Ae.TERMINATOR)}catch{throw new V}return new mi(n,u.toString(),d.length===0?null:d,o===null?null:o.toString(),h,p)}static decodeHanziSegment(n,r,o){if(o*13>n.available())throw new V;const s=new Uint8Array(2*o);let l=0;for(;o>0;){const u=n.readBits(13);let d=u/96<<8&4294967295|u%96;d<959?d+=41377:d+=42657,s[l]=d>>8&255,s[l+1]=d&255,l+=2,o--}try{r.append(we.decode(s,ce.GB2312))}catch(u){throw new V(u)}}static decodeKanjiSegment(n,r,o){if(o*13>n.available())throw new V;const s=new Uint8Array(2*o);let l=0;for(;o>0;){const u=n.readBits(13);let d=u/192<<8&4294967295|u%192;d<7936?d+=33088:d+=49472,s[l]=d>>8,s[l+1]=d,l+=2,o--}try{r.append(we.decode(s,ce.SHIFT_JIS))}catch(u){throw new V(u)}}static decodeByteSegment(n,r,o,s,l,u){if(8*o>n.available())throw new V;const d=new Uint8Array(o);for(let p=0;p<o;p++)d[p]=n.readBits(8);let h;s===null?h=ce.guessEncoding(d,u):h=s.getName();try{r.append(we.decode(d,h))}catch(p){throw new V(p)}l.push(d)}static toAlphaNumericChar(n){if(n>=vt.ALPHANUMERIC_CHARS.length)throw new V;return vt.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,r,o,s){const l=r.length();for(;o>1;){if(n.available()<11)throw new V;const u=n.readBits(11);r.append(vt.toAlphaNumericChar(Math.floor(u/45))),r.append(vt.toAlphaNumericChar(u%45)),o-=2}if(o===1){if(n.available()<6)throw new V;r.append(vt.toAlphaNumericChar(n.readBits(6)))}if(s)for(let u=l;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))}static decodeNumericSegment(n,r,o){for(;o>=3;){if(n.available()<10)throw new V;const s=n.readBits(10);if(s>=1e3)throw new V;r.append(vt.toAlphaNumericChar(Math.floor(s/100))),r.append(vt.toAlphaNumericChar(Math.floor(s/10)%10)),r.append(vt.toAlphaNumericChar(s%10)),o-=3}if(o===2){if(n.available()<7)throw new V;const s=n.readBits(7);if(s>=100)throw new V;r.append(vt.toAlphaNumericChar(Math.floor(s/10))),r.append(vt.toAlphaNumericChar(s%10))}else if(o===1){if(n.available()<4)throw new V;const s=n.readBits(4);if(s>=10)throw new V;r.append(vt.toAlphaNumericChar(s))}}static parseECIValue(n){const r=n.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const o=n.readBits(8);return(r&63)<<8&4294967295|o}if((r&224)===192){const o=n.readBits(16);return(r&31)<<16&4294967295|o}throw new V}}vt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",vt.GB2312_SUBSET=1;class d1{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const r=n[0];n[0]=n[2],n[2]=r}}class og{constructor(){this.rsDecoder=new Br(Ze.QR_CODE_FIELD_256)}decodeBooleanArray(n,r){return this.decodeBitMatrix(Le.parseFromBooleanArray(n),r)}decodeBitMatrix(n,r){const o=new ig(n);let s=null;try{return this.decodeBitMatrixParser(o,r)}catch(l){s=l}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const l=this.decodeBitMatrixParser(o,r);return l.setOther(new d1(!0)),l}catch(l){throw s!==null?s:l}}decodeBitMatrixParser(n,r){const o=n.readVersion(),s=n.readFormatInformation().getErrorCorrectionLevel(),l=n.readCodewords(),u=vl.getDataBlocks(l,o,s);let d=0;for(const y of u)d+=y.getNumDataCodewords();const h=new Uint8Array(d);let p=0;for(const y of u){const C=y.getCodewords(),S=y.getNumDataCodewords();this.correctErrors(C,S);for(let T=0;T<S;T++)h[p++]=C[T]}return vt.decode(h,o,s,r)}correctErrors(n,r){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-r)}catch{throw new U}for(let s=0;s<r;s++)n[s]=o[s]}}class Sl extends xe{constructor(n,r,o){super(n,r),this.estimatedModuleSize=o}aboutEquals(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){const s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(n,r,o){const s=(this.getX()+r)/2,l=(this.getY()+n)/2,u=(this.estimatedModuleSize+o)/2;return new Sl(s,l,u)}}class Xs{constructor(n,r,o,s,l,u,d){this.image=n,this.startX=r,this.startY=o,this.width=s,this.height=l,this.moduleSize=u,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,r=this.height,o=this.width,s=n+o,l=this.startY+r/2,u=new Int32Array(3),d=this.image;for(let h=0;h<r;h++){const p=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let y=n;for(;y<s&&!d.get(y,p);)y++;let C=0;for(;y<s;){if(d.get(y,p))if(C===1)u[1]++;else if(C===2){if(this.foundPatternCross(u)){const S=this.handlePossibleCenter(u,p,y);if(S!==null)return S}u[0]=u[2],u[1]=1,u[2]=0,C=1}else u[++C]++;else C===1&&C++,u[C]++;y++}if(this.foundPatternCross(u)){const S=this.handlePossibleCenter(u,p,s);if(S!==null)return S}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(n,r){return r-n[2]-n[1]/2}foundPatternCross(n){const r=this.moduleSize,o=r/2;for(let s=0;s<3;s++)if(Math.abs(r-n[s])>=o)return!1;return!0}crossCheckVertical(n,r,o,s){const l=this.image,u=l.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=n;for(;h>=0&&l.get(r,h)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&!l.get(r,h)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<u&&l.get(r,h)&&d[1]<=o;)d[1]++,h++;if(h===u||d[1]>o)return NaN;for(;h<u&&!l.get(r,h)&&d[2]<=o;)d[2]++,h++;if(d[2]>o)return NaN;const p=d[0]+d[1]+d[2];return 5*Math.abs(p-s)>=2*s?NaN:this.foundPatternCross(d)?Xs.centerFromEnd(d,h):NaN}handlePossibleCenter(n,r,o){const s=n[0]+n[1]+n[2],l=Xs.centerFromEnd(n,o),u=this.crossCheckVertical(r,l,2*n[1],s);if(!isNaN(u)){const d=(n[0]+n[1]+n[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(d,u,l))return p.combineEstimate(u,l,d);const h=new Sl(l,u,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Il extends xe{constructor(n,r,o,s){super(n,r),this.estimatedModuleSize=o,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){const s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(n,r,o){const s=this.count+1,l=(this.count*this.getX()+r)/s,u=(this.count*this.getY()+n)/s,d=(this.count*this.estimatedModuleSize+o)/s;return new Il(l,u,d,s)}}class sg{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Gt{constructor(n,r){this.image=n,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const r=n!=null&&n.get(J.TRY_HARDER)!==void 0,o=n!=null&&n.get(J.PURE_BARCODE)!==void 0,s=this.image,l=s.getHeight(),u=s.getWidth();let d=Math.floor(3*l/(4*Gt.MAX_MODULES));(d<Gt.MIN_SKIP||r)&&(d=Gt.MIN_SKIP);let h=!1;const p=new Int32Array(5);for(let C=d-1;C<l&&!h;C+=d){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let S=0;for(let T=0;T<u;T++)if(s.get(T,C))(S&1)===1&&S++,p[S]++;else if(S&1)p[S]++;else if(S===4)if(Gt.foundPatternCross(p)){if(this.handlePossibleCenter(p,C,T,o)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const k=this.findRowSkip();k>p[2]&&(C+=k-p[2]-d,T=u-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,S=3;continue}S=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,S=3;else p[++S]++;Gt.foundPatternCross(p)&&this.handlePossibleCenter(p,C,u,o)===!0&&(d=p[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return xe.orderBestPatterns(y),new sg(y)}static centerFromEnd(n,r){return r-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let r=0;for(let l=0;l<5;l++){const u=n[l];if(u===0)return!1;r+=u}if(r<7)return!1;const o=r/7,s=o/2;return Math.abs(o-n[0])<s&&Math.abs(o-n[1])<s&&Math.abs(3*o-n[2])<3*s&&Math.abs(o-n[3])<s&&Math.abs(o-n[4])<s}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,r,o,s){const l=this.getCrossCheckStateCount();let u=0;const d=this.image;for(;n>=u&&r>=u&&d.get(r-u,n-u);)l[2]++,u++;if(n<u||r<u)return!1;for(;n>=u&&r>=u&&!d.get(r-u,n-u)&&l[1]<=o;)l[1]++,u++;if(n<u||r<u||l[1]>o)return!1;for(;n>=u&&r>=u&&d.get(r-u,n-u)&&l[0]<=o;)l[0]++,u++;if(l[0]>o)return!1;const h=d.getHeight(),p=d.getWidth();for(u=1;n+u<h&&r+u<p&&d.get(r+u,n+u);)l[2]++,u++;if(n+u>=h||r+u>=p)return!1;for(;n+u<h&&r+u<p&&!d.get(r+u,n+u)&&l[3]<o;)l[3]++,u++;if(n+u>=h||r+u>=p||l[3]>=o)return!1;for(;n+u<h&&r+u<p&&d.get(r+u,n+u)&&l[4]<o;)l[4]++,u++;if(l[4]>=o)return!1;const y=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(y-s)<2*s&&Gt.foundPatternCross(l)}crossCheckVertical(n,r,o,s){const l=this.image,u=l.getHeight(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&l.get(r,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&l.get(r,h)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<u&&l.get(r,h);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(r,h)&&d[3]<o;)d[3]++,h++;if(h===u||d[3]>=o)return NaN;for(;h<u&&l.get(r,h)&&d[4]<o;)d[4]++,h++;if(d[4]>=o)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-s)>=2*s?NaN:Gt.foundPatternCross(d)?Gt.centerFromEnd(d,h):NaN}crossCheckHorizontal(n,r,o,s){const l=this.image,u=l.getWidth(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&l.get(h,r);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&l.get(h,r)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<u&&l.get(h,r);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(h,r)&&d[3]<o;)d[3]++,h++;if(h===u||d[3]>=o)return NaN;for(;h<u&&l.get(h,r)&&d[4]<o;)d[4]++,h++;if(d[4]>=o)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-s)>=s?NaN:Gt.foundPatternCross(d)?Gt.centerFromEnd(d,h):NaN}handlePossibleCenter(n,r,o,s){const l=n[0]+n[1]+n[2]+n[3]+n[4];let u=Gt.centerFromEnd(n,o),d=this.crossCheckVertical(r,Math.floor(u),n[2],l);if(!isNaN(d)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(d),n[2],l),!isNaN(u)&&(!s||this.crossCheckDiagonal(Math.floor(d),Math.floor(u),n[2],l)))){const h=l/7;let p=!1;const y=this.possibleCenters;for(let C=0,S=y.length;C<S;C++){const T=y[C];if(T.aboutEquals(h,d,u)){y[C]=T.combineEstimate(d,u,h),p=!0;break}}if(!p){const C=new Il(u,d,h);y.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const o of this.possibleCenters)if(o.getCount()>=Gt.CENTER_QUORUM)if(r==null)r=o;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-o.getX())-Math.abs(r.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,r=0;const o=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=Gt.CENTER_QUORUM&&(n++,r+=u.getEstimatedModuleSize());if(n<3)return!1;const s=r/o;let l=0;for(const u of this.possibleCenters)l+=Math.abs(u.getEstimatedModuleSize()-s);return l<=.05*r}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new X;const r=this.possibleCenters;let o;if(n>3){let s=0,l=0;for(const h of this.possibleCenters){const p=h.getEstimatedModuleSize();s+=p,l+=p*p}o=s/n;let u=Math.sqrt(l/n-o*o);r.sort((h,p)=>{const y=Math.abs(p.getEstimatedModuleSize()-o),C=Math.abs(h.getEstimatedModuleSize()-o);return y<C?-1:y>C?1:0});const d=Math.max(.2*o,u);for(let h=0;h<r.length&&r.length>3;h++){const p=r[h];Math.abs(p.getEstimatedModuleSize()-o)>d&&(r.splice(h,1),h--)}}if(r.length>3){let s=0;for(const l of r)s+=l.getEstimatedModuleSize();o=s/r.length,r.sort((l,u)=>{if(u.getCount()===l.getCount()){const d=Math.abs(u.getEstimatedModuleSize()-o),h=Math.abs(l.getEstimatedModuleSize()-o);return d<h?1:d>h?-1:0}else return u.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Gt.CENTER_QUORUM=2,Gt.MIN_SKIP=3,Gt.MAX_MODULES=57;class Bo{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(J.NEED_RESULT_POINT_CALLBACK);const o=new Gt(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(o)}processFinderPatternInfo(n){const r=n.getTopLeft(),o=n.getTopRight(),s=n.getBottomLeft(),l=this.calculateModuleSize(r,o,s);if(l<1)throw new X("No pattern found in proccess finder.");const u=Bo.computeDimension(r,o,s,l),d=ye.getProvisionalVersionForDimension(u),h=d.getDimensionForVersion()-7;let p=null;if(d.getAlignmentPatternCenters().length>0){const T=o.getX()-r.getX()+s.getX(),b=o.getY()-r.getY()+s.getY(),k=1-3/h,z=Math.floor(r.getX()+k*(T-r.getX())),Y=Math.floor(r.getY()+k*(b-r.getY()));for(let ne=4;ne<=16;ne<<=1)try{p=this.findAlignmentInRegion(l,z,Y,ne);break}catch(re){if(!(re instanceof X))throw re}}const y=Bo.createTransform(r,o,s,p,u),C=Bo.sampleGrid(this.image,y,u);let S;return p===null?S=[s,r,o]:S=[s,r,o,p],new Vi(C,S)}static createTransform(n,r,o,s,l){const u=l-3.5;let d,h,p,y;return s!==null?(d=s.getX(),h=s.getY(),p=u-3,y=p):(d=r.getX()-n.getX()+o.getX(),h=r.getY()-n.getY()+o.getY(),p=u,y=u),Qt.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,p,y,3.5,u,n.getX(),n.getY(),r.getX(),r.getY(),d,h,o.getX(),o.getY())}static sampleGrid(n,r,o){return Jn.getInstance().sampleGridWithTransform(n,o,o,r)}static computeDimension(n,r,o,s){const l=Ge.round(xe.distance(n,r)/s),u=Ge.round(xe.distance(n,o)/s);let d=Math.floor((l+u)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new X("Dimensions could be not found.")}return d}calculateModuleSize(n,r,o){return(this.calculateModuleSizeOneWay(n,r)+this.calculateModuleSizeOneWay(n,o))/2}calculateModuleSizeOneWay(n,r){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(r.getX()),Math.floor(r.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(o)?s/7:isNaN(s)?o/7:(o+s)/14}sizeOfBlackWhiteBlackRunBothWays(n,r,o,s){let l=this.sizeOfBlackWhiteBlackRun(n,r,o,s),u=1,d=n-(o-n);d<0?(u=n/(n-d),d=0):d>=this.image.getWidth()&&(u=(this.image.getWidth()-1-n)/(d-n),d=this.image.getWidth()-1);let h=Math.floor(r-(s-r)*u);return u=1,h<0?(u=r/(r-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),d=Math.floor(n+(d-n)*u),l+=this.sizeOfBlackWhiteBlackRun(n,r,d,h),l-1}sizeOfBlackWhiteBlackRun(n,r,o,s){const l=Math.abs(s-r)>Math.abs(o-n);if(l){let T=n;n=r,r=T,T=o,o=s,s=T}const u=Math.abs(o-n),d=Math.abs(s-r);let h=-u/2;const p=n<o?1:-1,y=r<s?1:-1;let C=0;const S=o+p;for(let T=n,b=r;T!==S;T+=p){const k=l?b:T,z=l?T:b;if(C===1===this.image.get(k,z)){if(C===2)return Ge.distance(T,b,n,r);C++}if(h+=d,h>0){if(b===s)break;b+=y,h-=u}}return C===2?Ge.distance(o+p,s,n,r):NaN}findAlignmentInRegion(n,r,o,s){const l=Math.floor(s*n),u=Math.max(0,r-l),d=Math.min(this.image.getWidth()-1,r+l);if(d-u<n*3)throw new X("Alignment top exceeds estimated module size.");const h=Math.max(0,o-l),p=Math.min(this.image.getHeight()-1,o+l);if(p-h<n*3)throw new X("Alignment bottom exceeds estimated module size.");return new Xs(this.image,u,h,d-u,p-h,n,this.resultPointCallback).find()}}class Vr{constructor(){this.decoder=new og}getDecoder(){return this.decoder}decode(n,r){let o,s;if(r!=null&&r.get(J.PURE_BARCODE)!==void 0){const h=Vr.extractPureBits(n.getBlackMatrix());o=this.decoder.decodeBitMatrix(h,r),s=Vr.NO_POINTS}else{const h=new Bo(n.getBlackMatrix()).detect(r);o=this.decoder.decodeBitMatrix(h.getBits(),r),s=h.getPoints()}o.getOther()instanceof d1&&o.getOther().applyMirroredCorrection(s);const l=new $e(o.getText(),o.getRawBytes(),void 0,s,he.QR_CODE,void 0),u=o.getByteSegments();u!==null&&l.putMetadata(ft.BYTE_SEGMENTS,u);const d=o.getECLevel();return d!==null&&l.putMetadata(ft.ERROR_CORRECTION_LEVEL,d),o.hasStructuredAppend()&&(l.putMetadata(ft.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),l.putMetadata(ft.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),l}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(r===null||o===null)throw new X;const s=this.moduleSize(r,n);let l=r[1],u=o[1],d=r[0],h=o[0];if(d>=h||l>=u)throw new X;if(u-l!==h-d&&(h=d+(u-l),h>=n.getWidth()))throw new X;const p=Math.round((h-d+1)/s),y=Math.round((u-l+1)/s);if(p<=0||y<=0)throw new X;if(y!==p)throw new X;const C=Math.floor(s/2);l+=C,d+=C;const S=d+Math.floor((p-1)*s)-h;if(S>0){if(S>C)throw new X;d-=S}const T=l+Math.floor((y-1)*s)-u;if(T>0){if(T>C)throw new X;l-=T}const b=new Le(p,y);for(let k=0;k<y;k++){const z=l+Math.floor(k*s);for(let Y=0;Y<p;Y++)n.get(d+Math.floor(Y*s),z)&&b.set(Y,k)}return b}static moduleSize(n,r){const o=r.getHeight(),s=r.getWidth();let l=n[0],u=n[1],d=!0,h=0;for(;l<s&&u<o;){if(d!==r.get(l,u)){if(++h===5)break;d=!d}l++,u++}if(l===s||u===o)throw new X;return(l-n[0])/7}}Vr.NO_POINTS=new Array;class Ne{PDF417Common(){}static getBitCountSum(n){return Ge.sum(n)}static toIntArray(n){if(n==null||!n.length)return Ne.EMPTY_INT_ARRAY;const r=new Int32Array(n.length);let o=0;for(const s of n)r[o++]=s;return r}static getCodeword(n){const r=N.binarySearch(Ne.SYMBOL_TABLE,n&262143);return r<0?-1:(Ne.CODEWORD_TABLE[r]-1)%Ne.NUMBER_OF_CODEWORDS}}Ne.NUMBER_OF_CODEWORDS=929,Ne.MAX_CODEWORDS_IN_BARCODE=Ne.NUMBER_OF_CODEWORDS-1,Ne.MIN_ROWS_IN_BARCODE=3,Ne.MAX_ROWS_IN_BARCODE=90,Ne.MODULES_IN_CODEWORD=17,Ne.MODULES_IN_STOP_PATTERN=18,Ne.BARS_IN_MODULE=8,Ne.EMPTY_INT_ARRAY=new Int32Array([]),Ne.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ne.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ag{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Fe{static detectMultiple(n,r,o){let s=n.getBlackMatrix(),l=Fe.detect(o,s);return l.length||(s=s.clone(),s.rotate180(),l=Fe.detect(o,s)),new ag(s,l)}static detect(n,r){const o=new Array;let s=0,l=0,u=!1;for(;s<r.getHeight();){const d=Fe.findVertices(r,s,l);if(d[0]==null&&d[3]==null){if(!u)break;u=!1,l=0;for(const h of o)h[1]!=null&&(s=Math.trunc(Math.max(s,h[1].getY()))),h[3]!=null&&(s=Math.max(s,Math.trunc(h[3].getY())));s+=Fe.ROW_STEP;continue}if(u=!0,o.push(d),!n)break;d[2]!=null?(l=Math.trunc(d[2].getX()),s=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),s=Math.trunc(d[4].getY()))}return o}static findVertices(n,r,o){const s=n.getHeight(),l=n.getWidth(),u=new Array(8);return Fe.copyToResult(u,Fe.findRowsWithPattern(n,s,l,r,o,Fe.START_PATTERN),Fe.INDEXES_START_PATTERN),u[4]!=null&&(o=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),Fe.copyToResult(u,Fe.findRowsWithPattern(n,s,l,r,o,Fe.STOP_PATTERN),Fe.INDEXES_STOP_PATTERN),u}static copyToResult(n,r,o){for(let s=0;s<o.length;s++)n[o[s]]=r[s]}static findRowsWithPattern(n,r,o,s,l,u){const d=new Array(4);let h=!1;const p=new Int32Array(u.length);for(;s<r;s+=Fe.ROW_STEP){let C=Fe.findGuardPattern(n,l,s,o,!1,u,p);if(C!=null){for(;s>0;){const S=Fe.findGuardPattern(n,l,--s,o,!1,u,p);if(S!=null)C=S;else{s++;break}}d[0]=new xe(C[0],s),d[1]=new xe(C[1],s),h=!0;break}}let y=s+1;if(h){let C=0,S=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;y<r;y++){const T=Fe.findGuardPattern(n,S[0],y,o,!1,u,p);if(T!=null&&Math.abs(S[0]-T[0])<Fe.MAX_PATTERN_DRIFT&&Math.abs(S[1]-T[1])<Fe.MAX_PATTERN_DRIFT)S=T,C=0;else{if(C>Fe.SKIPPED_ROW_COUNT_MAX)break;C++}}y-=C+1,d[2]=new xe(S[0],y),d[3]=new xe(S[1],y)}return y-s<Fe.BARCODE_MIN_HEIGHT&&N.fill(d,null),d}static findGuardPattern(n,r,o,s,l,u,d){N.fillWithin(d,0,d.length,0);let h=r,p=0;for(;n.get(h,o)&&h>0&&p++<Fe.MAX_PIXEL_DRIFT;)h--;let y=h,C=0,S=u.length;for(let T=l;y<s;y++)if(n.get(y,o)!==T)d[C]++;else{if(C===S-1){if(Fe.patternMatchVariance(d,u,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE)return new Int32Array([h,y]);h+=d[0]+d[1],B.arraycopy(d,2,d,0,C-1),d[C-1]=0,d[C]=0,C--}else C++;d[C]=1,T=!T}return C===S-1&&Fe.patternMatchVariance(d,u,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE?new Int32Array([h,y-1]):null}static patternMatchVariance(n,r,o){let s=n.length,l=0,u=0;for(let p=0;p<s;p++)l+=n[p],u+=r[p];if(l<u)return 1/0;let d=l/u;o*=d;let h=0;for(let p=0;p<s;p++){let y=n[p],C=r[p]*d,S=y>C?y-C:C-y;if(S>o)return 1/0;h+=S}return h/l}}Fe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Fe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Fe.MAX_AVG_VARIANCE=.42,Fe.MAX_INDIVIDUAL_VARIANCE=.8,Fe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Fe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Fe.MAX_PIXEL_DRIFT=3,Fe.MAX_PATTERN_DRIFT=5,Fe.SKIPPED_ROW_COUNT_MAX=25,Fe.ROW_STEP=5,Fe.BARCODE_MIN_HEIGHT=10;class qt{constructor(n,r){if(r.length===0)throw new A;this.field=n;let o=r.length;if(o>1&&r[0]===0){let s=1;for(;s<o&&r[s]===0;)s++;s===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-s),B.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let s=0;for(let l of this.coefficients)s=this.field.add(s,l);return s}let r=this.coefficients[0],o=this.coefficients.length;for(let s=1;s<o;s++)r=this.field.add(this.field.multiply(n,r),this.coefficients[s]);return r}add(n){if(!this.field.equals(n.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,o=n.coefficients;if(r.length>o.length){let u=r;r=o,o=u}let s=new Int32Array(o.length),l=o.length-r.length;B.arraycopy(o,0,s,0,l);for(let u=l;u<o.length;u++)s[u]=this.field.add(r[u-l],o[u]);return new qt(this.field,s)}subtract(n){if(!this.field.equals(n.field))throw new A("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof qt?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new qt(this.field,new Int32Array([0]));let r=this.coefficients,o=r.length,s=n.coefficients,l=s.length,u=new Int32Array(o+l-1);for(let d=0;d<o;d++){let h=r[d];for(let p=0;p<l;p++)u[d+p]=this.field.add(u[d+p],this.field.multiply(h,s[p]))}return new qt(this.field,u)}negative(){let n=this.coefficients.length,r=new Int32Array(n);for(let o=0;o<n;o++)r[o]=this.field.subtract(0,this.coefficients[o]);return new qt(this.field,r)}multiplyScalar(n){if(n===0)return new qt(this.field,new Int32Array([0]));if(n===1)return this;let r=this.coefficients.length,o=new Int32Array(r);for(let s=0;s<r;s++)o[s]=this.field.multiply(this.coefficients[s],n);return new qt(this.field,o)}multiplyByMonomial(n,r){if(n<0)throw new A;if(r===0)return new qt(this.field,new Int32Array([0]));let o=this.coefficients.length,s=new Int32Array(o+n);for(let l=0;l<o;l++)s[l]=this.field.multiply(this.coefficients[l],r);return new qt(this.field,s)}toString(){let n=new Ie;for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);o!==0&&(o<0?(n.append(" - "),o=-o):n.length()>0&&n.append(" + "),(r===0||o!==1)&&n.append(o),r!==0&&(r===1?n.append("x"):(n.append("x^"),n.append(r))))}return n.toString()}}class lg{add(n,r){return(n+r)%this.modulus}subtract(n,r){return(this.modulus+n-r)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new A;return this.logTable[n]}inverse(n){if(n===0)throw new ji;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Tl extends lg{constructor(n,r){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let o=1;for(let s=0;s<n;s++)this.expTable[s]=o,o=o*r%n;for(let s=0;s<n-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new qt(this,new Int32Array([0])),this.one=new qt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new A;if(r===0)return this.zero;let o=new Int32Array(n+1);return o[0]=r,new qt(this,o)}}Tl.PDF417_GF=new Tl(Ne.NUMBER_OF_CODEWORDS,3);class h1{constructor(){this.field=Tl.PDF417_GF}decode(n,r,o){let s=new qt(this.field,n),l=new Int32Array(r),u=!1;for(let b=r;b>0;b--){let k=s.evaluateAt(this.field.exp(b));l[r-b]=k,k!==0&&(u=!0)}if(!u)return 0;let d=this.field.getOne();if(o!=null)for(const b of o){let k=this.field.exp(n.length-1-b),z=new qt(this.field,new Int32Array([this.field.subtract(0,k),1]));d=d.multiply(z)}let h=new qt(this.field,l),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),y=p[0],C=p[1],S=this.findErrorLocations(y),T=this.findErrorMagnitudes(C,y,S);for(let b=0;b<S.length;b++){let k=n.length-1-this.field.log(S[b]);if(k<0)throw U.getChecksumInstance();n[k]=this.field.subtract(n[k],T[b])}return S.length}runEuclideanAlgorithm(n,r,o){if(n.getDegree()<r.getDegree()){let S=n;n=r,r=S}let s=n,l=r,u=this.field.getZero(),d=this.field.getOne();for(;l.getDegree()>=Math.round(o/2);){let S=s,T=u;if(s=l,u=d,s.isZero())throw U.getChecksumInstance();l=S;let b=this.field.getZero(),k=s.getCoefficient(s.getDegree()),z=this.field.inverse(k);for(;l.getDegree()>=s.getDegree()&&!l.isZero();){let Y=l.getDegree()-s.getDegree(),ne=this.field.multiply(l.getCoefficient(l.getDegree()),z);b=b.add(this.field.buildMonomial(Y,ne)),l=l.subtract(s.multiplyByMonomial(Y,ne))}d=b.multiply(u).subtract(T).negative()}let h=d.getCoefficient(0);if(h===0)throw U.getChecksumInstance();let p=this.field.inverse(h),y=d.multiply(p),C=l.multiply(p);return[y,C]}findErrorLocations(n){let r=n.getDegree(),o=new Int32Array(r),s=0;for(let l=1;l<this.field.getSize()&&s<r;l++)n.evaluateAt(l)===0&&(o[s]=this.field.inverse(l),s++);if(s!==r)throw U.getChecksumInstance();return o}findErrorMagnitudes(n,r,o){let s=r.getDegree(),l=new Int32Array(s);for(let p=1;p<=s;p++)l[s-p]=this.field.multiply(p,r.getCoefficient(p));let u=new qt(this.field,l),d=o.length,h=new Int32Array(d);for(let p=0;p<d;p++){let y=this.field.inverse(o[p]),C=this.field.subtract(0,n.evaluateAt(y)),S=this.field.inverse(u.evaluateAt(y));h[p]=this.field.multiply(C,S)}return h}}class Ei{constructor(n,r,o,s,l){n instanceof Ei?this.constructor_2(n):this.constructor_1(n,r,o,s,l)}constructor_1(n,r,o,s,l){const u=r==null||o==null,d=s==null||l==null;if(u&&d)throw new X;u?(r=new xe(0,s.getY()),o=new xe(0,l.getY())):d&&(s=new xe(n.getWidth()-1,r.getY()),l=new xe(n.getWidth()-1,o.getY())),this.image=n,this.topLeft=r,this.bottomLeft=o,this.topRight=s,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),o.getX())),this.maxX=Math.trunc(Math.max(s.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),s.getY())),this.maxY=Math.trunc(Math.max(o.getY(),l.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,r){return n==null?r:r==null?n:new Ei(n.image,n.topLeft,n.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(n,r,o){let s=this.topLeft,l=this.bottomLeft,u=this.topRight,d=this.bottomRight;if(n>0){let h=o?this.topLeft:this.topRight,p=Math.trunc(h.getY()-n);p<0&&(p=0);let y=new xe(h.getX(),p);o?s=y:u=y}if(r>0){let h=o?this.bottomLeft:this.bottomRight,p=Math.trunc(h.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let y=new xe(h.getX(),p);o?l=y:d=y}return new Ei(this.image,s,l,u,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ug{constructor(n,r,o,s){this.columnCount=n,this.errorCorrectionLevel=s,this.rowCountUpperPart=r,this.rowCountLowerPart=o,this.rowCount=r+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Fo{constructor(){this.buffer=""}static form(n,r){let o=-1;function s(u,d,h,p,y,C){if(u==="%%")return"%";if(r[++o]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let S=y?parseInt(y.substr(1)):void 0,T;switch(C){case"s":T=r[o];break;case"c":T=r[o][0];break;case"f":T=parseFloat(r[o]).toFixed(u);break;case"p":T=parseFloat(r[o]).toPrecision(u);break;case"e":T=parseFloat(r[o]).toExponential(u);break;case"x":T=parseInt(r[o]).toString(S||16);break;case"d":T=parseFloat(parseInt(r[o],S||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(S);let b=parseInt(h),k=h&&h[0]+""=="0"?"0":" ";for(;T.length<b;)T=d!==void 0?T+k:k+T;return T}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,s)}format(n,...r){this.buffer+=Fo.form(n,r)}toString(){return this.buffer}}class Uo{constructor(n){this.boundingBox=new Ei(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let r=this.getCodeword(n);if(r!=null)return r;for(let o=1;o<Uo.MAX_NEARBY_DISTANCE;o++){let s=this.imageRowToCodewordIndex(n)-o;if(s>=0&&(r=this.codewords[s],r!=null)||(s=this.imageRowToCodewordIndex(n)+o,s<this.codewords.length&&(r=this.codewords[s],r!=null)))return r}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,r){this.codewords[this.imageRowToCodewordIndex(n)]=r}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Fo;let r=0;for(const o of this.codewords){if(o==null){n.format("%3d:    |   %n",r++);continue}n.format("%3d: %3d|%3d%n",r++,o.getRowNumber(),o.getValue())}return n.toString()}}Uo.MAX_NEARBY_DISTANCE=5;class zo{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let r=this.values.get(n);r==null&&(r=0),r++,this.values.set(n,r)}getValue(){let n=-1,r=new Array;for(const[o,s]of this.values.entries()){const l={getKey:()=>o,getValue:()=>s};l.getValue()>n?(n=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===n&&r.push(l.getKey())}return Ne.toIntArray(r)}getConfidence(n){return this.values.get(n)}}class g1 extends Uo{constructor(n,r){super(n),this._isLeft=r}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);let o=this.getBoundingBox(),s=this._isLeft?o.getTopLeft():o.getTopRight(),l=this._isLeft?o.getBottomLeft():o.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,p=1,y=0;for(let C=u;C<d;C++){if(r[C]==null)continue;let S=r[C],T=S.getRowNumber()-h;if(T===0)y++;else if(T===1)p=Math.max(p,y),y=1,h=S.getRowNumber();else if(T<0||S.getRowNumber()>=n.getRowCount()||T>C)r[C]=null;else{let b;p>2?b=(p-2)*T:b=T;let k=b>=C;for(let z=1;z<=b&&!k;z++)k=r[C-z]!=null;k?r[C]=null:(h=S.getRowNumber(),y=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let r=new Int32Array(n.getRowCount());for(let o of this.getCodewords())if(o!=null){let s=o.getRowNumber();if(s>=r.length)continue;r[s]++}return r}adjustIncompleteIndicatorColumnRowNumbers(n){let r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.getCodewords(),h=-1;for(let p=l;p<u;p++){if(d[p]==null)continue;let y=d[p];y.setRowNumberAsRowIndicatorColumn();let C=y.getRowNumber()-h;C===0||(C===1?h=y.getRowNumber():y.getRowNumber()>=n.getRowCount()?d[p]=null:h=y.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),r=new zo,o=new zo,s=new zo,l=new zo;for(let d of n){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,p=d.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<Ne.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>Ne.MAX_ROWS_IN_BARCODE)return null;let u=new ug(r.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(n,u),u}removeIncorrectCodewords(n,r){for(let o=0;o<n.length;o++){let s=n[o];if(n[o]==null)continue;let l=s.getValue()%30,u=s.getRowNumber();if(u>r.getRowCount()){n[o]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(n[o]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(n[o]=null);break;case 2:l+1!==r.getColumnCount()&&(n[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class jo{constructor(n,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=Ne.MAX_CODEWORDS_IN_BARCODE,r;do r=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let o=this.detectionResultColumns[r].getCodewords();for(let s=0;s<o.length;s++)o[s]!=null&&(o[s].hasValidRowNumber()||this.adjustRowNumbers(r,s,o))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<n.length;o++)if(n[o]!=null&&r[o]!=null&&n[o].getRowNumber()===r[o].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let l=this.detectionResultColumns[s].getCodewords()[o];l!=null&&(l.setRowNumber(n[o].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let s=r[o].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let d=this.detectionResultColumns[u].getCodewords()[o];d!=null&&(l=jo.adjustRowNumberIfValid(s,l,d),d.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,r=this.detectionResultColumns[0].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let s=r[o].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let d=this.detectionResultColumns[u].getCodewords()[o];d!=null&&(l=jo.adjustRowNumberIfValid(s,l,d),d.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,r,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(n)?(o.setRowNumber(n),r=0):++r),r}adjustRowNumbers(n,r,o){if(!this.detectionResultColumns[n-1])return;let s=o[r],l=this.detectionResultColumns[n-1].getCodewords(),u=l;this.detectionResultColumns[n+1]!=null&&(u=this.detectionResultColumns[n+1].getCodewords());let d=new Array(14);d[2]=l[r],d[3]=u[r],r>0&&(d[0]=o[r-1],d[4]=l[r-1],d[5]=u[r-1]),r>1&&(d[8]=o[r-2],d[10]=l[r-2],d[11]=u[r-2]),r<o.length-1&&(d[1]=o[r+1],d[6]=l[r+1],d[7]=u[r+1]),r<o.length-2&&(d[9]=o[r+2],d[12]=l[r+2],d[13]=u[r+2]);for(let h of d)if(jo.adjustRowNumber(s,h))return}static adjustRowNumber(n,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===n.getBucket()?(n.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,r){this.detectionResultColumns[n]=r}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Fo;for(let o=0;o<n.getCodewords().length;o++){r.format("CW %3d:",o);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[s].getCodewords()[o];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class Ho{constructor(n,r,o,s){this.rowNumber=Ho.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(r),this.bucket=Math.trunc(o),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Ho.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Ho.BARCODE_ROW_UNKNOWN=-1;class En{static initialize(){for(let n=0;n<Ne.SYMBOL_TABLE.length;n++){let r=Ne.SYMBOL_TABLE[n],o=r&1;for(let s=0;s<Ne.BARS_IN_MODULE;s++){let l=0;for(;(r&1)===o;)l+=1,r>>=1;o=r&1,En.RATIOS_TABLE[n]||(En.RATIOS_TABLE[n]=new Array(Ne.BARS_IN_MODULE)),En.RATIOS_TABLE[n][Ne.BARS_IN_MODULE-s-1]=Math.fround(l/Ne.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let r=En.getDecodedCodewordValue(En.sampleBitCounts(n));return r!==-1?r:En.getClosestDecodedValue(n)}static sampleBitCounts(n){let r=Ge.sum(n),o=new Int32Array(Ne.BARS_IN_MODULE),s=0,l=0;for(let u=0;u<Ne.MODULES_IN_CODEWORD;u++){let d=r/(2*Ne.MODULES_IN_CODEWORD)+u*r/Ne.MODULES_IN_CODEWORD;l+n[s]<=d&&(l+=n[s],s++),o[s]++}return o}static getDecodedCodewordValue(n){let r=En.getBitValue(n);return Ne.getCodeword(r)===-1?-1:r}static getBitValue(n){let r=0;for(let o=0;o<n.length;o++)for(let s=0;s<n[o];s++)r=r<<1|(o%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(n){let r=Ge.sum(n),o=new Array(Ne.BARS_IN_MODULE);if(r>1)for(let u=0;u<o.length;u++)o[u]=Math.fround(n[u]/r);let s=Hi.MAX_VALUE,l=-1;this.bSymbolTableReady||En.initialize();for(let u=0;u<En.RATIOS_TABLE.length;u++){let d=0,h=En.RATIOS_TABLE[u];for(let p=0;p<Ne.BARS_IN_MODULE;p++){let y=Math.fround(h[p]-o[p]);if(d+=Math.fround(y*y),d>=s)break}d<s&&(s=d,l=Ne.SYMBOL_TABLE[u])}return l}}En.bSymbolTableReady=!1,En.RATIOS_TABLE=new Array(Ne.SYMBOL_TABLE.length).map(E=>new Array(Ne.BARS_IN_MODULE));class p1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class x1{static parseLong(n,r=void 0){return parseInt(n,r)}}class m1 extends x{}m1.kind="NullPointerException";class cg{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,r,o){if(n==null)throw new m1;if(r<0||r>n.length||o<0||r+o>n.length||r+o<0)throw new K;if(o===0)return;for(let s=0;s<o;s++)this.write(n[r+s])}flush(){}close(){}}class fg extends x{}class dg extends cg{constructor(n=32){if(super(),this.count=0,n<0)throw new A("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let o=this.buf.length<<1;if(o-n<0&&(o=n),o<0){if(n<0)throw new fg;o=M.MAX_VALUE}this.buf=N.copyOfUint8Array(this.buf,o)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,r,o){if(r<0||r>n.length||o<0||r+o-n.length>0)throw new K;this.ensureCapacity(this.count+o),B.arraycopy(n,r,this.buf,this.count,o),this.count+=o}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return N.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var at;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(at||(at={}));function w1(){if(typeof window<"u")return window.BigInt||null;if(typeof Go<"u")return Go.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Zs;function Wr(E){if(typeof Zs>"u"&&(Zs=w1()),Zs===null)throw new Error("BigInt is not supported!");return Zs(E)}function hg(){let E=[];E[0]=Wr(1);let n=Wr(900);E[1]=n;for(let r=2;r<16;r++)E[r]=E[r-1]*n;return E}class W{static decode(n,r){let o=new Ie(""),s=G.ISO8859_1;o.enableDecoding(s);let l=1,u=n[l++],d=new p1;for(;l<n[0];){switch(u){case W.TEXT_COMPACTION_MODE_LATCH:l=W.textCompaction(n,l,o);break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:l=W.byteCompaction(u,n,s,l,o);break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[l++]);break;case W.NUMERIC_COMPACTION_MODE_LATCH:l=W.numericCompaction(n,l,o);break;case W.ECI_CHARSET:G.getCharacterSetECIByValue(n[l++]);break;case W.ECI_GENERAL_PURPOSE:l+=2;break;case W.ECI_USER_DEFINED:l++;break;case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=W.decodeMacroBlock(n,l,d);break;case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:throw new V;default:l--,l=W.textCompaction(n,l,o);break}if(l<n.length)u=n[l++];else throw V.getFormatInstance()}if(o.length()===0)throw V.getFormatInstance();let h=new mi(null,o.toString(),null,r);return h.setOther(d),h}static decodeMacroBlock(n,r,o){if(r+W.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw V.getFormatInstance();let s=new Int32Array(W.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<W.NUMBER_OF_SEQUENCE_CODEWORDS;d++,r++)s[d]=n[r];o.setSegmentIndex(M.parseInt(W.decodeBase900toBase10(s,W.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Ie;r=W.textCompaction(n,r,l),o.setFileId(l.toString());let u=-1;for(n[r]===W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<n[0];)switch(n[r]){case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,n[r]){case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new Ie;r=W.textCompaction(n,r+1,d),o.setFileName(d.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new Ie;r=W.textCompaction(n,r+1,h),o.setSender(h.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new Ie;r=W.textCompaction(n,r+1,p),o.setAddressee(p.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new Ie;r=W.numericCompaction(n,r+1,y),o.setSegmentCount(M.parseInt(y.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new Ie;r=W.numericCompaction(n,r+1,C),o.setTimestamp(x1.parseLong(C.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let S=new Ie;r=W.numericCompaction(n,r+1,S),o.setChecksum(M.parseInt(S.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let T=new Ie;r=W.numericCompaction(n,r+1,T),o.setFileSize(x1.parseLong(T.toString()));break;default:throw V.getFormatInstance()}break;case W.MACRO_PDF417_TERMINATOR:r++,o.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(u!==-1){let d=r-u;o.isLastSegment()&&d--,o.setOptionalData(N.copyOfRange(n,u,u+d))}return r}static textCompaction(n,r,o){let s=new Int32Array((n[0]-r)*2),l=new Int32Array((n[0]-r)*2),u=0,d=!1;for(;r<n[0]&&!d;){let h=n[r++];if(h<W.TEXT_COMPACTION_MODE_LATCH)s[u]=h/30,s[u+1]=h%30,u+=2;else switch(h){case W.TEXT_COMPACTION_MODE_LATCH:s[u++]=W.TEXT_COMPACTION_MODE_LATCH;break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:r--,d=!0;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[u]=W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=n[r++],l[u]=h,u++;break}}return W.decodeTextCompaction(s,l,u,o),r}static decodeTextCompaction(n,r,o,s){let l=at.ALPHA,u=at.ALPHA,d=0;for(;d<o;){let h=n[d],p="";switch(l){case at.ALPHA:if(h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case W.LL:l=at.LOWER;break;case W.ML:l=at.MIXED;break;case W.PS:u=l,l=at.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=at.ALPHA;break}break;case at.LOWER:if(h<26)p=String.fromCharCode(97+h);else switch(h){case 26:p=" ";break;case W.AS:u=l,l=at.ALPHA_SHIFT;break;case W.ML:l=at.MIXED;break;case W.PS:u=l,l=at.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=at.ALPHA;break}break;case at.MIXED:if(h<W.PL)p=W.MIXED_CHARS[h];else switch(h){case W.PL:l=at.PUNCT;break;case 26:p=" ";break;case W.LL:l=at.LOWER;break;case W.AL:l=at.ALPHA;break;case W.PS:u=l,l=at.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=at.ALPHA;break}break;case at.PUNCT:if(h<W.PAL)p=W.PUNCT_CHARS[h];else switch(h){case W.PAL:l=at.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=at.ALPHA;break}break;case at.ALPHA_SHIFT:if(l=u,h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case W.TEXT_COMPACTION_MODE_LATCH:l=at.ALPHA;break}break;case at.PUNCT_SHIFT:if(l=u,h<W.PAL)p=W.PUNCT_CHARS[h];else switch(h){case W.PAL:l=at.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=at.ALPHA;break}break}p!==""&&s.append(p),d++}}static byteCompaction(n,r,o,s,l){let u=new dg,d=0,h=0,p=!1;switch(n){case W.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),C=r[s++];for(;s<r[0]&&!p;)switch(y[d++]=C,h=900*h+C,C=r[s++],C){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:s--,p=!0;break;default:if(d%5===0&&d>0){for(let S=0;S<6;++S)u.write(Number(Wr(h)>>Wr(8*(5-S))));h=0,d=0}break}s===r[0]&&C<W.TEXT_COMPACTION_MODE_LATCH&&(y[d++]=C);for(let S=0;S<d;S++)u.write(y[S]);break;case W.BYTE_COMPACTION_MODE_LATCH_6:for(;s<r[0]&&!p;){let S=r[s++];if(S<W.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+S;else switch(S){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:s--,p=!0;break}if(d%5===0&&d>0){for(let T=0;T<6;++T)u.write(Number(Wr(h)>>Wr(8*(5-T))));h=0,d=0}}break}return l.append(we.decode(u.toByteArray(),o)),s}static numericCompaction(n,r,o){let s=0,l=!1,u=new Int32Array(W.MAX_NUMERIC_CODEWORDS);for(;r<n[0]&&!l;){let d=n[r++];if(r===n[0]&&(l=!0),d<W.TEXT_COMPACTION_MODE_LATCH)u[s]=d,s++;else switch(d){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(s%W.MAX_NUMERIC_CODEWORDS===0||d===W.NUMERIC_COMPACTION_MODE_LATCH||l)&&s>0&&(o.append(W.decodeBase900toBase10(u,s)),s=0)}return r}static decodeBase900toBase10(n,r){let o=Wr(0);for(let l=0;l<r;l++)o+=W.EXP900[r-l-1]*Wr(n[l]);let s=o.toString();if(s.charAt(0)!=="1")throw new V;return s.substring(1)}}W.TEXT_COMPACTION_MODE_LATCH=900,W.BYTE_COMPACTION_MODE_LATCH=901,W.NUMERIC_COMPACTION_MODE_LATCH=902,W.BYTE_COMPACTION_MODE_LATCH_6=924,W.ECI_USER_DEFINED=925,W.ECI_GENERAL_PURPOSE=926,W.ECI_CHARSET=927,W.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,W.MACRO_PDF417_TERMINATOR=922,W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,W.MAX_NUMERIC_CODEWORDS=15,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,W.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,W.PL=25,W.LL=27,W.AS=27,W.ML=28,W.AL=28,W.PS=29,W.PAL=29,W.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,W.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",W.EXP900=w1()?hg():[],W.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ze{constructor(){}static decode(n,r,o,s,l,u,d){let h=new Ei(n,r,o,s,l),p=null,y=null,C;for(let b=!0;;b=!1){if(r!=null&&(p=ze.getRowIndicatorColumn(n,h,r,!0,u,d)),s!=null&&(y=ze.getRowIndicatorColumn(n,h,s,!1,u,d)),C=ze.merge(p,y),C==null)throw X.getNotFoundInstance();let k=C.getBoundingBox();if(b&&k!=null&&(k.getMinY()<h.getMinY()||k.getMaxY()>h.getMaxY()))h=k;else break}C.setBoundingBox(h);let S=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,p),C.setDetectionResultColumn(S,y);let T=p!=null;for(let b=1;b<=S;b++){let k=T?b:S-b;if(C.getDetectionResultColumn(k)!==void 0)continue;let z;k===0||k===S?z=new g1(h,k===0):z=new Uo(h),C.setDetectionResultColumn(k,z);let Y=-1,ne=Y;for(let re=h.getMinY();re<=h.getMaxY();re++){if(Y=ze.getStartColumn(C,k,re,T),Y<0||Y>h.getMaxX()){if(ne===-1)continue;Y=ne}let $=ze.detectCodeword(n,h.getMinX(),h.getMaxX(),T,Y,re,u,d);$!=null&&(z.setCodeword(re,$),ne=Y,u=Math.min(u,$.getWidth()),d=Math.max(d,$.getWidth()))}}return ze.createDecoderResult(C)}static merge(n,r){if(n==null&&r==null)return null;let o=ze.getBarcodeMetadata(n,r);if(o==null)return null;let s=Ei.merge(ze.adjustBoundingBox(n),ze.adjustBoundingBox(r));return new jo(o,s)}static adjustBoundingBox(n){if(n==null)return null;let r=n.getRowHeights();if(r==null)return null;let o=ze.getMax(r),s=0;for(let d of r)if(s+=o-d,d>0)break;let l=n.getCodewords();for(let d=0;s>0&&l[d]==null;d++)s--;let u=0;for(let d=r.length-1;d>=0&&(u+=o-r[d],!(r[d]>0));d--);for(let d=l.length-1;u>0&&l[d]==null;d--)u--;return n.getBoundingBox().addMissingRows(s,u,n.isLeft())}static getMax(n){let r=-1;for(let o of n)r=Math.max(r,o);return r}static getBarcodeMetadata(n,r){let o;if(n==null||(o=n.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let s;return r==null||(s=r.getBarcodeMetadata())==null?o:o.getColumnCount()!==s.getColumnCount()&&o.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&o.getRowCount()!==s.getRowCount()?null:o}static getRowIndicatorColumn(n,r,o,s,l,u){let d=new g1(r,s);for(let h=0;h<2;h++){let p=h===0?1:-1,y=Math.trunc(Math.trunc(o.getX()));for(let C=Math.trunc(Math.trunc(o.getY()));C<=r.getMaxY()&&C>=r.getMinY();C+=p){let S=ze.detectCodeword(n,0,n.getWidth(),s,y,C,l,u);S!=null&&(d.setCodeword(C,S),s?y=S.getStartX():y=S.getEndX())}}return d}static adjustCodewordCount(n,r){let o=r[0][1],s=o.getValue(),l=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-ze.getNumberOfECCodeWords(n.getBarcodeECLevel());if(s.length===0){if(l<1||l>Ne.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();o.setValue(l)}else s[0]!==l&&o.setValue(l)}static createDecoderResult(n){let r=ze.createBarcodeMatrix(n);ze.adjustCodewordCount(n,r);let o=new Array,s=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),l=[],u=new Array;for(let h=0;h<n.getBarcodeRowCount();h++)for(let p=0;p<n.getBarcodeColumnCount();p++){let y=r[h][p+1].getValue(),C=h*n.getBarcodeColumnCount()+p;y.length===0?o.push(C):y.length===1?s[C]=y[0]:(u.push(C),l.push(y))}let d=new Array(l.length);for(let h=0;h<d.length;h++)d[h]=l[h];return ze.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),s,Ne.toIntArray(o),Ne.toIntArray(u),d)}static createDecoderResultFromAmbiguousValues(n,r,o,s,l){let u=new Int32Array(s.length),d=100;for(;d-- >0;){for(let h=0;h<u.length;h++)r[s[h]]=l[h][u[h]];try{return ze.decodeCodewords(r,n,o)}catch(h){if(!(h instanceof U))throw h}if(u.length===0)throw U.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<l[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw U.getChecksumInstance()}throw U.getChecksumInstance()}static createBarcodeMatrix(n){let r=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let s=0;s<r.length;s++)for(let l=0;l<r[s].length;l++)r[s][l]=new zo;let o=0;for(let s of n.getDetectionResultColumns()){if(s!=null){for(let l of s.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][o].setValue(l.getValue())}}}o++}return r}static isValidBarcodeColumn(n,r){return r>=0&&r<=n.getBarcodeColumnCount()+1}static getStartColumn(n,r,o,s){let l=s?1:-1,u=null;if(ze.isValidBarcodeColumn(n,r-l)&&(u=n.getDetectionResultColumn(r-l).getCodeword(o)),u!=null)return s?u.getEndX():u.getStartX();if(u=n.getDetectionResultColumn(r).getCodewordNearby(o),u!=null)return s?u.getStartX():u.getEndX();if(ze.isValidBarcodeColumn(n,r-l)&&(u=n.getDetectionResultColumn(r-l).getCodewordNearby(o)),u!=null)return s?u.getEndX():u.getStartX();let d=0;for(;ze.isValidBarcodeColumn(n,r-l);){r-=l;for(let h of n.getDetectionResultColumn(r).getCodewords())if(h!=null)return(s?h.getEndX():h.getStartX())+l*d*(h.getEndX()-h.getStartX());d++}return s?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,r,o,s,l,u,d,h){l=ze.adjustCodewordStartColumn(n,r,o,s,l,u);let p=ze.getModuleBitCount(n,r,o,s,l,u);if(p==null)return null;let y,C=Ge.sum(p);if(s)y=l+C;else{for(let b=0;b<p.length/2;b++){let k=p[b];p[b]=p[p.length-1-b],p[p.length-1-b]=k}y=l,l=y-C}if(!ze.checkCodewordSkew(C,d,h))return null;let S=En.getDecodedValue(p),T=Ne.getCodeword(S);return T===-1?null:new Ho(l,y,ze.getCodewordBucketNumber(S),T)}static getModuleBitCount(n,r,o,s,l,u){let d=l,h=new Int32Array(8),p=0,y=s?1:-1,C=s;for(;(s?d<o:d>=r)&&p<h.length;)n.get(d,u)===C?(h[p]++,d+=y):(p++,C=!C);return p===h.length||d===(s?o:r)&&p===h.length-1?h:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,r,o,s,l,u){let d=l,h=s?-1:1;for(let p=0;p<2;p++){for(;(s?d>=r:d<o)&&s===n.get(d,u);){if(Math.abs(l-d)>ze.CODEWORD_SKEW_SIZE)return l;d+=h}h=-h,s=!s}return d}static checkCodewordSkew(n,r,o){return r-ze.CODEWORD_SKEW_SIZE<=n&&n<=o+ze.CODEWORD_SKEW_SIZE}static decodeCodewords(n,r,o){if(n.length===0)throw V.getFormatInstance();let s=1<<r+1,l=ze.correctErrors(n,o,s);ze.verifyCodewordCount(n,s);let u=W.decode(n,""+r);return u.setErrorsCorrected(l),u.setErasures(o.length),u}static correctErrors(n,r,o){if(r!=null&&r.length>o/2+ze.MAX_ERRORS||o<0||o>ze.MAX_EC_CODEWORDS)throw U.getChecksumInstance();return ze.errorCorrection.decode(n,o,r)}static verifyCodewordCount(n,r){if(n.length<4)throw V.getFormatInstance();let o=n[0];if(o>n.length)throw V.getFormatInstance();if(o===0)if(r<n.length)n[0]=n.length-r;else throw V.getFormatInstance()}static getBitCountForCodeword(n){let r=new Int32Array(8),o=0,s=r.length-1;for(;!((n&1)!==o&&(o=n&1,s--,s<0));)r[s]++,n>>=1;return r}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return ze.getCodewordBucketNumber(ze.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let r=new Fo;for(let o=0;o<n.length;o++){r.format("Row %2d: ",o);for(let s=0;s<n[o].length;s++){let l=n[o][s];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}ze.CODEWORD_SKEW_SIZE=2,ze.MAX_ERRORS=3,ze.MAX_EC_CODEWORDS=512,ze.errorCorrection=new h1;class Jt{decode(n,r=null){let o=Jt.decode(n,r,!1);if(o==null||o.length===0||o[0]==null)throw X.getNotFoundInstance();return o[0]}decodeMultiple(n,r=null){try{return Jt.decode(n,r,!0)}catch(o){throw o instanceof V||o instanceof U?X.getNotFoundInstance():o}}static decode(n,r,o){const s=new Array,l=Fe.detectMultiple(n,r,o);for(const u of l.getPoints()){const d=ze.decode(l.getBits(),u[4],u[5],u[6],u[7],Jt.getMinCodewordWidth(u),Jt.getMaxCodewordWidth(u)),h=new $e(d.getText(),d.getRawBytes(),void 0,u,he.PDF_417);h.putMetadata(ft.ERROR_CORRECTION_LEVEL,d.getECLevel());const p=d.getOther();p!=null&&h.putMetadata(ft.PDF417_EXTRA_METADATA,p),s.push(h)}return s.map(u=>u)}static getMaxWidth(n,r){return n==null||r==null?0:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMinWidth(n,r){return n==null||r==null?M.MAX_VALUE:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(Jt.getMaxWidth(n[0],n[4]),Jt.getMaxWidth(n[6],n[2])*Ne.MODULES_IN_CODEWORD/Ne.MODULES_IN_STOP_PATTERN),Math.max(Jt.getMaxWidth(n[1],n[5]),Jt.getMaxWidth(n[7],n[3])*Ne.MODULES_IN_CODEWORD/Ne.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(Jt.getMinWidth(n[0],n[4]),Jt.getMinWidth(n[6],n[2])*Ne.MODULES_IN_CODEWORD/Ne.MODULES_IN_STOP_PATTERN),Math.min(Jt.getMinWidth(n[1],n[5]),Jt.getMinWidth(n[7],n[3])*Ne.MODULES_IN_CODEWORD/Ne.MODULES_IN_STOP_PATTERN)))}reset(){}}class Qs extends x{}Qs.kind="ReaderException";class y1{constructor(n,r){this.verbose=n===!0,r&&this.setHints(r)}decode(n,r){return r&&this.setHints(r),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const r=!a(n)&&n.get(J.TRY_HARDER)===!0,o=a(n)?null:n.get(J.POSSIBLE_FORMATS),s=new Array;if(!a(o)){const l=o.some(u=>u===he.UPC_A||u===he.UPC_E||u===he.EAN_13||u===he.EAN_8||u===he.CODABAR||u===he.CODE_39||u===he.CODE_93||u===he.CODE_128||u===he.ITF||u===he.RSS_14||u===he.RSS_EXPANDED);l&&!r&&s.push(new Mn(n,this.verbose)),o.includes(he.QR_CODE)&&s.push(new Vr),o.includes(he.DATA_MATRIX)&&s.push(new Hr),o.includes(he.AZTEC)&&s.push(new yn),o.includes(he.PDF_417)&&s.push(new Jt),l&&r&&s.push(new Mn(n,this.verbose))}s.length===0&&(r||s.push(new Mn(n,this.verbose)),s.push(new Vr),s.push(new Hr),s.push(new yn),s.push(new Jt),r&&s.push(new Mn(n,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Qs("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(n,this.hints)}catch(o){if(o instanceof Qs)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class gg extends _t{constructor(n=null,r=500){const o=new y1;o.setHints(n),super(o,r)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class pg extends _t{constructor(n=500){super(new Jt,n)}}class xg extends _t{constructor(n=500){super(new Vr,n)}}var Nl;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(Nl||(Nl={}));var zt=Nl;class _l{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new on(n,Int32Array.from([1])))}buildGenerator(n){const r=this.cachedGenerators;if(n>=r.length){let o=r[r.length-1];const s=this.field;for(let l=r.length;l<=n;l++){const u=o.multiply(new on(s,Int32Array.from([1,s.exp(l-1+s.getGeneratorBase())])));r.push(u),o=u}}return r[n]}encode(n,r){if(r===0)throw new A("No error correction bytes");const o=n.length-r;if(o<=0)throw new A("No data bytes provided");const s=this.buildGenerator(r),l=new Int32Array(o);B.arraycopy(n,0,l,0,o);let u=new on(this.field,l);u=u.multiplyByMonomial(r,1);const h=u.divide(s)[1].getCoefficients(),p=r-h.length;for(let y=0;y<p;y++)n[o+y]=0;B.arraycopy(h,0,n,o+p,h.length)}}class Rt{constructor(){}static applyMaskPenaltyRule1(n){return Rt.applyMaskPenaltyRule1Internal(n,!0)+Rt.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let r=0;const o=n.getArray(),s=n.getWidth(),l=n.getHeight();for(let u=0;u<l-1;u++){const d=o[u];for(let h=0;h<s-1;h++){const p=d[h];p===d[h+1]&&p===o[u+1][h]&&p===o[u+1][h+1]&&r++}}return Rt.N2*r}static applyMaskPenaltyRule3(n){let r=0;const o=n.getArray(),s=n.getWidth(),l=n.getHeight();for(let u=0;u<l;u++)for(let d=0;d<s;d++){const h=o[u];d+6<s&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(Rt.isWhiteHorizontal(h,d-4,d)||Rt.isWhiteHorizontal(h,d+7,d+11))&&r++,u+6<l&&o[u][d]===1&&o[u+1][d]===0&&o[u+2][d]===1&&o[u+3][d]===1&&o[u+4][d]===1&&o[u+5][d]===0&&o[u+6][d]===1&&(Rt.isWhiteVertical(o,d,u-4,u)||Rt.isWhiteVertical(o,d,u+7,u+11))&&r++}return r*Rt.N3}static isWhiteHorizontal(n,r,o){r=Math.max(r,0),o=Math.min(o,n.length);for(let s=r;s<o;s++)if(n[s]===1)return!1;return!0}static isWhiteVertical(n,r,o,s){o=Math.max(o,0),s=Math.min(s,n.length);for(let l=o;l<s;l++)if(n[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let r=0;const o=n.getArray(),s=n.getWidth(),l=n.getHeight();for(let h=0;h<l;h++){const p=o[h];for(let y=0;y<s;y++)p[y]===1&&r++}const u=n.getHeight()*n.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*Rt.N4}static getDataMaskBit(n,r,o){let s,l;switch(n){case 0:s=o+r&1;break;case 1:s=o&1;break;case 2:s=r%3;break;case 3:s=(o+r)%3;break;case 4:s=Math.floor(o/2)+Math.floor(r/3)&1;break;case 5:l=o*r,s=(l&1)+l%3;break;case 6:l=o*r,s=(l&1)+l%3&1;break;case 7:l=o*r,s=l%3+(o+r&1)&1;break;default:throw new A("Invalid mask pattern: "+n)}return s===0}static applyMaskPenaltyRule1Internal(n,r){let o=0;const s=r?n.getHeight():n.getWidth(),l=r?n.getWidth():n.getHeight(),u=n.getArray();for(let d=0;d<s;d++){let h=0,p=-1;for(let y=0;y<l;y++){const C=r?u[d][y]:u[y][d];C===p?h++:(h>=5&&(o+=Rt.N1+(h-5)),h=1,p=C)}h>=5&&(o+=Rt.N1+(h-5))}return o}}Rt.N1=3,Rt.N2=3,Rt.N3=40,Rt.N4=10;class Ks{constructor(n,r){this.width=n,this.height=r;const o=new Array(r);for(let s=0;s!==r;s++)o[s]=new Uint8Array(n);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(n,r){return this.bytes[r][n]}getArray(){return this.bytes}setNumber(n,r,o){this.bytes[r][n]=o}setBoolean(n,r,o){this.bytes[r][n]=o?1:0}clear(n){for(const r of this.bytes)N.fill(r,n)}equals(n){if(!(n instanceof Ks))return!1;const r=n;if(this.width!==r.width||this.height!==r.height)return!1;for(let o=0,s=this.height;o<s;++o){const l=this.bytes[o],u=r.bytes[o];for(let d=0,h=this.width;d<h;++d)if(l[d]!==u[d])return!1}return!0}toString(){const n=new Ie;for(let r=0,o=this.height;r<o;++r){const s=this.bytes[r];for(let l=0,u=this.width;l<u;++l)switch(s[l]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class Ci{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new Ie;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<Ci.NUM_MASK_PATTERNS}}Ci.NUM_MASK_PATTERNS=8;class ut extends x{}ut.kind="WriterException";class Se{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,r,o,s,l){Se.clearMatrix(l),Se.embedBasicPatterns(o,l),Se.embedTypeInfo(r,s,l),Se.maybeEmbedVersionInfo(o,l),Se.embedDataBits(n,s,l)}static embedBasicPatterns(n,r){Se.embedPositionDetectionPatternsAndSeparators(r),Se.embedDarkDotAtLeftBottomCorner(r),Se.maybeEmbedPositionAdjustmentPatterns(n,r),Se.embedTimingPatterns(r)}static embedTypeInfo(n,r,o){const s=new F;Se.makeTypeInfoBits(n,r,s);for(let l=0,u=s.getSize();l<u;++l){const d=s.get(s.getSize()-1-l),h=Se.TYPE_INFO_COORDINATES[l],p=h[0],y=h[1];if(o.setBoolean(p,y,d),l<8){const C=o.getWidth()-l-1;o.setBoolean(C,8,d)}else{const S=o.getHeight()-7+(l-8);o.setBoolean(8,S,d)}}}static maybeEmbedVersionInfo(n,r){if(n.getVersionNumber()<7)return;const o=new F;Se.makeVersionInfoBits(n,o);let s=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){const d=o.get(s);s--,r.setBoolean(l,r.getHeight()-11+u,d),r.setBoolean(r.getHeight()-11+u,l,d)}}static embedDataBits(n,r,o){let s=0,l=-1,u=o.getWidth()-1,d=o.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);d>=0&&d<o.getHeight();){for(let h=0;h<2;++h){const p=u-h;if(!Se.isEmpty(o.get(p,d)))continue;let y;s<n.getSize()?(y=n.get(s),++s):y=!1,r!==255&&Rt.getDataMaskBit(r,p,d)&&(y=!y),o.setBoolean(p,d,y)}d+=l}l=-l,d+=l,u-=2}if(s!==n.getSize())throw new ut("Not all bits consumed: "+s+"/"+n.getSize())}static findMSBSet(n){return 32-M.numberOfLeadingZeros(n)}static calculateBCHCode(n,r){if(r===0)throw new A("0 polynomial");const o=Se.findMSBSet(r);for(n<<=o-1;Se.findMSBSet(n)>=o;)n^=r<<Se.findMSBSet(n)-o;return n}static makeTypeInfoBits(n,r,o){if(!Ci.isValidMaskPattern(r))throw new ut("Invalid mask pattern");const s=n.getBits()<<3|r;o.appendBits(s,5);const l=Se.calculateBCHCode(s,Se.TYPE_INFO_POLY);o.appendBits(l,10);const u=new F;if(u.appendBits(Se.TYPE_INFO_MASK_PATTERN,15),o.xor(u),o.getSize()!==15)throw new ut("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(n,r){r.appendBits(n.getVersionNumber(),6);const o=Se.calculateBCHCode(n.getVersionNumber(),Se.VERSION_INFO_POLY);if(r.appendBits(o,12),r.getSize()!==18)throw new ut("should not happen but we got: "+r.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let r=8;r<n.getWidth()-8;++r){const o=(r+1)%2;Se.isEmpty(n.get(r,6))&&n.setNumber(r,6,o),Se.isEmpty(n.get(6,r))&&n.setNumber(6,r,o)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new ut;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,r,o){for(let s=0;s<8;++s){if(!Se.isEmpty(o.get(n+s,r)))throw new ut;o.setNumber(n+s,r,0)}}static embedVerticalSeparationPattern(n,r,o){for(let s=0;s<7;++s){if(!Se.isEmpty(o.get(n,r+s)))throw new ut;o.setNumber(n,r+s,0)}}static embedPositionAdjustmentPattern(n,r,o){for(let s=0;s<5;++s){const l=Se.POSITION_ADJUSTMENT_PATTERN[s];for(let u=0;u<5;++u)o.setNumber(n+u,r+s,l[u])}}static embedPositionDetectionPattern(n,r,o){for(let s=0;s<7;++s){const l=Se.POSITION_DETECTION_PATTERN[s];for(let u=0;u<7;++u)o.setNumber(n+u,r+s,l[u])}}static embedPositionDetectionPatternsAndSeparators(n){const r=Se.POSITION_DETECTION_PATTERN[0].length;Se.embedPositionDetectionPattern(0,0,n),Se.embedPositionDetectionPattern(n.getWidth()-r,0,n),Se.embedPositionDetectionPattern(0,n.getWidth()-r,n);const o=8;Se.embedHorizontalSeparationPattern(0,o-1,n),Se.embedHorizontalSeparationPattern(n.getWidth()-o,o-1,n),Se.embedHorizontalSeparationPattern(0,n.getWidth()-o,n);const s=7;Se.embedVerticalSeparationPattern(s,0,n),Se.embedVerticalSeparationPattern(n.getHeight()-s-1,0,n),Se.embedVerticalSeparationPattern(s,n.getHeight()-s,n)}static maybeEmbedPositionAdjustmentPatterns(n,r){if(n.getVersionNumber()<2)return;const o=n.getVersionNumber()-1,s=Se.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let l=0,u=s.length;l!==u;l++){const d=s[l];if(d>=0)for(let h=0;h!==u;h++){const p=s[h];p>=0&&Se.isEmpty(r.get(p,d))&&Se.embedPositionAdjustmentPattern(p-2,d-2,r)}}}}Se.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Se.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Se.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Se.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Se.VERSION_INFO_POLY=7973,Se.TYPE_INFO_POLY=1335,Se.TYPE_INFO_MASK_PATTERN=21522;class mg{constructor(n,r){this.dataBytes=n,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class mt{constructor(){}static calculateMaskPenalty(n){return Rt.applyMaskPenaltyRule1(n)+Rt.applyMaskPenaltyRule2(n)+Rt.applyMaskPenaltyRule3(n)+Rt.applyMaskPenaltyRule4(n)}static encode(n,r,o=null){let s=mt.DEFAULT_BYTE_MODE_ENCODING;const l=o!==null&&o.get(zt.CHARACTER_SET)!==void 0;l&&(s=o.get(zt.CHARACTER_SET).toString());const u=this.chooseMode(n,s),d=new F;if(u===Ae.BYTE&&(l||mt.DEFAULT_BYTE_MODE_ENCODING!==s)){const re=G.getCharacterSetECIByName(s);re!==void 0&&this.appendECI(re,d)}this.appendModeInfo(u,d);const h=new F;this.appendBytes(n,u,h,s);let p;if(o!==null&&o.get(zt.QR_VERSION)!==void 0){const re=Number.parseInt(o.get(zt.QR_VERSION).toString(),10);p=ye.getVersionForNumber(re);const $=this.calculateBitsNeeded(u,d,h,p);if(!this.willFit($,p,r))throw new ut("Data too big for requested version")}else p=this.recommendVersion(r,u,d,h);const y=new F;y.appendBitArray(d);const C=u===Ae.BYTE?h.getSizeInBytes():n.length;this.appendLengthInfo(C,p,u,y),y.appendBitArray(h);const S=p.getECBlocksForLevel(r),T=p.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(T,y);const b=this.interleaveWithECBytes(y,p.getTotalCodewords(),T,S.getNumBlocks()),k=new Ci;k.setECLevel(r),k.setMode(u),k.setVersion(p);const z=p.getDimensionForVersion(),Y=new Ks(z,z),ne=this.chooseMaskPattern(b,r,p,Y);return k.setMaskPattern(ne),Se.buildMatrix(b,r,p,ne,Y),k.setMatrix(Y),k}static recommendVersion(n,r,o,s){const l=this.calculateBitsNeeded(r,o,s,ye.getVersionForNumber(1)),u=this.chooseVersion(l,n),d=this.calculateBitsNeeded(r,o,s,u);return this.chooseVersion(d,n)}static calculateBitsNeeded(n,r,o,s){return r.getSize()+n.getCharacterCountBits(s)+o.getSize()}static getAlphanumericCode(n){return n<mt.ALPHANUMERIC_TABLE.length?mt.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,r=null){if(G.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(n))return Ae.KANJI;let o=!1,s=!1;for(let l=0,u=n.length;l<u;++l){const d=n.charAt(l);if(mt.isDigit(d))o=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)s=!0;else return Ae.BYTE}return s?Ae.ALPHANUMERIC:o?Ae.NUMERIC:Ae.BYTE}static isOnlyDoubleByteKanji(n){let r;try{r=we.encode(n,G.SJIS)}catch{return!1}const o=r.length;if(o%2!==0)return!1;for(let s=0;s<o;s+=2){const l=r[s]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(n,r,o,s){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let d=0;d<Ci.NUM_MASK_PATTERNS;d++){Se.buildMatrix(n,r,o,d,s);let h=this.calculateMaskPenalty(s);h<l&&(l=h,u=d)}return u}static chooseVersion(n,r){for(let o=1;o<=40;o++){const s=ye.getVersionForNumber(o);if(mt.willFit(n,s,r))return s}throw new ut("Data too big")}static willFit(n,r,o){const s=r.getTotalCodewords(),u=r.getECBlocksForLevel(o).getTotalECCodewords(),d=s-u,h=(n+7)/8;return d>=h}static terminateBits(n,r){const o=n*8;if(r.getSize()>o)throw new ut("data bits cannot fit in the QR Code"+r.getSize()+" > "+o);for(let u=0;u<4&&r.getSize()<o;++u)r.appendBit(!1);const s=r.getSize()&7;if(s>0)for(let u=s;u<8;u++)r.appendBit(!1);const l=n-r.getSizeInBytes();for(let u=0;u<l;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==o)throw new ut("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,r,o,s,l,u){if(s>=o)throw new ut("Block ID too large");const d=n%o,h=o-d,p=Math.floor(n/o),y=p+1,C=Math.floor(r/o),S=C+1,T=p-C,b=y-S;if(T!==b)throw new ut("EC bytes mismatch");if(o!==h+d)throw new ut("RS blocks mismatch");if(n!==(C+T)*h+(S+b)*d)throw new ut("Total bytes mismatch");s<h?(l[0]=C,u[0]=T):(l[0]=S,u[0]=b)}static interleaveWithECBytes(n,r,o,s){if(n.getSizeInBytes()!==o)throw new ut("Number of bits and data bytes does not match");let l=0,u=0,d=0;const h=new Array;for(let y=0;y<s;++y){const C=new Int32Array(1),S=new Int32Array(1);mt.getNumDataBytesAndNumECBytesForBlockID(r,o,s,y,C,S);const T=C[0],b=new Uint8Array(T);n.toBytes(8*l,b,0,T);const k=mt.generateECBytes(b,S[0]);h.push(new mg(b,k)),u=Math.max(u,T),d=Math.max(d,k.length),l+=C[0]}if(o!==l)throw new ut("Data bytes does not match offset");const p=new F;for(let y=0;y<u;++y)for(const C of h){const S=C.getDataBytes();y<S.length&&p.appendBits(S[y],8)}for(let y=0;y<d;++y)for(const C of h){const S=C.getErrorCorrectionBytes();y<S.length&&p.appendBits(S[y],8)}if(r!==p.getSizeInBytes())throw new ut("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(n,r){const o=n.length,s=new Int32Array(o+r);for(let u=0;u<o;u++)s[u]=n[u]&255;new _l(Ze.QR_CODE_FIELD_256).encode(s,r);const l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=s[o+u];return l}static appendModeInfo(n,r){r.appendBits(n.getBits(),4)}static appendLengthInfo(n,r,o,s){const l=o.getCharacterCountBits(r);if(n>=1<<l)throw new ut(n+" is bigger than "+((1<<l)-1));s.appendBits(n,l)}static appendBytes(n,r,o,s){switch(r){case Ae.NUMERIC:mt.appendNumericBytes(n,o);break;case Ae.ALPHANUMERIC:mt.appendAlphanumericBytes(n,o);break;case Ae.BYTE:mt.append8BitBytes(n,o,s);break;case Ae.KANJI:mt.appendKanjiBytes(n,o);break;default:throw new ut("Invalid mode: "+r)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const r=mt.getDigit(n);return r>=0&&r<=9}static appendNumericBytes(n,r){const o=n.length;let s=0;for(;s<o;){const l=mt.getDigit(n.charAt(s));if(s+2<o){const u=mt.getDigit(n.charAt(s+1)),d=mt.getDigit(n.charAt(s+2));r.appendBits(l*100+u*10+d,10),s+=3}else if(s+1<o){const u=mt.getDigit(n.charAt(s+1));r.appendBits(l*10+u,7),s+=2}else r.appendBits(l,4),s++}}static appendAlphanumericBytes(n,r){const o=n.length;let s=0;for(;s<o;){const l=mt.getAlphanumericCode(n.charCodeAt(s));if(l===-1)throw new ut;if(s+1<o){const u=mt.getAlphanumericCode(n.charCodeAt(s+1));if(u===-1)throw new ut;r.appendBits(l*45+u,11),s+=2}else r.appendBits(l,6),s++}}static append8BitBytes(n,r,o){let s;try{s=we.encode(n,o)}catch(l){throw new ut(l)}for(let l=0,u=s.length;l!==u;l++){const d=s[l];r.appendBits(d,8)}}static appendKanjiBytes(n,r){let o;try{o=we.encode(n,G.SJIS)}catch(l){throw new ut(l)}const s=o.length;for(let l=0;l<s;l+=2){const u=o[l]&255,d=o[l+1]&255,h=u<<8&4294967295|d;let p=-1;if(h>=33088&&h<=40956?p=h-33088:h>=57408&&h<=60351&&(p=h-49472),p===-1)throw new ut("Invalid byte sequence");const y=(p>>8)*192+(p&255);r.appendBits(y,13)}}static appendECI(n,r){r.appendBits(Ae.ECI.getBits(),4),r.appendBits(n.getValue(),8)}}mt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),mt.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class Ai{write(n,r,o,s=null){if(n.length===0)throw new A("Found empty contents");if(r<0||o<0)throw new A("Requested dimensions are too small: "+r+"x"+o);let l=ht.L,u=Ai.QUIET_ZONE_SIZE;s!==null&&(s.get(zt.ERROR_CORRECTION)!==void 0&&(l=ht.fromString(s.get(zt.ERROR_CORRECTION).toString())),s.get(zt.MARGIN)!==void 0&&(u=Number.parseInt(s.get(zt.MARGIN).toString(),10)));const d=mt.encode(n,l,s);return this.renderResult(d,r,o,u)}writeToDom(n,r,o,s,l=null){typeof n=="string"&&(n=document.querySelector(n));const u=this.write(r,o,s,l);n&&n.appendChild(u)}renderResult(n,r,o,s){const l=n.getMatrix();if(l===null)throw new Zt;const u=l.getWidth(),d=l.getHeight(),h=u+s*2,p=d+s*2,y=Math.max(r,h),C=Math.max(o,p),S=Math.min(Math.floor(y/h),Math.floor(C/p)),T=Math.floor((y-u*S)/2),b=Math.floor((C-d*S)/2),k=this.createSVGElement(y,C);for(let z=0,Y=b;z<d;z++,Y+=S)for(let ne=0,re=T;ne<u;ne++,re+=S)if(l.get(ne,z)===1){const $=this.createSvgRectElement(re,Y,S,S);k.appendChild($)}return k}createSVGElement(n,r){const o=document.createElementNS(Ai.SVG_NS,"svg");return o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",r.toString()),o}createSvgRectElement(n,r,o,s){const l=document.createElementNS(Ai.SVG_NS,"rect");return l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",o.toString()),l.setAttributeNS(null,"width",s.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Ai.QUIET_ZONE_SIZE=4,Ai.SVG_NS="http://www.w3.org/2000/svg";class Xi{encode(n,r,o,s,l){if(n.length===0)throw new A("Found empty contents");if(r!==he.QR_CODE)throw new A("Can only encode QR_CODE, but got "+r);if(o<0||s<0)throw new A(`Requested dimensions are too small: ${o}x${s}`);let u=ht.L,d=Xi.QUIET_ZONE_SIZE;l!==null&&(l.get(zt.ERROR_CORRECTION)!==void 0&&(u=ht.fromString(l.get(zt.ERROR_CORRECTION).toString())),l.get(zt.MARGIN)!==void 0&&(d=Number.parseInt(l.get(zt.MARGIN).toString(),10)));const h=mt.encode(n,u,l);return Xi.renderResult(h,o,s,d)}static renderResult(n,r,o,s){const l=n.getMatrix();if(l===null)throw new Zt;const u=l.getWidth(),d=l.getHeight(),h=u+s*2,p=d+s*2,y=Math.max(r,h),C=Math.max(o,p),S=Math.min(Math.floor(y/h),Math.floor(C/p)),T=Math.floor((y-u*S)/2),b=Math.floor((C-d*S)/2),k=new Le(y,C);for(let z=0,Y=b;z<d;z++,Y+=S)for(let ne=0,re=T;ne<u;ne++,re+=S)l.get(ne,z)===1&&k.setRegion(re,Y,S,S);return k}}Xi.QUIET_ZONE_SIZE=4;class wg{encode(n,r,o,s,l){let u;switch(r){case he.QR_CODE:u=new Xi;break;default:throw new A("No encoder available for format "+r)}return u.encode(n,r,o,s,l)}}class dr extends ae{constructor(n,r,o,s,l,u,d,h){if(super(u,d),this.yuvData=n,this.dataWidth=r,this.dataHeight=o,this.left=s,this.top=l,s+u>r||l+d>o)throw new A("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,d)}getRow(n,r){if(n<0||n>=this.getHeight())throw new A("Requested row is outside the image: "+n);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const s=(n+this.top)*this.dataWidth+this.left;return B.arraycopy(this.yuvData,s,r,0,o),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;const o=n*r,s=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return B.arraycopy(this.yuvData,l,s,0,o),s;for(let u=0;u<r;u++){const d=u*n;B.arraycopy(this.yuvData,l,s,d,n),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(n,r,o,s){return new dr(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,o,s,!1)}renderThumbnail(){const n=this.getWidth()/dr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/dr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(n*r),s=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const d=u*n;for(let h=0;h<n;h++){const p=s[l+h*dr.THUMBNAIL_SCALE_FACTOR]&255;o[d+h]=4278190080|p*65793}l+=this.dataWidth*dr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/dr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/dr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,r){const o=this.yuvData;for(let s=0,l=this.top*this.dataWidth+this.left;s<r;s++,l+=this.dataWidth){const u=l+n/2;for(let d=l,h=l+n-1;d<u;d++,h--){const p=o[d];o[d]=o[h],o[h]=p}}}invert(){return new fe(this)}}dr.THUMBNAIL_SCALE_FACTOR=2;class Ml extends ae{constructor(n,r,o,s,l,u,d){if(super(r,o),this.dataWidth=s,this.dataHeight=l,this.left=u,this.top=d,n.BYTES_PER_ELEMENT===4){const h=r*o,p=new Uint8ClampedArray(h);for(let y=0;y<h;y++){const C=n[y],S=C>>16&255,T=C>>7&510,b=C&255;p[y]=(S+T+b)/4&255}this.luminances=p}else this.luminances=n;if(s===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=o),u===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+o>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(n,r){if(n<0||n>=this.getHeight())throw new A("Requested row is outside the image: "+n);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const s=(n+this.top)*this.dataWidth+this.left;return B.arraycopy(this.luminances,s,r,0,o),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;const o=n*r,s=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return B.arraycopy(this.luminances,l,s,0,o),s;for(let u=0;u<r;u++){const d=u*n;B.arraycopy(this.luminances,l,s,d,n),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(n,r,o,s){return new Ml(this.luminances,o,s,this.dataWidth,this.dataHeight,this.left+n,this.top+r)}invert(){return new fe(this)}}class E1 extends G{static forName(n){return this.getCharacterSetECIByName(n)}}class Rl{}Rl.ISO_8859_1=G.ISO8859_1;class C1{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class A1{static singletonList(n){return[n]}static min(n,r){return n.sort(r)[0]}}class yg{constructor(n){this.previous=n}getPrevious(){return this.previous}}class Zi extends yg{constructor(n,r,o){super(n),this.value=r,this.bitCount=o}appendTo(n,r){n.appendBits(this.value,this.bitCount)}add(n,r){return new Zi(this,n,r)}addBinaryShift(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Zi(this,n,r)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+M.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class Dl extends Zi{constructor(n,r,o){super(n,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=o}appendTo(n,r){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+o],8)}addBinaryShift(n,r){return new Dl(this,n,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Eg(E,n,r){return new Dl(E,n,r)}function Vo(E,n,r){return new Zi(E,n,r)}const Cg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Gr=0,qs=1,Wn=2,v1=3,hr=4,Ag=new Zi(null,0,0),Ol=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function vg(E){for(let n of E)N.fill(n,-1);return E[Gr][hr]=0,E[qs][hr]=0,E[qs][Gr]=28,E[v1][hr]=0,E[Wn][hr]=0,E[Wn][Gr]=15,E}const S1=vg(N.createInt32Array(6,6));class gr{constructor(n,r,o,s){this.token=n,this.mode=r,this.binaryShiftByteCount=o,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,r){let o=this.bitCount,s=this.token;if(n!==this.mode){let u=Ol[this.mode][n];s=Vo(s,u&65535,u>>16),o+=u>>16}let l=n===Wn?4:5;return s=Vo(s,r,l),new gr(s,n,0,o+l)}shiftAndAppend(n,r){let o=this.token,s=this.mode===Wn?4:5;return o=Vo(o,S1[this.mode][n],s),o=Vo(o,r,5),new gr(o,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(n){let r=this.token,o=this.mode,s=this.bitCount;if(this.mode===hr||this.mode===Wn){let d=Ol[o][Gr];r=Vo(r,d&65535,d>>16),s+=d>>16,o=Gr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new gr(r,o,this.binaryShiftByteCount+1,s+l);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(n+1)),u}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Eg(r,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new gr(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let r=this.bitCount+(Ol[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?r+=gr.calculateBinaryShiftCost(n)-gr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(r+=10),r<=n.bitCount}toBitArray(n){let r=[];for(let s=this.endBinaryShift(n.length).token;s!==null;s=s.getPrevious())r.unshift(s);let o=new F;for(const s of r)s.appendTo(o,n);return o}toString(){return ce.format("%s bits=%d bytes=%d",Cg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}gr.INITIAL_STATE=new gr(Ag,Gr,0,0);function Sg(E){const n=ce.getCharCode(" "),r=ce.getCharCode("."),o=ce.getCharCode(",");E[Gr][n]=1;const s=ce.getCharCode("Z"),l=ce.getCharCode("A");for(let S=l;S<=s;S++)E[Gr][S]=S-l+2;E[qs][n]=1;const u=ce.getCharCode("z"),d=ce.getCharCode("a");for(let S=d;S<=u;S++)E[qs][S]=S-d+2;E[Wn][n]=1;const h=ce.getCharCode("9"),p=ce.getCharCode("0");for(let S=p;S<=h;S++)E[Wn][S]=S-p+2;E[Wn][o]=12,E[Wn][r]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let S=0;S<y.length;S++)E[v1][ce.getCharCode(y[S])]=S;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let S=0;S<C.length;S++)ce.getCharCode(C[S])>0&&(E[hr][ce.getCharCode(C[S])]=S);return E}const bl=Sg(N.createInt32Array(5,256));class Wo{constructor(n){this.text=n}encode(){const n=ce.getCharCode(" "),r=ce.getCharCode(`
`);let o=A1.singletonList(gr.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,d=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ce.getCharCode("\r"):u=d===r?2:0;break;case ce.getCharCode("."):u=d===n?3:0;break;case ce.getCharCode(","):u=d===n?4:0;break;case ce.getCharCode(":"):u=d===n?5:0;break;default:u=0}u>0?(o=Wo.updateStateListForPair(o,l,u),l++):o=this.updateStateListForChar(o,l)}return A1.min(o,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,r){const o=[];for(let s of n)this.updateStateForChar(s,r,o);return Wo.simplifyStates(o)}updateStateForChar(n,r,o){let s=this.text[r]&255,l=bl[n.getMode()][s]>0,u=null;for(let d=0;d<=hr;d++){let h=bl[d][s];if(h>0){if(u==null&&(u=n.endBinaryShift(r)),!l||d===n.getMode()||d===Wn){const p=u.latchAndAppend(d,h);o.push(p)}if(!l&&S1[n.getMode()][d]>=0){const p=u.shiftAndAppend(d,h);o.push(p)}}}if(n.getBinaryShiftByteCount()>0||bl[n.getMode()][s]===0){let d=n.addBinaryShiftChar(r);o.push(d)}}static updateStateListForPair(n,r,o){const s=[];for(let l of n)this.updateStateForPair(l,r,o,s);return this.simplifyStates(s)}static updateStateForPair(n,r,o,s){let l=n.endBinaryShift(r);if(s.push(l.latchAndAppend(hr,o)),n.getMode()!==hr&&s.push(l.shiftAndAppend(hr,o)),o===3||o===4){let u=l.latchAndAppend(Wn,16-o).latchAndAppend(Wn,1);s.push(u)}if(n.getBinaryShiftByteCount()>0){let u=n.addBinaryShiftChar(r).addBinaryShiftChar(r+1);s.push(u)}}static simplifyStates(n){let r=[];for(const o of n){let s=!0;for(const l of r){if(l.isBetterThanOrEqualTo(o)){s=!1;break}o.isBetterThanOrEqualTo(l)&&(r=r.filter(u=>u!==l))}s&&r.push(o)}return r}}class Qe{constructor(){}static encodeBytes(n){return Qe.encode(n,Qe.DEFAULT_EC_PERCENT,Qe.DEFAULT_AZTEC_LAYERS)}static encode(n,r,o){let s=new Wo(n).encode(),l=M.truncDivision(s.getSize()*r,100)+11,u=s.getSize()+l,d,h,p,y,C;if(o!==Qe.DEFAULT_AZTEC_LAYERS){if(d=o<0,h=Math.abs(o),h>(d?Qe.MAX_NB_BITS_COMPACT:Qe.MAX_NB_BITS))throw new A(ce.format("Illegal value %s for layers",o));p=Qe.totalBitsInLayer(h,d),y=Qe.WORD_SIZE[h];let $=p-p%y;if(C=Qe.stuffBits(s,y),C.getSize()+l>$)throw new A("Data to large for user specified layer");if(d&&C.getSize()>y*64)throw new A("Data to large for user specified layer")}else{y=0,C=null;for(let $=0;;$++){if($>Qe.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(d=$<=3,h=d?$+1:$,p=Qe.totalBitsInLayer(h,d),u>p)continue;(C==null||y!==Qe.WORD_SIZE[h])&&(y=Qe.WORD_SIZE[h],C=Qe.stuffBits(s,y));let We=p-p%y;if(!(d&&C.getSize()>y*64)&&C.getSize()+l<=We)break}}let S=Qe.generateCheckWords(C,p,y),T=C.getSize()/y,b=Qe.generateModeMessage(d,h,T),k=(d?11:14)+h*4,z=new Int32Array(k),Y;if(d){Y=k;for(let $=0;$<z.length;$++)z[$]=$}else{Y=k+1+2*M.truncDivision(M.truncDivision(k,2)-1,15);let $=M.truncDivision(k,2),We=M.truncDivision(Y,2);for(let be=0;be<$;be++){let Cn=be+M.truncDivision(be,15);z[$-be-1]=We-Cn-1,z[$+be]=We+Cn+1}}let ne=new Le(Y);for(let $=0,We=0;$<h;$++){let be=(h-$)*4+(d?9:12);for(let Cn=0;Cn<be;Cn++){let er=Cn*2;for(let An=0;An<2;An++)S.get(We+er+An)&&ne.set(z[$*2+An],z[$*2+Cn]),S.get(We+be*2+er+An)&&ne.set(z[$*2+Cn],z[k-1-$*2-An]),S.get(We+be*4+er+An)&&ne.set(z[k-1-$*2-An],z[k-1-$*2-Cn]),S.get(We+be*6+er+An)&&ne.set(z[k-1-$*2-Cn],z[$*2+An])}We+=be*8}if(Qe.drawModeMessage(ne,d,Y,b),d)Qe.drawBullsEye(ne,M.truncDivision(Y,2),5);else{Qe.drawBullsEye(ne,M.truncDivision(Y,2),7);for(let $=0,We=0;$<M.truncDivision(k,2)-1;$+=15,We+=16)for(let be=M.truncDivision(Y,2)&1;be<Y;be+=2)ne.set(M.truncDivision(Y,2)-We,be),ne.set(M.truncDivision(Y,2)+We,be),ne.set(be,M.truncDivision(Y,2)-We),ne.set(be,M.truncDivision(Y,2)+We)}let re=new C1;return re.setCompact(d),re.setSize(Y),re.setLayers(h),re.setCodeWords(T),re.setMatrix(ne),re}static drawBullsEye(n,r,o){for(let s=0;s<o;s+=2)for(let l=r-s;l<=r+s;l++)n.set(l,r-s),n.set(l,r+s),n.set(r-s,l),n.set(r+s,l);n.set(r-o,r-o),n.set(r-o+1,r-o),n.set(r-o,r-o+1),n.set(r+o,r-o),n.set(r+o,r-o+1),n.set(r+o,r+o-1)}static generateModeMessage(n,r,o){let s=new F;return n?(s.appendBits(r-1,2),s.appendBits(o-1,6),s=Qe.generateCheckWords(s,28,4)):(s.appendBits(r-1,5),s.appendBits(o-1,11),s=Qe.generateCheckWords(s,40,4)),s}static drawModeMessage(n,r,o,s){let l=M.truncDivision(o,2);if(r)for(let u=0;u<7;u++){let d=l-3+u;s.get(u)&&n.set(d,l-5),s.get(u+7)&&n.set(l+5,d),s.get(20-u)&&n.set(d,l+5),s.get(27-u)&&n.set(l-5,d)}else for(let u=0;u<10;u++){let d=l-5+u+M.truncDivision(u,5);s.get(u)&&n.set(d,l-7),s.get(u+10)&&n.set(l+7,d),s.get(29-u)&&n.set(d,l+7),s.get(39-u)&&n.set(l-7,d)}}static generateCheckWords(n,r,o){let s=n.getSize()/o,l=new _l(Qe.getGF(o)),u=M.truncDivision(r,o),d=Qe.bitsToWords(n,o,u);l.encode(d,u-s);let h=r%o,p=new F;p.appendBits(0,h);for(const y of Array.from(d))p.appendBits(y,o);return p}static bitsToWords(n,r,o){let s=new Int32Array(o),l,u;for(l=0,u=n.getSize()/r;l<u;l++){let d=0;for(let h=0;h<r;h++)d|=n.get(l*r+h)?1<<r-h-1:0;s[l]=d}return s}static getGF(n){switch(n){case 4:return Ze.AZTEC_PARAM;case 6:return Ze.AZTEC_DATA_6;case 8:return Ze.AZTEC_DATA_8;case 10:return Ze.AZTEC_DATA_10;case 12:return Ze.AZTEC_DATA_12;default:throw new A("Unsupported word size "+n)}}static stuffBits(n,r){let o=new F,s=n.getSize(),l=(1<<r)-2;for(let u=0;u<s;u+=r){let d=0;for(let h=0;h<r;h++)(u+h>=s||n.get(u+h))&&(d|=1<<r-1-h);(d&l)===l?(o.appendBits(d&l,r),u--):d&l?o.appendBits(d,r):(o.appendBits(d|1,r),u--)}return o}static totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}Qe.DEFAULT_EC_PERCENT=33,Qe.DEFAULT_AZTEC_LAYERS=0,Qe.MAX_NB_BITS=32,Qe.MAX_NB_BITS_COMPACT=4,Qe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Js{encode(n,r,o,s){return this.encodeWithHints(n,r,o,s,null)}encodeWithHints(n,r,o,s,l){let u=Rl.ISO_8859_1,d=Qe.DEFAULT_EC_PERCENT,h=Qe.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(zt.CHARACTER_SET)&&(u=E1.forName(l.get(zt.CHARACTER_SET).toString())),l.has(zt.ERROR_CORRECTION)&&(d=M.parseInt(l.get(zt.ERROR_CORRECTION).toString())),l.has(zt.AZTEC_LAYERS)&&(h=M.parseInt(l.get(zt.AZTEC_LAYERS).toString()))),Js.encodeLayers(n,r,o,s,u,d,h)}static encodeLayers(n,r,o,s,l,u,d){if(r!==he.AZTEC)throw new A("Can only encode AZTEC, but got "+r);let h=Qe.encode(ce.getBytes(n,l),u,d);return Js.renderResult(h,o,s)}static renderResult(n,r,o){let s=n.getMatrix();if(s==null)throw new Zt;let l=s.getWidth(),u=s.getHeight(),d=Math.max(r,l),h=Math.max(o,u),p=Math.min(d/l,h/u),y=(d-l*p)/2,C=(h-u*p)/2,S=new Le(d,h);for(let T=0,b=C;T<u;T++,b+=p)for(let k=0,z=y;k<l;k++,z+=p)s.get(k,T)&&S.setRegion(z,b,p,p);return S}}i.AbstractExpandedDecoder=de,i.ArgumentException=v,i.ArithmeticException=ji,i.AztecCode=C1,i.AztecCodeReader=yn,i.AztecCodeWriter=Js,i.AztecDecoder=Xe,i.AztecDetector=$n,i.AztecDetectorResult=Ws,i.AztecEncoder=Qe,i.AztecHighLevelEncoder=Wo,i.AztecPoint=Ft,i.BarcodeFormat=he,i.Binarizer=H,i.BinaryBitmap=_,i.BitArray=F,i.BitMatrix=Le,i.BitSource=Kt,i.BrowserAztecCodeReader=Gs,i.BrowserBarcodeReader=jn,i.BrowserCodeReader=_t,i.BrowserDatamatrixCodeReader=rg,i.BrowserMultiFormatReader=gg,i.BrowserPDF417Reader=pg,i.BrowserQRCodeReader=xg,i.BrowserQRCodeSvgWriter=Ai,i.CharacterSetECI=G,i.ChecksumException=U,i.Code128Reader=ie,i.Code39Reader=st,i.DataMatrixDecodedBitStreamParser=Vt,i.DataMatrixReader=Hr,i.DecodeHintType=J,i.DecoderResult=mi,i.DefaultGridSampler=Fr,i.DetectorResult=Vi,i.EAN13Reader=cr,i.EncodeHintType=zt,i.Exception=x,i.FormatException=V,i.GenericGF=Ze,i.GenericGFPoly=on,i.GlobalHistogramBinarizer=qe,i.GridSampler=Oo,i.GridSamplerInstance=Jn,i.HTMLCanvasElementLuminanceSource=ve,i.HybridBinarizer=Te,i.ITFReader=et,i.IllegalArgumentException=A,i.IllegalStateException=Zt,i.InvertedLuminanceSource=fe,i.LuminanceSource=ae,i.MathUtils=Ge,i.MultiFormatOneDReader=Mn,i.MultiFormatReader=y1,i.MultiFormatWriter=wg,i.NotFoundException=X,i.OneDReader=pt,i.PDF417DecodedBitStreamParser=W,i.PDF417DecoderErrorCorrection=h1,i.PDF417Reader=Jt,i.PDF417ResultMetadata=p1,i.PerspectiveTransform=Qt,i.PlanarYUVLuminanceSource=dr,i.QRCodeByteMatrix=Ks,i.QRCodeDataMask=Hn,i.QRCodeDecodedBitStreamParser=vt,i.QRCodeDecoderErrorCorrectionLevel=ht,i.QRCodeDecoderFormatInformation=an,i.QRCodeEncoder=mt,i.QRCodeEncoderQRCode=Ci,i.QRCodeMaskUtil=Rt,i.QRCodeMatrixUtil=Se,i.QRCodeMode=Ae,i.QRCodeReader=Vr,i.QRCodeVersion=ye,i.QRCodeWriter=Xi,i.RGBLuminanceSource=Ml,i.RSS14Reader=rt,i.RSSExpandedReader=Z,i.ReaderException=Qs,i.ReedSolomonDecoder=Br,i.ReedSolomonEncoder=_l,i.ReedSolomonException=Mt,i.Result=$e,i.ResultMetadataType=ft,i.ResultPoint=xe,i.StringUtils=ce,i.UnsupportedOperationException=se,i.VideoInputDevice=Je,i.WhiteRectangleDetector=qn,i.WriterException=ut,i.ZXingArrays=N,i.ZXingCharset=E1,i.ZXingInteger=M,i.ZXingStandardCharsets=Rl,i.ZXingStringBuilder=Ie,i.ZXingStringEncoding=we,i.ZXingSystem=B,i.createAbstractExpandedDecoder=Lt,Object.defineProperty(i,"__esModule",{value:!0})})})(sc,sc.exports);var yt=sc.exports;const Vm=lc(yt),Wm=ac({__proto__:null,default:Vm},[yt]);var a0=function(){function e(t,i,a){if(this.formatMap=new Map([[ge.QR_CODE,yt.BarcodeFormat.QR_CODE],[ge.AZTEC,yt.BarcodeFormat.AZTEC],[ge.CODABAR,yt.BarcodeFormat.CODABAR],[ge.CODE_39,yt.BarcodeFormat.CODE_39],[ge.CODE_93,yt.BarcodeFormat.CODE_93],[ge.CODE_128,yt.BarcodeFormat.CODE_128],[ge.DATA_MATRIX,yt.BarcodeFormat.DATA_MATRIX],[ge.MAXICODE,yt.BarcodeFormat.MAXICODE],[ge.ITF,yt.BarcodeFormat.ITF],[ge.EAN_13,yt.BarcodeFormat.EAN_13],[ge.EAN_8,yt.BarcodeFormat.EAN_8],[ge.PDF_417,yt.BarcodeFormat.PDF_417],[ge.RSS_14,yt.BarcodeFormat.RSS_14],[ge.RSS_EXPANDED,yt.BarcodeFormat.RSS_EXPANDED],[ge.UPC_A,yt.BarcodeFormat.UPC_A],[ge.UPC_E,yt.BarcodeFormat.UPC_E],[ge.UPC_EAN_EXTENSION,yt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Wm)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=a;var c=this.createZXingFormats(t),f=new Map;f.set(yt.DecodeHintType.POSSIBLE_FORMATS,c),f.set(yt.DecodeHintType.TRY_HARDER,!1),this.hints=f}return e.prototype.decodeAsync=function(t){var i=this;return new Promise(function(a,c){try{a(i.decode(t))}catch(f){c(f)}})},e.prototype.decode=function(t){var i=new yt.MultiFormatReader(this.verbose,this.hints),a=new yt.HTMLCanvasElementLuminanceSource(t),c=new yt.BinaryBitmap(new yt.HybridBinarizer(a)),f=i.decode(c);return{text:f.text,format:Kh.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,a,c){t.set(i,a)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var i=[],a=0,c=t;a<c.length;a++){var f=c[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Gm=function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(v){try{x(a.next(v))}catch(A){g(A)}}function w(v){try{x(a.throw(v))}catch(A){g(A)}}function x(v){v.done?f(v.value):c(v.value).then(m,w)}x((a=a.apply(e,t||[])).next())})},Ym=function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(v){return w([x,v])}}function w(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(v){x=[6,v],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},l0=function(){function e(t,i,a){if(this.formatMap=new Map([[ge.QR_CODE,"qr_code"],[ge.AZTEC,"aztec"],[ge.CODABAR,"codabar"],[ge.CODE_39,"code_39"],[ge.CODE_93,"code_93"],[ge.CODE_128,"code_128"],[ge.DATA_MATRIX,"data_matrix"],[ge.ITF,"itf"],[ge.EAN_13,"ean_13"],[ge.EAN_8,"ean_8"],[ge.PDF_417,"pdf417"],[ge.UPC_A,"upc_a"],[ge.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=a;var c=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Gm(this,void 0,void 0,function(){var i,a;return Ym(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(t)];case 1:if(i=c.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(i),[2,{text:a.rawValue,format:Kh.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var i=null,a=0,c=0,f=t;c<f.length;c++){var g=f[c],m=g.boundingBox.width*g.boundingBox.height;m>a&&(a=m,i=g)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(t){for(var i=[],a=0,c=t;a<c.length;a++){var f=c[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,a,c){t.set(i,a)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),u0=function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(v){try{x(a.next(v))}catch(A){g(A)}}function w(v){try{x(a.throw(v))}catch(A){g(A)}}function x(v){v.done?f(v.value):c(v.value).then(m,w)}x((a=a.apply(e,t||[])).next())})},c0=function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(v){return w([x,v])}}function w(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(v){x=[6,v],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Xm=function(){function e(t,i,a,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,i&&l0.isSupported()?(this.primaryDecoder=new l0(t,a,c),this.secondaryDecoder=new a0(t,a,c)):this.primaryDecoder=new a0(t,a,c)}return e.prototype.decodeAsync=function(t){return u0(this,void 0,void 0,function(){var i;return c0(this,function(a){switch(a.label){case 0:i=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return u0(this,void 0,void 0,function(){var i,a;return c0(this,function(c){switch(c.label){case 0:i=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,c.sent()];case 3:if(a=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var i=performance.now()-t;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,i=0,a=this.executionResults;i<a.length;i++){var c=a[i];t+=c}var f=t/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),c1=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function a(){this.constructor=t}t.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),rl=function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(v){try{x(a.next(v))}catch(A){g(A)}}function w(v){try{x(a.throw(v))}catch(A){g(A)}}function x(v){v.done?f(v.value):c(v.value).then(m,w)}x((a=a.apply(e,t||[])).next())})},il=function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(v){return w([x,v])}}function w(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(v){x=[6,v],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},eg=function(){function e(t,i){this.name=t,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var i={};i[this.name]=t;var a={advanced:[i]};return this.track.applyConstraints(a)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var i=t[this.name];return i}return null},e}(),Zm=function(e){c1(t,e);function t(i,a){return e.call(this,i,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(i){var a={};a[this.name]=i;var c={advanced:[a]};return this.track.applyConstraints(c)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),a=i[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(eg),Qm=function(e){c1(t,e);function t(i){return e.call(this,"zoom",i)||this}return t}(Zm),Km=function(e){c1(t,e);function t(i){return e.call(this,"torch",i)||this}return t}(eg),qm=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Qm(this.track)},e.prototype.torchFeature=function(){return new Km(this.track)},e}(),Jm=function(){function e(t,i,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=i,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var i=document.createElement("video");return i.style.width="".concat(t,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var a=t.surface.clientWidth,c=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,c),t.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,i,a,c){return rl(this,void 0,void 0,function(){var f,g;return il(this,function(m){switch(m.label){case 0:return f=new e(t,i,c),a.aspectRatio?(g={aspectRatio:a.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:m.sent(),m.label=2;case 2:return f.setupSurface(),[2,f]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var i=this,a=function(){setTimeout(t,200),i.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return rl(this,void 0,void 0,function(){return il(this,function(i){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(i,a){var c=t.mediaStream.getVideoTracks(),f=c.length,g=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++g,g>=f&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),i())})})},e.prototype.getCapabilities=function(){return new qm(this.getFirstTrackOrFail())},e}(),$m=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,i,a){return rl(this,void 0,void 0,function(){return il(this,function(c){return[2,Jm.create(t,this.mediaStream,i,a)]})})},e.create=function(t){return rl(this,void 0,void 0,function(){var i,a;return il(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return a=c.sent(),[2,new e(a)]}})})},e}(),f0=function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(v){try{x(a.next(v))}catch(A){g(A)}}function w(v){try{x(a.throw(v))}catch(A){g(A)}}function x(v){v.done?f(v.value):c(v.value).then(m,w)}x((a=a.apply(e,t||[])).next())})},d0=function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(v){return w([x,v])}}function w(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(v){x=[6,v],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},ew=function(){function e(){}return e.failIfNotSupported=function(){return f0(this,void 0,void 0,function(){return d0(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return f0(this,void 0,void 0,function(){return d0(this,function(i){return[2,$m.create(t)]})})},e}(),tw=function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(v){try{x(a.next(v))}catch(A){g(A)}}function w(v){try{x(a.throw(v))}catch(A){g(A)}}function x(v){v.done?f(v.value):c(v.value).then(m,w)}x((a=a.apply(e,t||[])).next())})},nw=function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(v){return w([x,v])}}function w(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(v){x=[6,v],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},rw=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=ho.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=ho.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return tw(this,void 0,void 0,function(){var t,i,a,c,f,g,m;return nw(this,function(w){switch(w.label){case 0:return t=function(x){for(var v=x.getVideoTracks(),A=0,_=v;A<_.length;A++){var U=_[A];U.enabled=!1,U.stop(),x.removeTrack(U)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=w.sent(),c=[],f=0,g=a;f<g.length;f++)m=g[f],m.kind==="videoinput"&&c.push({id:m.deviceId,label:m.label});return t(i),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,i){var a=function(f){for(var g=[],m=0,w=f;m<w.length;m++){var x=w[m];x.kind==="video"&&g.push({id:x.id,label:x.label})}t(g)},c=MediaStreamTrack;c.getSources(a)})},e}(),Dt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Dt||(Dt={}));var iw=function(){function e(){this.state=Dt.NOT_STARTED,this.onGoingTransactionNewState=Dt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Dt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Dt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Dt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Dt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Dt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Dt.UNKNOWN:throw"Transition from unknown is not allowed";case Dt.NOT_STARTED:this.failIfNewStateIs(t,[Dt.PAUSED]);break;case Dt.SCANNING:break;case Dt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,i){for(var a=0,c=i;a<c.length;a++){var f=c[a];if(t===f)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),ow=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Dt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Dt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Dt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Dt.PAUSED},e}(),sw=function(){function e(){}return e.create=function(){return new ow(new iw)},e}(),aw=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function a(){this.constructor=t}t.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),Dn=function(e){aw(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(or),lw=function(){function e(t,i){this.logger=i,this.fps=Dn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Dn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?$h.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!mr(this.qrbox)},e.create=function(t,i){return new e(t,i)},e}(),h0=function(){function e(t,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof i=="boolean"?this.verbose=i===!0:i&&(a=i,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new Jh(this.verbose),this.qrcode=new Xm(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=sw.create()}return e.prototype.start=function(t,i,a,c){var f=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;c?g=c:g=this.verbose?this.logger.log:function(){};var m=lw.create(i,this.logger);this.clearElement();var w=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=w,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:Dn.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var A=this,_=this.stateManagerProxy.startTransition(Dt.SCANNING);return new Promise(function(U,H){var B=x?m.videoConstraints:A.createVideoConstraints(t);if(!B){_.cancel(),H("videoConstraints should be defined");return}var K={};(!x||m.aspectRatio)&&(K.aspectRatio=m.aspectRatio);var D={onRenderSurfaceReady:function(N,M){A.setupUi(N,M,m),A.isScanning=!0,A.foreverScan(m,a,g)}};ew.failIfNotSupported().then(function(N){N.create(B).then(function(M){return M.render(f.element,K,D).then(function(F){A.renderedCamera=F,_.execute(),U(null)}).catch(function(F){_.cancel(),H(F)})}).catch(function(M){_.cancel(),H(ho.errorGettingUserMedia(M))})}).catch(function(N){_.cancel(),H(ho.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Dt.PAUSED),this.showPausedState(),(mr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,i=function(){t.stateManagerProxy.directTransition(Dt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(Dt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var f=document.getElementById(Dn.SHADED_REGION_ELEMENT_ID);f&&t.element.removeChild(f)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),a(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),i.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,i){return this.scanFileV2(t,i).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(t,i){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(mr(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,f){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var g=new Image;g.onload=function(){var m=g.width,w=g.height,x=document.getElementById(a.elementId),v=x.clientWidth?x.clientWidth:Dn.DEFAULT_WIDTH,A=Math.max(x.clientHeight?x.clientHeight:w,Dn.FILE_SCAN_MIN_HEIGHT),_=a.computeCanvasDrawConfig(m,w,v,A);if(i){var U=a.createCanvasElement(v,A,"qr-canvas-visible");U.style.display="inline-block",x.appendChild(U);var H=U.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=v,H.canvas.height=A,H.drawImage(g,0,0,m,w,_.x,_.y,_.width,_.height)}var B=Dn.FILE_SCAN_HIDDEN_CANVAS_PADDING,K=Math.max(g.width,_.width),D=Math.max(g.height,_.height),N=K+2*B,M=D+2*B,F=a.createCanvasElement(N,M);x.appendChild(F);var ee=F.getContext("2d");if(!ee)throw"Unable to get 2d context from canvas";ee.canvas.width=N,ee.canvas.height=M,ee.drawImage(g,0,0,m,w,B,B,K,D);try{a.qrcode.decodeRobustlyAsync(F).then(function(J){c(o0.createFromQrcodeResult(J))}).catch(f)}catch(J){f("QR code parse error, error = ".concat(J))}},g.onerror=f,g.onabort=f,g.onstalled=f,g.onsuspend=f,g.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return rw.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!$h.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var i=[ge.QR_CODE,ge.AZTEC,ge.CODABAR,ge.CODE_39,ge.CODE_93,ge.CODE_128,ge.DATA_MATRIX,ge.MAXICODE,ge.ITF,ge.EAN_13,ge.EAN_8,ge.PDF_417,ge.RSS_14,ge.RSS_EXPANDED,ge.UPC_A,ge.UPC_E,ge.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return i;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],c=0,f=t.formatsToSupport;c<f.length;c++){var g=f[c];jm(g)?a.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(mr(t))return!0;if(!mr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(mr(t.experimentalFeatures))return!0;var i=t.experimentalFeatures;return mr(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,i,a){var c=this,f=a.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(t,i,f),m=function(x){if(x<Dn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Dn.MIN_QR_BOX_SIZE,"px.")},w=function(x){return x>t&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};m(g.width),m(g.height),g.width=w(g.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,i,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,i)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return a},e.prototype.setupUi=function(t,i,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,i,a);var c=mr(a.qrbox)?{width:t,height:i}:a.qrbox;this.validateQrboxConfig(c);var f=this.toQrdimensions(t,i,c);f.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=a.isShadedBoxEnabled()&&f.height<=i,m={x:0,y:0,width:t,height:i},w=g?this.getShadedRegionBounds(t,i,f):m,x=this.createCanvasElement(w.width,w.height),v={willReadFrequently:!0},A=x.getContext("2d",v);A.canvas.width=w.width,A.canvas.height=w.height,this.element.append(x),g&&this.possiblyInsertShadingElement(this.element,t,i,f),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=A,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var i=document.createElement("div");i.innerText=ho.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",t.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(t,i){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return t(c.text,o0.createFromQrcodeResult(c)),a.possiblyUpdateShaders(!0),!0}).catch(function(c){a.possiblyUpdateShaders(!1);var f=ho.codeParseError(c);return i(f,qh.createFrom(f)),!1})},e.prototype.foreverScan=function(t,i,a){var c=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),g=f.videoWidth/f.clientWidth,m=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*g,x=this.qrRegion.height*m,v=this.qrRegion.x*g,A=this.qrRegion.y*m;this.context.drawImage(f,v,A,w,x,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(t,i,a)},c.getTimeoutFps(t.fps))};this.scanContext(i,a).then(function(U){!U&&t.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(i,a).finally(function(){_()})):_()}).catch(function(U){c.logger.logError("Error happend while scanning context",U),_()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var i="facingMode",a="deviceId",c={user:!0,environment:!0},f="exact",g=function(H){if(H in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(H,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var w=Object.keys(t)[0];if(w!==i&&w!==a)throw"Only '".concat(i,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(w===i){var x=t.facingMode;if(typeof x=="string"){if(g(x))return{facingMode:x}}else if(typeof x=="object")if(f in x){if(g(x["".concat(f)]))return{facingMode:{exact:x["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var v=typeof x;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var A=t.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(f in A)return{deviceId:{exact:A["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var _=typeof A;throw"Invalid type of 'deviceId' = ".concat(_)}}}var U=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(U)},e.prototype.computeCanvasDrawConfig=function(t,i,a,c){if(t<=a&&i<=c){var f=(a-t)/2,g=(c-i)/2;return{x:f,y:g,width:t,height:i}}else{var m=t,w=i;return t>a&&(i=a/t*i,t=a),i>c&&(t=c/i*t,i=c),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(w)+" to ".concat(t,"X").concat(i,".")),this.computeCanvasDrawConfig(t,i,a,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=t?Dn.BORDER_SHADER_MATCH_COLOR:Dn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,i,a){var c=t,f=i,g=document.createElement("canvas");return g.style.width="".concat(c,"px"),g.style.height="".concat(f,"px"),g.style.display="none",g.id=mr(a)?"qr-canvas":a,g},e.prototype.getShadedRegionBounds=function(t,i,a){if(a.width>t||a.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(i-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(t,i,a,c){if(!(i-c.width<1||a-c.height<1)){var f=document.createElement("div");f.style.position="absolute";var g=(i-c.width)/2,m=(a-c.height)/2;if(f.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(Dn.SHADED_REGION_ELEMENT_ID),i-c.width<11||a-c.height<11)this.hasBorderShaders=!1;else{var w=5,x=40;this.insertShaderBorders(f,x,w,-w,null,0,!0),this.insertShaderBorders(f,x,w,-w,null,0,!1),this.insertShaderBorders(f,x,w,null,-w,0,!0),this.insertShaderBorders(f,x,w,null,-w,0,!1),this.insertShaderBorders(f,w,x+w,-w,null,-w,!0),this.insertShaderBorders(f,w,x+w,null,-w,-w,!0),this.insertShaderBorders(f,w,x+w,-w,null,-w,!1),this.insertShaderBorders(f,w,x+w,null,-w,-w,!1),this.hasBorderShaders=!0}t.append(f)}},e.prototype.insertShaderBorders=function(t,i,a,c,f,g,m){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=Dn.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(i,"px"),w.style.height="".concat(a,"px"),c!==null&&(w.style.top="".concat(c,"px")),f!==null&&(w.style.bottom="".concat(f,"px")),m?w.style.left="".concat(g,"px"):w.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),t.appendChild(w)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),f1="data:image/svg+xml;base64,",uw=f1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",cw=f1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",g0=f1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",fw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",p0=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),dw=function(){function e(){this.data=p0.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=p0.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),hw=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=s0.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var a=document.createElement("br"),c=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(c);var f=document.createElement("a");f.innerText=s0.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),gw=function(){function e(t,i){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=i,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=g0,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return i.onHoverIn()},this.infoIcon.onmouseout=function(a){return i.onHoverOut()},this.infoIcon.onclick=function(a){return i.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=fw,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=g0,this.infoIcon.style.opacity="0.6")},e}(),pw=function(){function e(){var t=this;this.infoDiv=new hw,this.infoIcon=new gw(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),xw=function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(v){try{x(a.next(v))}catch(A){g(A)}}function w(v){try{x(a.throw(v))}catch(A){g(A)}}function x(v){v.done?f(v.value):c(v.value).then(m,w)}x((a=a.apply(e,t||[])).next())})},mw=function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(v){return w([x,v])}}function w(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(v){x=[6,v],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},x0=function(){function e(){}return e.hasPermissions=function(){return xw(this,void 0,void 0,function(){var t,i,a,c;return mw(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=f.sent(),i=0,a=t;i<a.length;i++)if(c=a[i],c.kind==="videoinput"&&c.label)return[2,!0];return[2,!1]}})})},e}(),Xr=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,i=this.supportedScanTypes;t<i.length;t++){var a=i[t];if(e.isCameraScanType(a))return!0}return!1},e.isCameraScanType=function(t){return t===fi.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===fi.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return or.DEFAULT_SUPPORTED_SCAN_TYPE;var i=or.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var a=0,c=t;a<c.length;a++){var f=c[a];if(!or.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return t},e}(),kn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Nr=function(){function e(){}return e.createElement=function(t,i){var a=document.createElement(t);return a.id=i,a.classList.add(kn.ALL_ELEMENT_CLASS),t==="button"&&a.setAttribute("type","button"),a},e}(),tg=function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(v){try{x(a.next(v))}catch(A){g(A)}}function w(v){try{x(a.throw(v))}catch(A){g(A)}}function x(v){v.done?f(v.value):c(v.value).then(m,w)}x((a=a.apply(e,t||[])).next())})},ng=function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(v){return w([x,v])}}function w(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(v){x=[6,v],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},m0=function(){function e(t,i,a){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=i,this.onTorchActionFailureCallback=a}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return tg(this,void 0,void 0,function(){var t,i;return ng(this,function(a){switch(a.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return i=a.sent(),this.propagateFailure(t,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,i){t===i?(this.buttonController.setText(i?it.torchOffButton():it.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},e.prototype.propagateFailure=function(t,i){var a=t?it.torchOnFailedMessage():it.torchOffFailedMessage();i&&(a+="; Error = "+i),this.onTorchActionFailureCallback(a)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),ww=function(){function e(t,i){this.onTorchActionFailureCallback=i,this.torchButton=Nr.createElement("button",kn.TORCH_BUTTON_ID),this.torchController=new m0(t,this,i)}return e.prototype.render=function(t,i){var a=this;this.torchButton.innerText=it.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var c=this;this.torchButton.addEventListener("click",function(f){return tg(a,void 0,void 0,function(){return ng(this,function(g){switch(g.label){case 0:return[4,c.torchController.flipState()];case 1:return g.sent(),c.torchController.isTorchEnabled()?(c.torchButton.classList.remove(kn.TORCH_BUTTON_CLASS_TORCH_OFF),c.torchButton.classList.add(kn.TORCH_BUTTON_CLASS_TORCH_ON)):(c.torchButton.classList.remove(kn.TORCH_BUTTON_CLASS_TORCH_ON),c.torchButton.classList.add(kn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new m0(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=it.torchOnButton(),this.torchController.reset()},e.create=function(t,i,a,c){var f=new e(i,c);return f.render(t,a),f},e}(),yw=function(){function e(t,i,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",t.appendChild(this.fileBasedScanRegion);var c=document.createElement("label");c.setAttribute("for",this.getFileScanInputId()),c.style.display="inline-block",this.fileBasedScanRegion.appendChild(c),this.fileSelectionButton=Nr.createElement("button",kn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(m){c.click()}),c.append(this.fileSelectionButton),this.fileScanInput=Nr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",c.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(m){if(!(m==null||m.target==null)){var w=m.target;if(!(w.files&&w.files.length===0)){var x=w.files,v=x[0],A=v.name;f.setImageNameToButton(A),a(v)}}});var g=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(g),this.fileBasedScanRegion.addEventListener("dragenter",function(m){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(m){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(m){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(m){m.stopPropagation(),m.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var w=m.dataTransfer;if(w){var x=w.files;if(!x||x.length===0)return;for(var v=!1,A=0;A<x.length;++A){var _=x.item(A);if(_){var U=/image.*/;if(_.type.match(U)){v=!0;var H=_.name;f.setImageNameToButton(H),a(_),g.innerText=it.dragAndDropMessage();break}}}v||(g.innerText=it.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=it.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var i=20;if(t.length>i){var a=t.substring(0,8),c=t.length,f=t.substring(c-8,c);t="".concat(a,"....").concat(f)}var g=it.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=g},e.prototype.setInitialValueToButton=function(){var t=it.fileSelectionChooseImage()+" - "+it.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,i,a){var c=new e(t,i,a);return c},e}(),Ew=function(){function e(t){this.selectElement=Nr.createElement("select",kn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var i=document.createElement("span");i.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)i.style.display="none";else{var c=it.selectCamera();i.innerText="".concat(c," (").concat(this.cameras.length,")  ")}for(var f=1,g=0,m=this.cameras;g<m.length;g++){var w=m[g],x=w.id,v=w.label==null?x:w.label;(!v||v==="")&&(v=[it.anonymousCameraPrefix(),f++].join(" "));var A=document.createElement("option");A.value=x,A.innerText=v,this.options.push(A),this.selectElement.appendChild(A)}i.appendChild(this.selectElement),t.appendChild(i)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var i=0,a=this.options;i<a.length;i++){var c=a[i];if(c.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,i){var a=new e(i);return a.render(t),a},e}(),Cw=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Nr.createElement("input",kn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=it.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var c=this;this.rangeInput.addEventListener("input",function(){return c.onValueChange()}),this.rangeInput.addEventListener("change",function(){return c.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=it.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,i,a,c){this.rangeInput.min=t.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=c.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,i){var a=new e;return a.render(t,i),a},e}(),On;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(On||(On={}));function Aw(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function vw(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Sw=function(){function e(t,i,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(i),this.verbose=a===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Xr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Jh(this.verbose),this.persistedDataManager=new dw,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,i){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,g){if(t)t(f,g);else{if(a.lastMatchFound===f)return;a.lastMatchFound=f,a.setHeaderMessage(it.lastMatch(f),On.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,g){i&&i(f,g)};var c=document.getElementById(this.elementId);if(!c)throw"HTML Element with id=".concat(this.elementId," not found");c.innerHTML="",this.createBasicLayout(c),this.html5Qrcode=new h0(this.getScanRegionId(),vw(this.config,this.verbose))},e.prototype.pause=function(t){(mr(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,i=function(){var a=document.getElementById(t.elementId);a&&(a.innerHTML="",t.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,c){if(!t.html5Qrcode){a();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(f){if(!t.html5Qrcode){a();return}t.html5Qrcode.clear(),i(),a()}).catch(function(f){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",f),c(f)}):(t.html5Qrcode.clear(),i(),a())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=or.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!or.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=or.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=or.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:or.SCAN_DEFAULT_FPS,rememberLastUsedCamera:or.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:or.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var i=document.createElement("div"),a=this.getScanRegionId();i.id=a,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",t.appendChild(i),Xr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var c=document.createElement("div"),f=this.getDashboardId();c.id=f,c.style.width="100%",t.appendChild(c),this.setupInitialDashboard(c)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",t.appendChild(i);var a=new pw;a.renderInto(i);var c=document.createElement("div");c.id=this.getHeaderMessageContainerId(),c.style.display="none",c.style.textAlign="center",c.style.fontSize="14px",c.style.padding="2px 10px",c.style.margin="4px",c.style.borderTop="1px solid #f6f6f6",i.appendChild(c)},e.prototype.createSection=function(t){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",t.appendChild(i)},e.prototype.createCameraListUi=function(t,i,a){var c=this;c.showHideScanTypeSwapLink(!1),c.setHeaderMessage(it.cameraPermissionRequesting());var f=function(){a||c.createPermissionButton(t,i)};h0.getCameras().then(function(g){c.persistedDataManager.setHasPermission(!0),c.showHideScanTypeSwapLink(!0),c.resetHeaderMessage(),g&&g.length>0?(t.removeChild(i),c.renderCameraSelection(g)):(c.setHeaderMessage(it.noCameraFound(),On.STATUS_WARNING),f())}).catch(function(g){c.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:f(),c.setHeaderMessage(g,On.STATUS_WARNING),c.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,i){var a=this,c=Nr.createElement("button",this.getCameraPermissionButtonId());c.innerText=it.cameraPermissionTitle(),c.addEventListener("click",function(){c.disabled=!0,a.createCameraListUi(t,i,c)}),i.appendChild(c)},e.prototype.createPermissionsUi=function(t,i){var a=this;if(Xr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){x0.hasPermissions().then(function(c){c?a.createCameraListUi(t,i):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,i))}).catch(function(c){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,i)});return}this.createPermissionButton(t,i)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");t.appendChild(i);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=Xr.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(a);var c=document.createElement("div");c.style.textAlign="center",a.appendChild(c),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,c),this.renderFileScanUi(i)},e.prototype.renderFileScanUi=function(t){var i=Xr.isFileScanType(this.currentScanType),a=this,c=function(f){if(!a.html5Qrcode)throw"html5Qrcode not defined";Xr.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(it.loadingImage()),a.html5Qrcode.scanFileV2(f,!0).then(function(g){a.resetHeaderMessage(),a.qrCodeSuccessCallback(g.decodedText,g)}).catch(function(g){a.setHeaderMessage(g,On.STATUS_WARNING),a.qrCodeErrorCallback(g,qh.createFrom(g))}))};this.fileSelectionUi=yw.create(t,i,c)},e.prototype.renderCameraSelection=function(t){var i=this,a=this,c=document.getElementById(this.getDashboardSectionCameraScanRegionId());c.style.textAlign="center";var f=Cw.create(c,!1),g=function(B){var K=B.zoomFeature();if(K.isSupported()){f.setOnCameraZoomValueChangeCallback(function(N){K.apply(N)});var D=1;i.config.defaultZoomValueIfSupported&&(D=i.config.defaultZoomValueIfSupported),D=Hm(D,K.min(),K.max()),f.setValues(K.min(),K.max(),D,K.step()),f.show()}},m=Ew.create(c,t),w=document.createElement("span"),x=Nr.createElement("button",kn.CAMERA_START_BUTTON_ID);x.innerText=it.scanButtonStartScanningText(),w.appendChild(x);var v=Nr.createElement("button",kn.CAMERA_STOP_BUTTON_ID);v.innerText=it.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,w.appendChild(v);var A,_=function(B){if(!B.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(B.torchFeature()):A=ww.create(w,B.torchFeature(),{display:"none",marginLeft:"5px"},function(K){a.setHeaderMessage(K,On.STATUS_WARNING)}),A.show()};c.appendChild(w);var U=function(B){B||(x.style.display="none"),x.innerText=it.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,B&&(x.style.display="inline-block")};if(x.addEventListener("click",function(B){x.innerText=it.scanButtonScanningStarting(),m.disable(),x.disabled=!0,x.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var K=m.getValue();a.persistedDataManager.setLastUsedCameraId(K),a.html5Qrcode.start(K,Aw(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(D){v.disabled=!1,v.style.display="inline-block",U(!1);var N=a.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&_(N),i.config.showZoomSliderIfSupported===!0&&g(N)}).catch(function(D){a.showHideScanTypeSwapLink(!0),m.enable(),U(!0),a.setHeaderMessage(D,On.STATUS_WARNING)})}),m.hasSingleItem()&&x.click(),v.addEventListener("click",function(B){if(!a.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,a.html5Qrcode.stop().then(function(K){i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),m.enable(),x.disabled=!1,v.style.display="none",x.style.display="inline-block",A&&(A.reset(),A.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(K){v.disabled=!1,a.setHeaderMessage(K,On.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var H=a.persistedDataManager.getLastUsedCameraId();m.hasValue(H)?(m.setValue(H),x.click()):a.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,i=it.textIfCameraScanSelected(),a=it.textIfFileScanSelected(),c=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var g=Nr.createElement("span",this.getDashboardSectionSwapLinkId());g.style.textDecoration="underline",g.style.cursor="pointer",g.innerText=Xr.isCameraScanType(this.currentScanType)?i:a,g.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Xr.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),g.innerText=a,t.currentScanType=fi.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),g.innerText=i,t.currentScanType=fi.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),f.appendChild(g),c.appendChild(f)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){x0.hasPermissions().then(function(a){if(a){var c=document.getElementById(i.getCameraPermissionButtonId());if(!c)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";c.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(a){i.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,i){i||(i=On.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=t,a.style.display="block",i){case On.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case On.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case On.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=uw,this.cameraScanImage.alt=it.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=cw,this.fileScanImage.alt=it.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return kn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return kn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function Iw(){const[e,t]=q.useState("");return q.useEffect(()=>{const i=(f,g)=>{t(f),console.log(`Code matched = ${f}`,g),c.clear()},a=f=>{console.warn(`Code scan error = ${f}`)},c=new Sw("scanner",{fps:10,qrbox:{width:250,height:250}},!1);return c.render(i,a),()=>{c.clear().catch(f=>{console.error("Error clearing scanner: ",f)})}},[]),le.jsxs("div",{children:[le.jsx("div",{id:"scanner"}),le.jsx("div",{className:"result",children:le.jsxs("h1",{children:["Result: ",e]})})]})}const uu=()=>le.jsxs("div",{className:"w-full p-6",children:[le.jsx(zm,{}),le.jsx("div",{className:"w-full p-50",children:le.jsx(Iw,{})}),le.jsx(pm,{})]});function w0(){const[e,t]=q.useState({name:"",position:"",level:""}),[i,a]=q.useState(!0),c=nm(),f=Wh();q.useEffect(()=>{async function w(){var _;const x=((_=c.id)==null?void 0:_.toString())||void 0;if(!x)return;a(!1);const v=await fetch(`http://localhost:5050/records/${c.id.toString()}`);if(!v.ok){const U=`An error has occurred: ${v.statusText}`;console.error(U);return}const A=await v.json();if(!A){console.warn(`Record with id ${x} not found`),f("/");return}t(A)}w()},[c.id,f]);function g(w){return t(x=>({...x,...w}))}async function m(w){w.preventDefault();const x={...e};try{let v;if(i?v=await fetch("http://localhost:5050/records",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}):v=await fetch(`http://localhost:5050/records/${c.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}),!v.ok)throw new Error(`HTTP error! status: ${v.status}`)}catch(v){console.error("A problem occurred with your fetch operation: ",v)}finally{t({name:"",position:"",level:""}),f("/")}}return le.jsxs(le.Fragment,{children:[le.jsx("h3",{className:"text-lg font-semibold p-4",children:"Create/Update Employee Record"}),le.jsxs("form",{onSubmit:m,className:"border rounded-lg overflow-hidden p-4",children:[le.jsxs("div",{className:"grid grid-cols-1 gap-x-8 gap-y-10 border-b border-slate-900/10 pb-12 md:grid-cols-2",children:[le.jsxs("div",{children:[le.jsx("h2",{className:"text-base font-semibold leading-7 text-slate-900",children:"Employee Info"}),le.jsx("p",{className:"mt-1 text-sm leading-6 text-slate-600",children:"This information will be displayed publicly so be careful what you share."})]}),le.jsxs("div",{className:"grid max-w-2xl grid-cols-1 gap-x-6 gap-y-8 ",children:[le.jsxs("div",{className:"sm:col-span-4",children:[le.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-slate-900",children:"Name"}),le.jsx("div",{className:"mt-2",children:le.jsx("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-slate-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md",children:le.jsx("input",{type:"text",name:"name",id:"name",className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-slate-900 placeholder:text-slate-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"First Last",value:e.name,onChange:w=>g({name:w.target.value})})})})]}),le.jsxs("div",{className:"sm:col-span-4",children:[le.jsx("label",{htmlFor:"position",className:"block text-sm font-medium leading-6 text-slate-900",children:"Position"}),le.jsx("div",{className:"mt-2",children:le.jsx("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-slate-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md",children:le.jsx("input",{type:"text",name:"position",id:"position",className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-slate-900 placeholder:text-slate-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Developer Advocate",value:e.position,onChange:w=>g({position:w.target.value})})})})]}),le.jsx("div",{children:le.jsxs("fieldset",{className:"mt-4",children:[le.jsx("legend",{className:"sr-only",children:"Position Options"}),le.jsx("div",{className:"space-y-4 sm:flex sm:items-center sm:space-x-10 sm:space-y-0",children:le.jsxs("div",{className:"flex items-center",children:[le.jsx("input",{id:"positionIntern",name:"positionOptions",type:"radio",value:"Intern",className:"h-4 w-4 border-slate-300 text-slate-600 focus:ring-slate-600 cursor-pointer",checked:e.level==="Intern",onChange:w=>g({level:w.target.value})}),le.jsx("label",{htmlFor:"positionIntern",className:"ml-3 block text-sm font-medium leading-6 text-slate-900 mr-4",children:"Intern"}),le.jsx("input",{id:"positionJunior",name:"positionOptions",type:"radio",value:"Junior",className:"h-4 w-4 border-slate-300 text-slate-600 focus:ring-slate-600 cursor-pointer",checked:e.level==="Junior",onChange:w=>g({level:w.target.value})}),le.jsx("label",{htmlFor:"positionJunior",className:"ml-3 block text-sm font-medium leading-6 text-slate-900 mr-4",children:"Junior"}),le.jsx("input",{id:"positionSenior",name:"positionOptions",type:"radio",value:"Senior",className:"h-4 w-4 border-slate-300 text-slate-600 focus:ring-slate-600 cursor-pointer",checked:e.level==="Senior",onChange:w=>g({level:w.target.value})}),le.jsx("label",{htmlFor:"positionSenior",className:"ml-3 block text-sm font-medium leading-6 text-slate-900 mr-4",children:"Senior"})]})})]})})]})]}),le.jsx("input",{type:"submit",value:"Save Employee Record",className:"inline-flex items-center justify-center whitespace-nowrap text-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-slate-100 hover:text-accent-foreground h-9 rounded-md px-3 cursor-pointer mt-4"})]})]})}const Tw=e=>le.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[le.jsx("td",{className:"p-4 align-middle [&:has([role=checkbox])]:pr-0",children:e.record.name}),le.jsx("td",{className:"p-4 align-middle [&:has([role=checkbox])]:pr-0",children:e.record.position}),le.jsx("td",{className:"p-4 align-middle [&:has([role=checkbox])]:pr-0",children:e.record.level}),le.jsx("td",{className:"p-4 align-middle [&:has([role=checkbox])]:pr-0",children:le.jsxs("div",{className:"flex gap-2",children:[le.jsx(Qh,{className:"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-slate-100 h-9 rounded-md px-3",to:`/edit/${e.record._id}`,children:"Edit"}),le.jsx("button",{className:"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-slate-100 hover:text-accent-foreground h-9 rounded-md px-3",color:"red",type:"button",onClick:()=>{e.deleteRecord(e.record._id)},children:"Delete"})]})})]});function Nw(){const[e,t]=q.useState([]);q.useEffect(()=>{async function c(){const f=await fetch("http://localhost:5050/records/");if(!f.ok){const m=`An error occurred: ${f.statusText}`;console.error(m);return}const g=await f.json();t(g)}c()},[e.length]);async function i(c){await fetch(`http://localhost:5050/records/${c}`,{method:"DELETE"});const f=e.filter(g=>g._id!==c);t(f)}function a(){return e.map(c=>le.jsx(Tw,{record:c,deleteRecord:()=>i(c._id)},c._id))}return le.jsxs(le.Fragment,{children:[le.jsx("h3",{className:"text-lg font-semibold p-4",children:"Employee Records"}),le.jsx("div",{className:"border rounded-lg overflow-hidden",children:le.jsx("div",{className:"relative w-full overflow-auto",children:le.jsxs("table",{className:"w-full caption-bottom text-sm",children:[le.jsx("thead",{className:"[&_tr]:border-b",children:le.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[le.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",children:"Name"}),le.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",children:"Position"}),le.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",children:"Level"}),le.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",children:"Action"})]})}),le.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:a()})]})})})]})}const _w=vm([{path:"/",element:le.jsx(uu,{}),children:[{path:"/",element:le.jsx(Nw,{})}]},{path:"/edit/:id",element:le.jsx(uu,{}),children:[{path:"/edit/:id",element:le.jsx(w0,{})}]},{path:"/create",element:le.jsx(uu,{}),children:[{path:"/create",element:le.jsx(w0,{})}]}]);Dh(document.getElementById("root")).render(le.jsx(q.StrictMode,{children:le.jsx(Dm,{router:_w})}));
